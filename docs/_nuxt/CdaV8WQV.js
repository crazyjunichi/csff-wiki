import{_ as E}from"./Bp6MQEQ_.js";import{_ as A}from"./Dmdp46Ac.js";import{f as h,c as o,F as s,r as p,k as q,o as n,j as l,b as t,d as y,t as S,a as R,w as j,x as N,i as f}from"./DMc1YXG1.js";import{_ as U}from"./Co6TFHP5.js";import{D as G}from"./BrN8_vfZ.js";import{_ as w}from"./BFB5gM7d.js";import{_ as H,a as Q}from"./C5e0k9hL.js";import{_ as z}from"./BazfCmUi.js";import{_ as J}from"./SpYVb7bQ.js";import{_ as K}from"./Nec6aC_p.js";import{g as W}from"./BgwrAg6A.js";import{_ as X}from"./BHShg9qk.js";import{s as Y}from"./BM28cybs.js";const Z={key:0,class:"mr-2"},x={key:0},ee=h({__name:"DurabilityConditions",props:{obj:{},card:{},prefix:{}},setup(r){const e=r,u={RequiredSpoilagePercent:"SpoilageTime",RequiredUsagePercent:"UsageDurability",RequiredFuelPercent:"FuelCapacity",RequiredProgressPercent:"Progress",RequiredSpecial1Percent:"SpecialDurability1",RequiredSpecial2Percent:"SpecialDurability2",RequiredSpecial3Percent:"SpecialDurability3",RequiredSpecial4Percent:"SpecialDurability4"},g=Object.keys(u);let C=0;function a(d){return e.card?e.card[u[d]]:null}function b(d,c){return{x:d.FloatValue*c,y:d.FloatValue>d.MaxValue?d.FloatValue*c:d.MaxValue*c}}return(d,c)=>(n(),o("span",null,[(n(!0),o(s,null,p(q(g),(_,D)=>(n(),o(s,null,[d.obj[_].Active?(n(),o("span",Z,[q(C)==0?(n(),o("span",x,S(d.prefix??""),1)):l("",!0),t(G,{"v-if":d.card,obj:a(_)},null,8,["v-if","obj"]),c[0]||(c[0]=y(" =")),t(U,{obj:b(d.obj[_],a(_).MaxValue),sign:!1,max:a(_).MaxValue},null,8,["obj","max"])])):l("",!0)],64))),256))]))}}),ne=Object.assign(ee,{__name:"DurabilityConditions"}),oe={key:0},re=h({__name:"CardOnBoardCondition",props:{obj:{},defaultText:{}},setup(r){const e=r;function u(){let a=e.obj;return!!(a.TriggerCard||a.TriggerTag)}function g(){let a=e.obj;return a.TriggerCard?a.TriggerCard:a.TriggerTag}function C(){let a=[];return e.obj.OnlyInHand&&a.push("在手牌中"),e.obj.NotInHand&&a.push("不在手牌中"),e.obj.ExcludeInventories&&a.push("不在任何库存中"),e.obj.OnlyEquipped&&a.push("已装备"),e.obj.Inverted&&a.push("不在场上"),a.join("/")}return(a,b)=>{const d=A;return u()?(n(),o("span",oe,[t(d,{obj:g()},null,8,["obj"]),y(" "+S(C()),1)])):l("",!0)}}}),te=Object.assign(re,{__name:"CardOnBoardCondition"}),ie={class:"textDurability"},ae=h({__name:"DurabilityInterpolatedStatModifier",props:{obj:{},card:{},joiner:{}},setup(r){return(e,u)=>{const g=K;return n(),o("span",null,[R("span",ie,S(q(W)(e.obj.InputDurability,e.card).CardStatName.Text),1),u[0]||(u[0]=y("为 ")),t(g,{obj:e.obj.Value,joiner:e.joiner,outputSign:!0},{default:j(()=>[N(e.$slots,"default")]),_:3},8,["obj","joiner"])])}}}),ue=Object.assign(ae,{__name:"DurabilityInterpolatedStatModifier"});function v(r){return r.RequiredSpoilagePercent.Active||r.RequiredUsagePercent.Active||r.RequiredFuelPercent.Active||r.RequiredProgressPercent.Active||r.RequiredLiquidQuantity>0||r.RequiredSpecial1Percent.Active||r.RequiredSpecial2Percent.Active||r.RequiredSpecial3Percent.Active||r.RequiredSpecial4Percent.Active}function le(r){return r.RequiredStatValues.length>0||r.RequiredCardsOnBoard.length>0||r.RequiredTagsOnBoard.length>0||r.RequiredReceivingContainer.length>0||r.RequiredReceivingContainerTag.length>0||v(r.RequiredReceivingContainerDurabilities)||v(r.RequiredReceivingDurabilities)||r.RequiredReceivingLiquidContent.IsActive}const de={class:"flex"},se={key:0,class:"gray-text"},ce={key:0},pe={key:1,class:"mr-2"},be={key:2},je={key:0},ge={key:1},_e={key:2},me={key:0},Re={key:1},Ce={key:4},fe={key:0},qe={class:"mr-2"},ye={key:7,class:"mt-2"},ve={key:0},he=h({__name:"CardActionContent",props:{obj:{},card:{},isTraveling:{type:Boolean}},setup(r){return(e,u)=>{var P,T,V,B,O,M,I;const g=E,C=te,a=ne,b=A,d=w,c=Y,_=H,D=z,$=J,F=ue,L=Q,k=X;return n(),o(s,null,[R("div",de,[q(le)(e.obj)?(n(),o("div",se,"条件：")):l("",!0),R("div",null,[e.obj.RequiredStatValues.length>0?(n(),o("div",ce,[(n(!0),o(s,null,p(e.obj.RequiredStatValues,i=>(n(),o("span",null,[t(g,{obj:i},null,8,["obj"])]))),256))])):l("",!0),e.obj.RequiredCardsOnBoard.length>0||e.obj.RequiredTagsOnBoard.length>0||e.obj.RequiredReceivingContainer.length>0?(n(),o("div",pe,[(n(!0),o(s,null,p(e.obj.RequiredCardsOnBoard,i=>(n(),o("span",null,[t(C,{obj:i},null,8,["obj"])]))),256)),(n(!0),o(s,null,p(e.obj.RequiredTagsOnBoard,i=>(n(),o("span",null,[t(C,{obj:i},null,8,["obj"])]))),256))])):l("",!0),q(v)(e.obj.RequiredReceivingDurabilities)?(n(),o("div",be,[t(a,{obj:e.obj.RequiredReceivingDurabilities,card:e.card},null,8,["obj","card"])])):l("",!0),(n(!0),o(s,null,p(e.obj.RequiredReceivingContainer.concat(e.obj.RequiredReceivingContainerTag),(i,m)=>(n(),o("div",null,[m==0?(n(),o("span",je,"需要容器：")):l("",!0),t(b,{obj:i},null,8,["obj"]),q(v)(e.obj.RequiredReceivingContainerDurabilities)?(n(),o("span",ge,[t(a,{obj:e.obj.RequiredReceivingContainerDurabilities,card:e.card},null,8,["obj","card"])])):l("",!0),e.obj.RequiredReceivingLiquidContent.IsActive&&(e.obj.RequiredReceivingLiquidContent.RequiredLiquid||e.obj.RequiredReceivingLiquidContent.RequiredGroup)?(n(),o("span",_e,[u[0]||(u[0]=R("span",null,"内部装有",-1)),t(b,{obj:e.obj.RequiredReceivingLiquidContent.RequiredLiquid},null,8,["obj"]),t(b,{obj:e.obj.RequiredReceivingLiquidContent.RequiredGroup},null,8,["obj"])])):l("",!0)]))),256))])]),e.obj.StatInterruptions.length>0?(n(),o("div",me,[e.obj.StatModifications.length>0?(n(),f(c,{key:0,legend:"被中断",collapsed:"",toggleable:""},{default:j(()=>[(n(!0),o(s,null,p(e.obj.StatInterruptions,(i,m)=>(n(),o("div",null,[t(b,{obj:i.Stat},null,8,["obj"]),t(d,{obj:i.TriggerRange},null,8,["obj"]),R("div",null," ▫️ "+S(i.Notification.Text),1)]))),256))]),_:1})):l("",!0)])):l("",!0),e.obj.ReceivingCardChanges.ModType>0?(n(),o("div",Re,[u[1]||(u[1]=R("span",{class:"gray-text"},"自身：",-1)),t(_,{obj:e.obj.ReceivingCardChanges,card:e.card},null,8,["obj","card"])])):l("",!0),e.obj.TravelToPreviousEnv?(n(),f(D,{key:2},{default:j(()=>u[2]||(u[2]=[y(" 回到前一地点 ")])),_:1})):l("",!0),e.obj.ReceivingCardFlavourBonus?(n(),f(D,{key:3,class:"textSpice"},{default:j(()=>u[3]||(u[3]=[y(" 获得风味奖励 ")])),_:1})):l("",!0),e.obj.BlueprintsFullUnlock.length>0?(n(),o("div",Ce,[u[4]||(u[4]=R("span",{class:"gray-text"},"解锁蓝图：",-1)),(n(!0),o(s,null,p(e.obj.BlueprintsFullUnlock,(i,m)=>(n(),o("span",null,[m>0?(n(),o("span",fe," / ")):l("",!0),t(b,{obj:i},null,8,["obj"])]))),256))])):l("",!0),e.obj.StatModifications.length>0||e.obj.InterpolatedStatModifications.length>0?(n(),f(c,{key:5,legend:"状态变化"},{default:j(()=>[(n(!0),o(s,null,p(e.obj.StatModifications,(i,m)=>(n(),o("span",qe,[t($,{obj:i},null,8,["obj"])]))),256)),(n(!0),o(s,null,p(e.obj.InterpolatedStatModifications,(i,m)=>(n(),o("div",null,[t(F,{obj:i,card:e.card,joiner:"时"},{default:j(()=>[t(b,{obj:i.OutputStat},null,8,["obj"])]),_:2},1032,["obj","card"])]))),256))]),_:1})):l("",!0),e.obj.ExtraDurabilityModifications.length>0?(n(),f(c,{key:6,legend:"属性修改"},{default:j(()=>[(n(!0),o(s,null,p(e.obj.ExtraDurabilityModifications,(i,m)=>(n(),o("div",null,[t(L,{obj:i},null,8,["obj"])]))),256))]),_:1})):l("",!0),e.isTraveling&&e.obj.ProducedCards.length==1&&((T=(P=e.obj.ProducedCards[0])==null?void 0:P.DroppedCards)==null?void 0:T.length)==1?(n(),o("div",ye,[u[5]||(u[5]=y(" 移动至： ")),t(b,{obj:(V=e.obj.ProducedCards[0].DroppedCards[0])==null?void 0:V.DroppedCard},null,8,["obj"])])):(n(),o(s,{key:8},[e.obj.ProducedCards.length>0?(n(),f(c,{key:0,legend:"掉落",toggleable:e.obj.ProducedCards.length>4||((O=(B=e.obj.ProducedCards[0])==null?void 0:B.DroppedCards)==null?void 0:O.length)>4,collapsed:e.obj.ProducedCards.length>4||((I=(M=e.obj.ProducedCards[0])==null?void 0:M.DroppedCards)==null?void 0:I.length)>4},{default:j(()=>[e.obj.ProducedCards.length==1?(n(),o("div",ve,[t(k,{obj:e.obj.ProducedCards[0],card:e.card,simplfy:!0},null,8,["obj","card"])])):(n(!0),o(s,{key:1},p(e.obj.ProducedCards,i=>(n(),o("span",null,[t(k,{obj:i,card:e.card},null,8,["obj","card"])]))),256))]),_:1},8,["toggleable","collapsed"])):l("",!0)],64))],64)}}}),Le=Object.assign(he,{__name:"CardActionContent"});export{Le as _,ne as a,v as i};
