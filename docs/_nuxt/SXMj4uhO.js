import{f as H,c as t,o as e,j as S,k as s,a as l,b as o,t as f,F as b,r as y,w as E,d as g,l as a,b1 as R,g as oe,u as le,i as ue,h as p}from"./B4l7yeGO.js";import{_ as ie}from"./CxTEr-n-.js";import{_ as Z}from"./C1UTsYSx.js";import{_ as de}from"./4q-GMR67.js";import{_ as ee}from"./Dl1bAnjr.js";import{_ as te}from"./CkrEV4Qn.js";import{_ as X}from"./i0dS2Ux_.js";import{_ as B}from"./BM_b8qaU.js";import{g as se,_ as ae,a as me}from"./UWS1ET3V.js";import{_ as _e}from"./BNw1NHY5.js";import{s as Y}from"./DaOKXBc6.js";import{_ as pe}from"./zIkkCMYk.js";import{s as fe}from"./DTxDVJT4.js";import{_ as ge}from"./BheWnx7M.js";import{i as c}from"./CCTKLA_0.js";import"./CvG5uvbI.js";import"./BBp6X3DC.js";const be={class:"text-attribute"},ye=H({__name:"NPCStatInstantModifier",props:{obj:{},npc:{}},setup(i){return(m,_)=>{var T;const V=B,u=_e;return e(),t("div",null,[m.obj.TargetAgent?(e(),S(V,{key:0,obj:m.obj.TargetAgent},null,8,["obj"])):s("",!0),l("span",be,f((T=m.obj.TargetStat)==null?void 0:T.name),1),o(u,{obj:m.obj.ValueChange,sign:!0},null,8,["obj"])])}}}),ne=Object.assign(ye,{__name:"NPCStatInstantModifier"});function re(i){switch(i){case 0:return"继续战斗";case 1:return"击败了对手";case 2:return"对手逃跑了";case 3:return"玩家逃跑了";case 4:return"Special1";case 5:return"Special2";case 6:return"Special3";case 7:return"Special4";case 8:return"玩家士气低落"}return""}function ve(i,...m){return i?typeof m[0]=="object"?i.replace(/{(\w+)}/g,(_,V)=>m[0][V]!="undefined"?m[0][V]:_):i.replace(/{(\d+)}/g,(_,V)=>typeof m[V]<"u"?m[V]:_):""}const Ve={class:"bg-current/5 p-1 mb-1"},Ee={class:"flex"},Me={class:"grow"},je={class:"mr-1"},Ae={key:0},he={class:"text-sm text-current/50"},ce={class:"mr-1"},Te={class:"mr-1"},We={key:0},Re={key:1},Pe={key:2},Ce={class:"mr-1"},Se={class:"text-right text-sm text-current/30"},ke=H({__name:"EnemyWound",props:{wound:{},level:{},encounter:{}},setup(i){return(m,_)=>{const V=ee,u=X,T=B,P=ae,N=Z,I=te,k=ne,j=Y;return e(),t("div",Ve,[l("div",Ee,[l("div",Me,[l("div",null,[(e(!0),t(b,null,y(m.wound.RequiredDamageTypes,(A,v)=>(e(),t("span",je,[v>0?(e(),t("span",Ae," / ")):s("",!0),o(V,{withContent:""},{default:E(()=>{var n;return[g(f((n=A.Name)==null?void 0:n.Text),1)]}),_:2},1024)]))),256))]),l("div",he,"> "+f(a(ve)(m.wound.CombatLog.LogText.Text,m.encounter.EnemyName.Text)),1),l("div",null,[(e(!0),t(b,null,y(m.wound.StatChanges,A=>(e(),t("span",ce,[o(u,{obj:A},null,8,["obj"])]))),256)),(e(!0),t(b,null,y(m.wound.DroppedCards,A=>(e(),t("span",Te,[o(T,{obj:A},null,8,["obj"])]))),256))]),l("div",null,f(a(se)(m.wound.BodyLocationModifiers)),1),l("div",null,[o(P,{obj:m.wound.EnemyValuesModifiers,encounter:m.encounter},null,8,["obj","encounter"])]),m.wound.AccumulatedWoundValue.Active?(e(),t("div",We,[_[0]||(_[0]=l("span",{class:"text-title"},"累计受伤值：",-1)),o(N,{obj:{x:m.wound.AccumulatedWoundValue.FloatValue,y:m.wound.AccumulatedWoundValue.MaxValue},sign:!0},null,8,["obj"])])):s("",!0),m.wound.WeaponDurabilityDamage.Active?(e(),t("div",Re,[_[1]||(_[1]=l("span",{class:"text-title"},"武器损耗：",-1)),o(I,{number:m.wound.WeaponDurabilityDamage.FloatValue},null,8,["number"])])):s("",!0),m.wound.NPCStatChanges.filter(A=>!!A.TargetAgent).length>0?(e(),t("div",Pe,[o(j,{legend:"NPC状态变化",class:"mt-1"},{default:E(()=>[(e(!0),t(b,null,y(m.wound.NPCStatChanges.filter(A=>!!A.TargetAgent),A=>(e(),t("div",Ce,[o(k,{obj:A},null,8,["obj"])]))),256))]),_:1})])):s("",!0),l("div",Se," -> "+f(a(re)(m.wound.EncounterResult)),1)])])])}}}),Le=Object.assign(ke,{__name:"EnemyWound"}),xe={class:"bg-current/5 p-1"},De={class:"flex"},Ie={class:"text-center px-1 mr-2 bg-current/10 flex flex-col justify-center"},Oe={class:"text-xl font-bold"},$e={class:"grow"},Ne={class:"text-xs text-current/50"},we={class:"mr-1"},He={class:"mr-1"},Be={class:"text-right text-sm text-current/30"},Ue=H({__name:"PlayerWound",props:{wound:{},level:{}},setup(i){return(m,_)=>{const V=X,u=B;return e(),t("div",xe,[l("div",De,[l("div",Ie,[_[0]||(_[0]=l("div",{class:"text-tiny"},"几率",-1)),l("div",Oe,f(m.wound.WoundSelectionWeight),1)]),l("div",$e,[l("div",Ne,f(m.wound.WoundLog.LogText.Text),1),l("div",null,[(e(!0),t(b,null,y(m.wound.StatChanges,T=>(e(),t("span",we,[o(V,{obj:T},null,8,["obj"])]))),256)),(e(!0),t(b,null,y(m.wound.DroppedCards,T=>(e(),t("span",He,[o(u,{obj:T},null,8,["obj"])]))),256))]),l("div",Be," -> "+f(a(re)(m.wound.EncounterResult)),1)])])])}}}),Fe=Object.assign(Ue,{__name:"PlayerWound"});function J(i){switch(i){case 0:return"留在原地";case 1:return"随机移动到相邻区域";case 2:return"移动到特定区域";case 3:return"移动到前一区域"}return""}const qe={key:0},Ge={class:"mr-1"},Xe={class:"mr-1"},Ye={key:1},ze={key:0},Je={key:1},Ke={class:"mr-1"},Qe={key:0},Ze={key:2},et={key:0},tt={key:1},nt={key:2},rt={class:"mr-1"},ot={key:0},lt={key:3},ut={class:"mr-1"},it=H({__name:"EncounterResultEffect",props:{effect:{}},setup(i){const m=i;return(_,V)=>{var I,k;const u=X,T=B,P=ne,N=Y;return e(),t("div",null,[("effect"in _?_.effect:a(R)).AmmoRecovery!=3?(e(),t("div",qe,[V[0]||(V[0]=l("span",{class:"text-title"},"弹药：",-1)),l("span",null,f(["恢复全部","恢复失误的","恢复命中的",""][("effect"in _?_.effect:a(R)).AmmoRecovery]),1)])):s("",!0),l("div",null,[V[1]||(V[1]=l("span",{class:"text-title"},"状态：",-1)),(e(!0),t(b,null,y(m.effect.StatChanges,j=>(e(),t("span",Ge,[o(u,{obj:j},null,8,["obj"])]))),256))]),l("div",null,[V[2]||(V[2]=l("span",{class:"text-title"},"掉落：",-1)),(e(!0),t(b,null,y(m.effect.DroppedCards,j=>(e(),t("span",Xe,[o(T,{obj:j},null,8,["obj"])]))),256))]),("effect"in _?_.effect:a(R)).MovePlayer>0?(e(),t("div",Ye,[("effect"in _?_.effect:a(R)).MovePlayer!=2?(e(),t("span",ze,[V[3]||(V[3]=l("span",{class:"text-title"},"玩家：",-1)),g(" "+f(a(J)(("effect"in _?_.effect:a(R)).MovePlayer)),1)])):(e(),t("span",Je,[V[4]||(V[4]=l("span",{class:"text-title"},"玩家：",-1)),V[5]||(V[5]=g(" 移动至 ")),(e(!0),t(b,null,y(("effect"in _?_.effect:a(R)).MovePlayerToSpecificEnvironment,(j,A)=>(e(),t("span",Ke,[A>0?(e(),t("span",Qe,"/")):s("",!0),o(T,{obj:j},null,8,["obj"])]))),256))]))])):s("",!0),("effect"in _?_.effect:a(R)).MoveNPC>0&&("effect"in _?_.effect:a(R)).NPCStatChanges.length>0?(e(),t("div",Ze,[V[7]||(V[7]=l("span",{class:"text-title"},"NPC：",-1)),(I=("effect"in _?_.effect:a(R)).NPCStatChanges.find(j=>j.TargetAgent))!=null&&I.TargetAgent?(e(),t("span",et,[o(T,{obj:(k=("effect"in _?_.effect:a(R)).NPCStatChanges.find(j=>j.TargetAgent))==null?void 0:k.TargetAgent},null,8,["obj"])])):s("",!0),("effect"in _?_.effect:a(R)).MoveNPC!=2?(e(),t("span",tt,[l("span",null,f(a(J)(("effect"in _?_.effect:a(R)).MoveNPC)),1)])):(e(),t("span",nt,[V[6]||(V[6]=g(" 移动至 ")),(e(!0),t(b,null,y(("effect"in _?_.effect:a(R)).MoveNPCToSpecificEnvironment,(j,A)=>(e(),t("span",rt,[A>0?(e(),t("span",ot,"/")):s("",!0),o(T,{obj:j},null,8,["obj"])]))),256))]))])):s("",!0),m.effect.NPCStatChanges.filter(j=>!!j.TargetAgent).length>0?(e(),t("div",lt,[o(N,{legend:"NPC状态变化",class:"mt-1"},{default:E(()=>[(e(!0),t(b,null,y(m.effect.NPCStatChanges.filter(j=>!!j.TargetAgent),j=>(e(),t("div",ut,[o(P,{obj:j},null,8,["obj"])]))),256))]),_:1})])):s("",!0)])}}}),dt=Object.assign(it,{__name:"EncounterResultEffect"});var x=(i=>(i[i.Add0Weight=0]="Add0Weight",i[i.UseMinMaxWeight=1]="UseMinMaxWeight",i[i.CancelDrop=2]="CancelDrop",i))(x||{}),D=(i=>(i[i.Return0Value=0]="Return0Value",i[i.UseMinMaxOutputValue=1]="UseMinMaxOutputValue",i[i.ReturnCustomValue=2]="ReturnCustomValue",i[i.ReturnNegativeInfinity=3]="ReturnNegativeInfinity",i[i.ReturnPositiveInfinity=4]="ReturnPositiveInfinity",i))(D||{});function st(i){let m={[x.Add0Weight]:D.ReturnCustomValue,[x.UseMinMaxWeight]:D.UseMinMaxOutputValue,[x.CancelDrop]:D.Return0Value};return{Active:i.Active,InputValueRange:i.DurabilityRange,OutputValueRange:{x:i.InterpWeightRange.m_X,y:i.InterpWeightRange.m_Y},WhenOutOfRange:m[i.WhenOutOfRange],OutOfRangeCustomValue:0}}function at(i){switch(i){case 0:return"近身";case 1:return"远距离";case 2:return""}return""}function K(i,m=""){switch(i){case 0:return"";case 1:return m+"脆弱中";case 2:return m+"非脆弱"}return""}function mt(i){switch(i){case 0:return"";case 1:return"缠斗中";case 2:return"非缠斗中"}return""}function Q(i){return[{name:"总",mod:i.AllWoundModifier},{name:"头部",mod:i.HeadWoundModifier},{name:"身体",mod:i.TorsoWoundModifier},{name:"左臂",mod:i.LArmWoundModifier},{name:"右臂",mod:i.RArmWoundModifier},{name:"左腿",mod:i.LLegWoundModifier},{name:"右腿",mod:i.RLegWoundModifier}].filter(_=>_.mod.InterpolatedAddedValue.Active)}function _t(i){return[{name:"身体",value:i.TorsoHitProbabilityModifier},{name:"头部",value:i.HeadHitProbabilityModifier},{name:"左臂",value:i.LArmHitProbabilityModifier},{name:"右臂",value:i.RArmHitProbabilityModifier},{name:"左腿",value:i.LLegHitProbabilityModifier},{name:"右腿",value:i.RLegHitProbabilityModifier}].filter(_=>_.value!=0)}function pt(i){let m={[x.Add0Weight]:D.ReturnCustomValue,[x.UseMinMaxWeight]:D.UseMinMaxOutputValue,[x.CancelDrop]:D.Return0Value};return{Active:!0,InputValueRange:i.StatRange,OutputValueRange:{x:i.InterpWeightRange.m_X,y:i.InterpWeightRange.m_Y},WhenOutOfRange:m[i.WhenOutOfRange],OutOfRangeCustomValue:0}}const ft={class:"flex"},gt={class:"ml-2"},bt={class:"flex justify-center"},yt={class:"flex justify-center mt-4"},vt={class:"flex flex-wrap gap-2"},Vt={key:0,class:"border border-current/50 rounded p-0 mb-2"},Et={key:1,class:"border border-red-400/50 rounded p-0 mb-2"},Mt={key:2,class:"border border-red-700/70 rounded p-0 mb-2"},jt={key:3,class:"border-2 border-red-800/90 rounded p-0 mb-2"},At={class:"flex flex-wrap gap-2"},ht={key:0},ct={key:1},Tt={key:2},Wt={class:"flex"},Rt={key:0},Pt={key:1},Ct={key:2},St={key:3},kt={key:4},Lt={key:5},xt={key:6},Dt={key:7},It={key:8},Ot={key:9},$t={class:"text-durability"},Nt={key:0},wt={key:1},Ht={key:2},Bt={key:3},Ut={key:4},Ft={key:5},qt={class:"text-durability"},Gt={key:0},Xt={class:"text-durability"},Yt={key:0},zt={key:0},Jt={key:0},Kt={key:1},Qt={key:2},Zt={class:"text-durability"},en={key:0},tn={class:"text-durability"},nn={key:0},rn={key:0},on={key:0},ln={class:"flex flex-wrap"},un={class:"mr-2"},dn={key:0},sn={class:"text-durability"},an={key:1},mn={key:2},_n={key:0},pn={key:3},fn={key:0},gn={key:0,class:"border border-current/50 rounded p-0 mb-2"},bn={key:1,class:"border border-red-400/50 rounded p-0 mb-2"},yn={key:2,class:"border border-red-700/70 rounded p-0 mb-2"},vn={key:3,class:"border-2 border-red-800/90 rounded p-0 mb-2"},Vn={key:0},En={key:1},Mn={class:"flex flex-wrap gap-2"},wn=H({__name:"Encounter",props:{id:{}},async setup(i){let m,_;const V=i,u=([m,_]=oe(()=>ge(Object.assign({"../../generated/encounter/0_1512.json":()=>p(()=>import("./DjZUxKxQ.js"),[],import.meta.url),"../../generated/encounter/0_1513.json":()=>p(()=>import("./Fw8kgOFQ.js"),[],import.meta.url),"../../generated/encounter/0_1514.json":()=>p(()=>import("./D9sgzZLK.js"),[],import.meta.url),"../../generated/encounter/0_1515.json":()=>p(()=>import("./B6ZY1tl2.js"),[],import.meta.url),"../../generated/encounter/0_1516.json":()=>p(()=>import("./B8DVnUiE.js"),[],import.meta.url),"../../generated/encounter/0_1517.json":()=>p(()=>import("./BZR2jNyO.js"),[],import.meta.url),"../../generated/encounter/0_1518.json":()=>p(()=>import("./DgiNSXc4.js"),[],import.meta.url),"../../generated/encounter/0_1519.json":()=>p(()=>import("./Hikp9bkv.js"),[],import.meta.url),"../../generated/encounter/0_1520.json":()=>p(()=>import("./Cqm7B7Sy.js"),[],import.meta.url),"../../generated/encounter/0_1521.json":()=>p(()=>import("./BnqLGmXN.js"),[],import.meta.url),"../../generated/encounter/0_1522.json":()=>p(()=>import("./zp8OYcHL.js"),[],import.meta.url),"../../generated/encounter/0_1523.json":()=>p(()=>import("./D46WqitY.js"),[],import.meta.url),"../../generated/encounter/0_1524.json":()=>p(()=>import("./BRxuXNB-.js"),[],import.meta.url),"../../generated/encounter/0_1525.json":()=>p(()=>import("./C9dp6jOT.js"),[],import.meta.url),"../../generated/encounter/0_1526.json":()=>p(()=>import("./CAUxEZvw.js"),[],import.meta.url),"../../generated/encounter/0_1530.json":()=>p(()=>import("./DL5FUQUt.js"),[],import.meta.url),"../../generated/encounter/0_1531.json":()=>p(()=>import("./BAPKJqoO.js"),[],import.meta.url),"../../generated/encounter/0_1532.json":()=>p(()=>import("./D-FYc7l8.js"),[],import.meta.url),"../../generated/encounter/0_1533.json":()=>p(()=>import("./CVLrAtsb.js"),[],import.meta.url),"../../generated/encounter/0_1534.json":()=>p(()=>import("./DFCmOUtz.js"),[],import.meta.url),"../../generated/encounter/0_1535.json":()=>p(()=>import("./BoeHKSkB.js"),[],import.meta.url),"../../generated/encounter/0_1536.json":()=>p(()=>import("./BVD5VKry.js"),[],import.meta.url),"../../generated/encounter/0_1537.json":()=>p(()=>import("./BvedPDK4.js"),[],import.meta.url),"../../generated/encounter/0_1538.json":()=>p(()=>import("./DfvSD3q_.js"),[],import.meta.url),"../../generated/encounter/0_1539.json":()=>p(()=>import("./_8nfAyAS.js"),[],import.meta.url),"../../generated/encounter/0_1540.json":()=>p(()=>import("./DAtGdIzS.js"),[],import.meta.url),"../../generated/encounter/0_1541.json":()=>p(()=>import("./ByJzrDZb.js"),[],import.meta.url),"../../generated/encounter/0_1542.json":()=>p(()=>import("./jqGYsBjN.js"),[],import.meta.url),"../../generated/encounter/0_1543.json":()=>p(()=>import("./DcWsATd9.js"),[],import.meta.url),"../../generated/encounter/0_1544.json":()=>p(()=>import("./DIQtvKVC.js"),[],import.meta.url),"../../generated/encounter/0_4728.json":()=>p(()=>import("./l9UPifGU.js"),[],import.meta.url),"../../generated/encounter/0_4737.json":()=>p(()=>import("./g_VqJ_RH.js"),[],import.meta.url),"../../generated/encounter/0_4757.json":()=>p(()=>import("./DK29AIZO.js"),[],import.meta.url),"../../generated/encounter/0_4760.json":()=>p(()=>import("./DaiPzP1R.js"),[],import.meta.url),"../../generated/encounter/0_4766.json":()=>p(()=>import("./BPBlyHds.js"),[],import.meta.url),"../../generated/encounter/0_4769.json":()=>p(()=>import("./DDe6NQHu.js"),[],import.meta.url),"../../generated/encounter/0_4781.json":()=>p(()=>import("./-WvyPHWc.js"),[],import.meta.url),"../../generated/encounter/0_4783.json":()=>p(()=>import("./BPR4LAqA.js"),[],import.meta.url),"../../generated/encounter/0_4790.json":()=>p(()=>import("./TqjtfOqU.js"),[],import.meta.url),"../../generated/encounter/0_4792.json":()=>p(()=>import("./BNjV5cca.js"),[],import.meta.url)}),`../../generated/encounter/${V.id}.json`,5)),m=await m,_(),m).default;let P=[u.MeleeSkill,u.RangedSkill,u.Blood,u.Stamina,u.Morale,u.Value1,u.Value2,u.Value3,u.Value4].filter(v=>!!v.Name||!!v.MaxValue||!!v.StartingValue.x||!!v.StartingValue.y);function N(){let v={"Melee Skill":"近战","Ranged Skill":"远程",Blood:"血量",Stamina:"精神",Morale:"斗志"};P.forEach(n=>{n.Name=v[n.Name]||n.Name})}N();function I(v){return[{value:u.MeleeSkill,mod:v.ValuesWeightModifiers.WeightPerMeleeSkill},{value:u.RangedSkill,mod:v.ValuesWeightModifiers.WeightPerRangedSkill},{value:u.Blood,mod:v.ValuesWeightModifiers.WeightPerBlood},{value:u.Stamina,mod:v.ValuesWeightModifiers.WeightPerStamina},{value:u.Morale,mod:v.ValuesWeightModifiers.WeightPerMorale},{value:u.Value1,mod:v.ValuesWeightModifiers.WeightPerValue1},{value:u.Value2,mod:v.ValuesWeightModifiers.WeightPerValue2},{value:u.Value3,mod:v.ValuesWeightModifiers.WeightPerValue3},{value:u.Value4,mod:v.ValuesWeightModifiers.WeightPerValue4}].filter(L=>P.includes(L.value)&&L.mod.Active)}function k(v){return[{value:u.MeleeSkill,mod:v.EnemyMeleeSkillMod},{value:u.RangedSkill,mod:v.EnemyRangedSkillMod},{value:u.Blood,mod:v.EnemyBloodMod},{value:u.Stamina,mod:v.EnemyStaminaMod},{value:u.Morale,mod:v.EnemyMoraleMod},{value:u.Value1,mod:v.EnemyValue1Mod},{value:u.Value2,mod:v.EnemyValue2Mod},{value:u.Value3,mod:v.EnemyValue3Mod},{value:u.Value4,mod:v.EnemyValue4Mod}].filter(L=>P.includes(L.value)&&L.mod.InterpolatedAddedValue.Active)}function j(){return[{name:"头部",bodyTemplate:u.EnemyBodyTemplate.Head,armor:u.EnemyArmor.HeadArmor,armorModifiers:u.EnemyArmor.HeadArmorModifiers,hitProbabilityModifier:u.EnemyArmor.HeadHitProbabilityModifier},{name:"躯干",bodyTemplate:u.EnemyBodyTemplate.Torso,armor:u.EnemyArmor.TorsoArmor,armorModifiers:u.EnemyArmor.TorsoArmorModifiers,hitProbabilityModifier:u.EnemyArmor.TorsoHitProbabilityModifier},{name:"左臂",bodyTemplate:u.EnemyBodyTemplate.LArm,armor:u.EnemyArmor.LArmArmor,armorModifiers:u.EnemyArmor.LArmArmorModifiers,hitProbabilityModifier:u.EnemyArmor.LArmHitProbabilityModifier},{name:"右臂",bodyTemplate:u.EnemyBodyTemplate.RArm,armor:u.EnemyArmor.RArmArmor,armorModifiers:u.EnemyArmor.RArmArmorModifiers,hitProbabilityModifier:u.EnemyArmor.RArmHitProbabilityModifier},{name:"左腿",bodyTemplate:u.EnemyBodyTemplate.LLeg,armor:u.EnemyArmor.LLegArmor,armorModifiers:u.EnemyArmor.LLegArmorModifiers,hitProbabilityModifier:u.EnemyArmor.LLegHitProbabilityModifier},{name:"右腿",bodyTemplate:u.EnemyBodyTemplate.RLeg,armor:u.EnemyArmor.RLegArmor,armorModifiers:u.EnemyArmor.RLegArmorModifiers,hitProbabilityModifier:u.EnemyArmor.RLegHitProbabilityModifier}]}function A(){var v;return{key:u.m_Name,text:u.EnemyName.Text,icon:(v=u.EncounterImage)==null?void 0:v.FileName,type:"encounter"}}return le({title:`${u.EncounterTitle.Text} - 战斗 - ${ue().$gameName}`}),(v,n)=>{const L=ie,M=Z,w=de,h=ee,W=te,U=Le,O=Y,$=fe,C=pe,G=B,F=Fe,q=dt;return e(),t("div",null,[l("h2",null,f(a(u).EncounterTitle.Text),1),l("div",null,[l("div",ft,[l("div",null,[o(L,{card:A()},null,8,["card"])]),l("div",gt,[l("div",bt,[(e(!0),t(b,null,y(a(P),r=>(e(),S(w,{title:r.Name,value:""},{default:E(()=>[o(M,{obj:r.StartingValue},null,8,["obj"])]),_:2},1032,["title"]))),256))]),l("div",yt,[o(w,{title:"体型",value:""},{default:E(()=>[o(M,{obj:a(u).EnemySize},null,8,["obj"])]),_:1}),o(w,{title:"掩护",value:""},{default:E(()=>[o(M,{obj:a(u).EnemyCover},null,8,["obj"])]),_:1}),o(w,{title:"潜行",value:""},{default:E(()=>[o(M,{obj:a(u).EnemyStealth},null,8,["obj"])]),_:1}),o(w,{title:"意识",value:""},{default:E(()=>[o(M,{obj:a(u).EnemyAwareness},null,8,["obj"])]),_:1})])])])]),l("div",null,[n[3]||(n[3]=l("h2",{class:"title"},"身体数据",-1)),l("div",vt,[(e(!0),t(b,null,y(j(),r=>(e(),t("div",null,[o($,null,{title:E(()=>[l("div",null,f(r.name),1)]),content:E(()=>[l("div",null,[n[0]||(n[0]=l("span",null,"护甲：",-1)),l("span",null,f(r.bodyTemplate.Armor+r.armor),1),l("span",null,"("+f(r.bodyTemplate.Armor)+" + "+f(r.armor)+")",1)]),l("div",null,[n[1]||(n[1]=l("span",null,"命中概率：",-1)),l("span",null,"近战:"+f(r.bodyTemplate.MeleeHitChanceWeight+r.hitProbabilityModifier),1),n[2]||(n[2]=g(" / ")),l("span",null,"远程:"+f(r.bodyTemplate.RangedHitChanceWeight+r.hitProbabilityModifier),1)]),l("div",null,[(e(!0),t(b,null,y(r.bodyTemplate.ArmorModifiers.concat(r.armorModifiers),d=>(e(),t("div",null,[l("div",null,[o(h,{text:d.DmgType.Name.Text},null,8,["text"]),o(W,{number:d.Modifier},null,8,["number"])])]))),256))]),o(O,{legend:"受伤",collapsed:"",toggleable:""},{default:E(()=>[l("div",null,[r.bodyTemplate.UnharmedResults.length>0?(e(),t("div",Vt,[(e(!0),t(b,null,y(r.bodyTemplate.UnharmedResults,d=>(e(),t("div",null,[o(U,{wound:d,level:0,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):s("",!0),r.bodyTemplate.MinorWounds.length>0?(e(),t("div",Et,[(e(!0),t(b,null,y(r.bodyTemplate.MinorWounds,d=>(e(),t("div",null,[o(U,{wound:d,level:1,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):s("",!0),r.bodyTemplate.MediumWounds.length>0?(e(),t("div",Mt,[(e(!0),t(b,null,y(r.bodyTemplate.MediumWounds,d=>(e(),t("div",null,[o(U,{wound:d,level:2,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):s("",!0),r.bodyTemplate.SeriousWounds.length>0?(e(),t("div",jt,[(e(!0),t(b,null,y(r.bodyTemplate.SeriousWounds,d=>(e(),t("div",null,[o(U,{wound:d,level:3,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):s("",!0)])]),_:2},1024)]),_:2},1024)]))),256))])]),l("div",null,[n[50]||(n[50]=l("h2",null,"动作",-1)),l("div",At,[(e(!0),t(b,null,y(a(u).EnemyActions,r=>(e(),S($,null,{title:E(()=>[l("div",null,[g("⚠️"+f(r.ActionLog.LogText.Text)+" ",1),o(h,{text:["近身","远程"][r.ActionRange]},null,8,["text"]),r.DoesNotAttack?s("",!0):(e(),S(h,{key:0,text:"攻击"})),r.CannotBeDodged?(e(),S(h,{key:1,text:"无法闪避"})):s("",!0),r.IsEscapeAction?(e(),S(h,{key:2,text:"逃跑"})):s("",!0),r.IsChargingAction?(e(),S(h,{key:3,text:"蓄力"})):s("",!0),r.IgnoreEnemySkillForClash?(e(),S(h,{key:4,text:"无视技能"})):s("",!0)])]),content:E(()=>[r.Reach?(e(),t("div",ht,"触发距离: "+f(r.Reach),1)):s("",!0),r.CustomClashAgainstValue?(e(),t("div",ct,[n[4]||(n[4]=g(" 失败权重: ")),o(M,{obj:r.CustomClashAgainstValue},null,8,["obj"])])):s("",!0),r.DamageTypes.length>0?(e(),t("div",Tt,[n[5]||(n[5]=l("span",null,"伤害类型：",-1)),(e(!0),t(b,null,y(r.DamageTypes,(d,jn)=>(e(),t("span",null,[o(h,{withContent:""},{default:E(()=>{var z;return[g(f((z=d.Name)==null?void 0:z.Text),1)]}),_:2},1024)]))),256))])):s("",!0),l("div",null,[(e(!0),t(b,null,y(a(_t)(r.AddedPlayerLocationHitProbabilities),d=>(e(),t("div",null,[l("div",null,[n[6]||(n[6]=g(" 命中玩家")),l("span",null,f(d.name),1),n[7]||(n[7]=g("几率 ")),o(W,{number:d.value},null,8,["number"])])]))),256))]),l("div",Wt,[n[8]||(n[8]=l("div",null,"条件：",-1)),l("div",null,[o(h,{text:a(at)(r.RequiredDistance)},null,8,["text"]),o(h,{text:a(mt)(r.RequiredWrestlingState)},null,8,["text"]),o(h,{text:a(K)(r.RequiredSelfVulnerableState,"玩家")},null,8,["text"]),o(h,{text:a(K)(r.RequiredOpponentVulnerableState,"自身")},null,8,["text"])])]),o(O,{legend:"动作权重"},{default:E(()=>[l("div",null,[n[9]||(n[9]=l("span",null,"基础权重 = ",-1)),l("span",null,f(r.BaseWeight),1)]),r.DistanceWeightModifier!=0?(e(),t("div",Rt,[n[10]||(n[10]=g("远距离时权重")),o(W,{number:r.DistanceWeightModifier},null,8,["number"])])):s("",!0),r.CloseRangeWeightModifier!=0?(e(),t("div",Pt,[n[11]||(n[11]=g("近身时权重")),o(W,{number:r.CloseRangeWeightModifier},null,8,["number"])])):s("",!0),r.WrestlingWeightModifier!=0?(e(),t("div",Ct,[n[12]||(n[12]=g("缠斗中权重")),o(W,{number:r.WrestlingWeightModifier},null,8,["number"])])):s("",!0),r.NOTWrestlingWeightModifier!=0?(e(),t("div",St,[n[13]||(n[13]=g("未缠斗中权重")),o(W,{number:r.NOTWrestlingWeightModifier},null,8,["number"])])):s("",!0),r.EnemyHiddenWeightModifier!=0?(e(),t("div",kt,[n[14]||(n[14]=g("自身隐藏时中权重")),o(W,{number:r.EnemyHiddenWeightModifier},null,8,["number"])])):s("",!0),r.PlayerHiddenWeightModifier!=0?(e(),t("div",Lt,[n[15]||(n[15]=g("玩家隐藏时中权重")),o(W,{number:r.PlayerHiddenWeightModifier},null,8,["number"])])):s("",!0),r.SelfVulnerableWeightModifier!=0?(e(),t("div",xt,[n[16]||(n[16]=g("自身脆弱时权重")),o(W,{number:r.SelfVulnerableWeightModifier},null,8,["number"])])):s("",!0),r.SelfNOTVulnerableWeightModifier!=0?(e(),t("div",Dt,[n[17]||(n[17]=g("自身未脆弱时权重")),o(W,{number:r.SelfNOTVulnerableWeightModifier},null,8,["number"])])):s("",!0),r.OpponentVulnerableWeightModifier!=0?(e(),t("div",It,[n[18]||(n[18]=g("对手脆弱时权重")),o(W,{number:r.OpponentVulnerableWeightModifier},null,8,["number"])])):s("",!0),r.OpponentNOTVulnerableWeightModifier!=0?(e(),t("div",Ot,[n[19]||(n[19]=g("对手脆弱时权重")),o(W,{number:r.OpponentNOTVulnerableWeightModifier},null,8,["number"])])):s("",!0),(e(!0),t(b,null,y(I(r),d=>(e(),t("div",null,[l("span",$t,f(d.value.Name),1),n[20]||(n[20]=g("为 ")),o(C,{obj:a(st)(d.mod),joiner:"时权重",outputSign:!0},null,8,["obj"])]))),256)),(e(!0),t(b,null,y(r.StatsWeightModifiers,d=>(e(),t("div",null,[o(G,{obj:d.Stat},null,8,["obj"]),n[21]||(n[21]=g(" 为 ")),o(C,{obj:a(pt)(d),joiner:"时权重",outputSign:!0},null,8,["obj"])]))),256))]),_:2},1024),o(O,{legend:"攻击力"},{default:E(()=>[l("div",null,[n[22]||(n[22]=l("span",null,"基础攻击力 = ",-1)),l("span",null,f(r.BaseClashValue),1)]),a(c)(r.ClashRangedInaccuracy)?s("",!0):(e(),t("div",Nt,[n[23]||(n[23]=l("span",null,"远距离时",-1)),o(M,{obj:r.ClashRangedInaccuracy,sign:!0},null,8,["obj"])])),a(c)(r.ClashStealthBonus)?s("",!0):(e(),t("div",wt,[n[24]||(n[24]=l("span",null,"潜行时",-1)),o(M,{obj:r.ClashStealthBonus,sign:!0},null,8,["obj"])])),a(c)(r.IneffectiveRangeMalus)?s("",!0):(e(),t("div",Ht,[n[25]||(n[25]=l("span",null,"自身潜行时",-1)),o(M,{obj:r.IneffectiveRangeMalus,sign:!0},null,8,["obj"])])),a(c)(r.ClashVsEscapeModifier)?s("",!0):(e(),t("div",Bt,[n[26]||(n[26]=l("span",null,"玩家逃跑时",-1)),o(M,{obj:r.ClashVsEscapeModifier,sign:!0},null,8,["obj"])])),a(c)(r.ClashVsVulnerableModifier)?s("",!0):(e(),t("div",Ut,[n[27]||(n[27]=l("span",null,"脆弱时",-1)),o(M,{obj:r.ClashVsVulnerableModifier,sign:!0},null,8,["obj"])])),a(c)(r.WrestlingClashModifier)?s("",!0):(e(),t("div",Ft,[n[28]||(n[28]=l("span",null,"缠斗时",-1)),o(M,{obj:r.WrestlingClashModifier,sign:!0},null,8,["obj"])])),(e(!0),t(b,null,y(k(r.EnemyValuesClashModifier),d=>(e(),t("div",null,[l("span",qt,f(d.value.Name),1),n[30]||(n[30]=g("为 ")),o(C,{obj:d.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(d.mod.RandomAddedValue)?s("",!0):(e(),t("span",Gt,[n[29]||(n[29]=g(" 随机增加 ")),o(M,{obj:d.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(b,null,y(a(Q)(r.EnemyWoundClashModifier),d=>(e(),t("div",null,[l("span",Xt,f(d.name)+"受伤值",1),n[32]||(n[32]=g("为 ")),o(C,{obj:d.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(d.mod.RandomAddedValue)?s("",!0):(e(),t("span",Yt,[n[31]||(n[31]=g(" 随机增加 ")),o(M,{obj:d.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(b,null,y(r.EnemyStatsDamageModifier,d=>(e(),t("div",null,[o(G,{obj:d.Stat},null,8,["obj"]),n[34]||(n[34]=g(" 为 ")),o(C,{obj:d.AddedValue.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(d.AddedValue.RandomAddedValue)?s("",!0):(e(),t("span",zt,[n[33]||(n[33]=g(" 随机增加 ")),o(M,{obj:d.AddedValue.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256))]),_:2},1024),o(O,{legend:"伤害"},{default:E(()=>[l("div",null,[n[35]||(n[35]=l("span",null,"基础伤害 = ",-1)),o(M,{obj:r.Damage},null,8,["obj"])]),a(c)(r.DmgVsEscapeModifier)?s("",!0):(e(),t("div",Jt,[n[36]||(n[36]=l("span",null,"玩家逃跑时",-1)),o(M,{obj:r.DmgVsEscapeModifier,sign:!0},null,8,["obj"])])),a(c)(r.DmgVsVulnerableModifier)?s("",!0):(e(),t("div",Kt,[n[37]||(n[37]=l("span",null,"脆弱时",-1)),o(M,{obj:r.DmgVsVulnerableModifier,sign:!0},null,8,["obj"])])),a(c)(r.WrestlingDamageModifier)?s("",!0):(e(),t("div",Qt,[n[38]||(n[38]=l("span",null,"缠斗时",-1)),o(M,{obj:r.WrestlingDamageModifier,sign:!0},null,8,["obj"])])),(e(!0),t(b,null,y(k(r.EnemyValuesDamageModifier),d=>(e(),t("div",null,[l("span",Zt,f(d.value.Name),1),n[40]||(n[40]=g("为 ")),o(C,{obj:d.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(d.mod.RandomAddedValue)?s("",!0):(e(),t("span",en,[n[39]||(n[39]=l("span",null,"随机增加",-1)),o(M,{obj:d.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(b,null,y(a(Q)(r.EnemyWoundDamageModifier),d=>(e(),t("div",null,[l("span",tn,f(d.name)+"受伤",1),n[42]||(n[42]=g("为 ")),o(C,{obj:d.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(d.mod.RandomAddedValue)?s("",!0):(e(),t("span",nn,[n[41]||(n[41]=l("span",null,"随机增加",-1)),o(M,{obj:d.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(b,null,y(r.EnemyStatsDamageModifier,d=>(e(),t("div",null,[o(G,{obj:d.Stat},null,8,["obj"]),n[44]||(n[44]=g(" 为 ")),o(C,{obj:d.AddedValue.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(d.AddedValue.RandomAddedValue)?s("",!0):(e(),t("span",rn,[n[43]||(n[43]=l("span",null,"随机增加",-1)),o(M,{obj:d.AddedValue.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256))]),_:2},1024),o(O,{legend:"影响"},{default:E(()=>[r.ArmorDurabilityDamage.Active?(e(),t("div",on,[n[45]||(n[45]=l("span",null,"防具耐久",-1)),o(W,{number:r.ArmorDurabilityDamage.FloatValue},null,8,["number"])])):s("",!0),l("div",ln,[(e(!0),t(b,null,y(a(me)(r.EnemyValueChanges),d=>(e(),t("div",un,[d.appilies!=0?(e(),t("span",dn,f(["","(成功时)","(失败时)"][d.appilies]),1)):s("",!0),l("span",sn,f(a(u)[d.key].Name),1),o(M,{obj:d.modifier,sign:!0},null,8,["obj"])]))),256))]),r.WrestlingStateChange.WrestlingStateChange>0?(e(),t("div",an,[l("span",null,f(["","[成功时] ","[失败时] ",""][r.WrestlingStateChange.ChangeApplies]),1),n[46]||(n[46]=g(" 变为")),o(h,{text:r.WrestlingStateChange.WrestlingStateChange==1?"缠斗中":"未缠斗"},null,8,["text"])])):s("",!0),r.SelfVulnerableStateChange.Change>0?(e(),t("div",mn,[l("span",null,f(["","[成功时] ","[失败时] ",""][r.SelfVulnerableStateChange.Change]),1),r.SelfVulnerableStateChange.PercentageChance.UseChance?(e(),t("span",_n,f(r.SelfVulnerableStateChange.PercentageChance.ChanceValue*100)+"%几率 ",1)):s("",!0),n[47]||(n[47]=g(" 变为")),o(h,{text:"脆弱"})])):s("",!0),r.OpponentVulnerableStateChange.Change>0?(e(),t("div",pn,[l("span",null,f(["","[成功时] ","[失败时] ",""][r.OpponentVulnerableStateChange.Change]),1),n[48]||(n[48]=g(" "+f("玩家")+" ")),r.OpponentVulnerableStateChange.PercentageChance.UseChance?(e(),t("span",fn,f(r.OpponentVulnerableStateChange.PercentageChance.ChanceValue*100)+"%几率 ",1)):s("",!0),n[49]||(n[49]=g(" 变为")),o(h,{text:"脆弱"})])):s("",!0)]),_:2},1024),o(O,{legend:"玩家",collapsed:"",toggleable:""},{default:E(()=>[l("div",null,[r.PlayerWounds.UnharmedResults.length>0?(e(),t("div",gn,[(e(!0),t(b,null,y(r.PlayerWounds.UnharmedResults,d=>(e(),t("div",null,[o(F,{wound:d,level:0},null,8,["wound"])]))),256))])):s("",!0),r.PlayerWounds.MinorWounds.length>0?(e(),t("div",bn,[(e(!0),t(b,null,y(r.PlayerWounds.MinorWounds,d=>(e(),t("div",null,[o(F,{wound:d,level:1},null,8,["wound"])]))),256))])):s("",!0),r.PlayerWounds.MediumWounds.length>0?(e(),t("div",yn,[(e(!0),t(b,null,y(r.PlayerWounds.MediumWounds,d=>(e(),t("div",null,[o(F,{wound:d,level:2},null,8,["wound"])]))),256))])):s("",!0),r.PlayerWounds.SeriousWounds.length>0?(e(),t("div",vn,[(e(!0),t(b,null,y(r.PlayerWounds.SeriousWounds,d=>(e(),t("div",null,[o(F,{wound:d,level:3},null,8,["wound"])]))),256))])):s("",!0)])]),_:2},1024)]),footer:E(()=>[r.SuccessLog.LogText.Text?(e(),t("div",Vn," 成功："+f(r.SuccessLog.LogText.Text),1)):s("",!0),r.FailureLog.LogText.Text?(e(),t("div",En," 失败："+f(r.FailureLog.LogText.Text),1)):s("",!0)]),_:2},1024))),256))])]),l("div",null,[n[55]||(n[55]=l("h2",null,"战斗结果",-1)),l("div",Mn,[o($,null,{title:E(()=>n[51]||(n[51]=[l("div",null,"胜利",-1)])),subtitle:E(()=>[l("div",null,f(a(u).EnemyDefeatedEffects.ResultLog.LogText.Text),1)]),content:E(()=>[o(q,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),o($,null,{title:E(()=>n[52]||(n[52]=[l("div",null,"对手逃跑",-1)])),content:E(()=>[o(q,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),o($,null,{title:E(()=>n[53]||(n[53]=[l("div",null,"玩家逃跑",-1)])),content:E(()=>[o(q,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),o($,null,{title:E(()=>n[54]||(n[54]=[l("div",null,"玩家士气低落",-1)])),content:E(()=>[o(q,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1})])])])}}});export{wn as default};
