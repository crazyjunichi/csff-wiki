import{_ as k}from"./E0pKk_rA.js";import{_ as f}from"./CclSaZr-.js";import{_ as S}from"./BSasS7mK.js";import{_ as p}from"./CTEMDSWj.js";import{_ as v}from"./Bp5uieG1.js";import{f as w,c as o,o as n,a,m as l,t as m,d as r,b as s,F as d,r as g,l as h,g as C}from"./CDkxzjdl.js";function O(u,e){return e?[{durability:e.SpoilageTime,weight:u.Spoilage},{durability:e.UsageDurability,weight:u.Usage},{durability:e.FuelCapacity,weight:u.Fuel},{durability:e.Progress,weight:u.Progress},{durability:e.SpecialDurability1,weight:u.Special1},{durability:e.SpecialDurability2,weight:u.Special2},{durability:e.SpecialDurability3,weight:u.Special3},{durability:e.SpecialDurability4,weight:u.Special4}].filter(i=>i.weight.Active):[]}const x={class:"flex my-1"},R={key:0,class:"bg-current/5 rounded-xl p-2 mr-2 w-22"},W={class:"text-2xl font-bold text-center"},B={key:0},D={key:0},N={key:1,class:"text-xs text-current/50"},I={key:2,class:"flex my-1"},L={key:0,class:"bg-current/5 rounded-xl p-2 mr-2 w-22"},c={key:3,class:"text-sm"},A={key:0},E={key:4},P={class:"text-sm"},q={key:0,class:"has-text-weight-bold"},T={key:1},F={class:"flex flex-wrap"},V={key:2},H={key:0,class:"has-text-weight-bold"},U={key:1},G={class:"text-durability"},Q={key:0,class:"has-text-weight-bold"},$={key:1},z=w({__name:"CardsDropCollection",props:{obj:{},card:{},simplfy:{type:Boolean}},setup(u){return(e,i)=>{const b=k,_=f;return n(),o("div",null,[a("div",x,[e.simplfy?l("",!0):(n(),o("div",R,[i[0]||(i[0]=a("div",{class:"text-xs text-center"},"基础权重",-1)),a("div",W,m(e.obj.CollectionWeight),1)])),a("div",null,[e.obj.DroppedEncounter?(n(),o("div",B,[i[3]||(i[3]=r(" 触发战斗：")),s(b,{obj:e.obj.DroppedEncounter},null,8,["obj"]),e.obj.EncounterNPC?(n(),o("span",D,[i[1]||(i[1]=r(" (")),s(b,{obj:e.obj.EncounterNPC},null,8,["obj"]),i[2]||(i[2]=r(") "))])):l("",!0)])):l("",!0),e.simplfy?l("",!0):(n(),o("div",N,m(e.obj.CollectionName),1)),e.obj.DroppedCards.filter(t=>!t.DropChance.Active).length>0?(n(),o("div",I,[e.obj.DroppedCards.filter(t=>t.DropChance.Active).length>0?(n(),o("div",L,i[4]||(i[4]=[a("div",{class:"text-sm font-bold text-center"},"固定掉落",-1)]))):l("",!0),a("div",null,[(n(!0),o(d,null,g(e.obj.DroppedCards.filter(t=>!t.DropChance.Active),(t,j)=>(n(),o("span",null,[s(_,{obj:t,card:e.card},null,8,["obj","card"])]))),256))])])):l("",!0),(n(!0),o(d,null,g(e.obj.DroppedCards.filter(t=>!!t.DropChance.Active),(t,j)=>(n(),o("span",null,[s(_,{obj:t,card:e.card},null,8,["obj","card"])]))),256)),e.obj.StatModifications.length>0?(n(),o("div",c,[a("span",null,[(n(!0),o(d,null,g(e.obj.StatModifications,(t,j)=>(n(),o(d,null,[s(S,{obj:t},null,8,["obj"]),j<e.obj.StatModifications.length-1?(n(),o("span",A,", ")):l("",!0)],64))),256))])])):l("",!0),e.obj.CreatedLiquid.LiquidCard?(n(),o("div",E,[s(b,{obj:e.obj.CreatedLiquid.LiquidCard},null,8,["obj"]),s(p,{obj:e.obj.CreatedLiquid.Quantity,sign:!0},null,8,["obj"])])):l("",!0),a("div",P,[e.obj.StatsDropChanceModifiers.length>0?(n(!0),o(d,{key:0},g(e.obj.StatsDropChanceModifiers,(t,j)=>(n(),o("div",null,[s(b,{obj:t.Stat},null,8,["obj"]),i[5]||(i[5]=r("为 ")),s(p,{obj:t.StatRange},null,8,["obj"]),i[6]||(i[6]=r(" 时权重 ")),t.WhenOutOfRange==1?(n(),o("span",q,"限定为")):l("",!0),s(p,{obj:t.InterpWeightRange,sign:!0},null,8,["obj"]),t.WhenOutOfRange==2?(n(),o("span",T,",否则取消")):l("",!0)]))),256)):l("",!0),e.obj.CardDropChanceModifiers.length>0?(n(!0),o(d,{key:1},g(e.obj.CardDropChanceModifiers,(t,j)=>(n(),o("div",F,[t.CardOnBoard?(n(),h(b,{key:0,obj:t.CardOnBoard},null,8,["obj"])):l("",!0),t.TagOnBoard?(n(),h(b,{key:1,obj:t.TagOnBoard},null,8,["obj"])):l("",!0),r(" "+m(t.OnlyInHand?"在手上":t.NotInHand?"不在手上":t.OnlyInInventory?"在其中":t.ExcludeInventory?"不在其中":"在场上")+" ",1),t.MaxWeightPerCard!=0?(n(),o("span",V,[i[7]||(i[7]=r("时权重")),s(v,{number:t.MaxWeightPerCard},null,8,["number"])])):l("",!0),r(" "+m(t.MultiplyByStacks?"(可叠加)":"")+" ",1),(n(!0),o(d,null,g(t.AddedStatModifiers,(y,J)=>(n(),o("div",null,[s(b,{obj:y.Stat},null,8,["obj"]),i[8]||(i[8]=r("为 ")),s(p,{obj:y.StatRange},null,8,["obj"]),i[9]||(i[9]=r(" 时权重 ")),y.WhenOutOfRange==1?(n(),o("span",H,"限定为")):l("",!0),s(p,{obj:y.InterpWeightRange,sign:!0},null,8,["obj"]),y.WhenOutOfRange==2?(n(),o("span",U,",否则取消")):l("",!0)]))),256))]))),256)):l("",!0),(n(!0),o(d,null,g(C(O)(e.obj.DurabilitiesDropChanceModifier,e.card),t=>(n(),o("div",null,[a("span",G,m(t.durability.CardStatName.Text),1),s(p,{obj:t.weight.DurabilityRange},null,8,["obj"]),i[10]||(i[10]=r(" 时权重 ")),t.weight.WhenOutOfRange==1?(n(),o("span",Q,"限定为")):l("",!0),s(p,{obj:t.weight.InterpWeightRange,sign:!0},null,8,["obj"]),t.weight.WhenOutOfRange==2?(n(),o("span",$,",否则取消")):l("",!0)]))),256))])])])])}}}),et=Object.assign(z,{__name:"CardsDropCollection"});export{et as _};
