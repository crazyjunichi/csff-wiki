import{_ as O}from"./xs3Lu4fY.js";import{_ as R}from"./CnQ2W7qm.js";import{_ as k,a as S}from"./DL-GeLI_.js";import{_ as c}from"./DRiWCNyC.js";import{_ as I}from"./Da02H24L.js";import{T as B}from"./O9v1iEuV.js";import{_ as w}from"./ctwcEARt.js";import{a as E}from"./Ds1EBrIw.js";import{f as q,E as D,c as e,j as u,a as o,F as i,r as b,i as C,b as d,d as a,o as t,t as j,k as M}from"./CxuzRj8Q.js";const V={key:0},h={key:0,class:"flex flex-wrap gap-2"},G={key:0,class:"text-xs text-gray-400"},N={key:1,class:"text-xs text-gray-400"},Q={key:0,class:"text-xs text-gray-400"},$={key:1,class:"text-xs text-gray-400"},A={class:"w-full md:w-2/3"},F={class:"flex flex-row-reverse"},L={class:"mx-2"},K={class:"space-y-4"},z={class:"flex border-b-1 border-current/20"},H={key:0},J={class:"is-family-primary has-text-weight-bold text-sm font-mono font-bold align-bottom"},P={key:0,class:"flex border-b-1 border-current/20"},U={class:"flex flex-wrap gap-x-2"},W={key:0},X={key:0},Y={class:"flex border-b-1 border-current/20"},Z={key:1,class:"flex border-b-1 border-current/20"},nn={class:"flex flex-wrap gap-x-2"},tn={key:2,class:"flex border-b-1 border-current/20"},en={key:0},rn={class:"flex border-b-1 border-current/20"},ln={class:"flex mb-2"},on={class:"text-right has-text-right w-5 mr-2"},dn={class:"is-family-primary has-text-weight-bold text-sm font-mono font-bold align-bottom"},sn={key:3},un={class:"text-right text-xl"},an={key:0},pn={class:"text-right text-sm"},bn={class:"textDurability"},gn=q({__name:"BlueprintInfo",props:{card:{}},setup(yn){D().$ObjectManager;function _(l){let n={};for(let p of l)for(let y of p.RequiredElements){if(y.RequiredCard){let m=y.RequiredCard.key;n[m]||(n[m]={card:y.RequiredCard,quantity:0}),n[m].quantity+=y.RequiredQuantity}if(y.RequiredTabGroup){let m=y.RequiredTabGroup,f=m.key;n[f]||(n[f]={card:m,quantity:0}),y.EffectOnIngredient.ModType==1?n[f].quantity=1:n[f].quantity+=y.RequiredQuantity}}return Object.values(n)}return(l,n)=>{const v=O,p=R,y=S,m=c,f=I;return l.card?(t(),e("div",V,[l.card.StatValues.length>0||l.card.CardsOnBoard.length>0||l.card.TagsOnBoard.length>0||l.card.CompletedObjectives.length>0?(t(),e("div",h,[n[11]||(n[11]=o("div",null,"解锁条件：",-1)),(t(!0),e(i,null,b(l.card.StatValues,(r,s)=>(t(),C(v,{obj:r.StatCondition},null,8,["obj"]))),256)),(t(!0),e(i,null,b(l.card.CardsOnBoard,(r,s)=>(t(),e(i,null,[n[4]||(n[4]=a(" 拥有 ")),d(p,{obj:r.Card},null,8,["obj"]),a("x"+j(r.Quantity)+" ",1),r.OnlyInEnvironment?(t(),e("span",G,[n[0]||(n[0]=a("（位于 ")),d(p,{obj:r.OnlyInEnvironment},null,8,["obj"]),n[1]||(n[1]=a(" 环境）"))])):u("",!0),r.OnlyInContainer.Target?(t(),e("span",N,[n[2]||(n[2]=a("（位于 ")),d(p,{obj:r.OnlyInContainer.Target},null,8,["obj"]),n[3]||(n[3]=a(" 环境）"))])):u("",!0)],64))),256)),(t(!0),e(i,null,b(l.card.TagsOnBoard,(r,s)=>(t(),e(i,null,[n[9]||(n[9]=a(" 拥有 ")),d(p,{obj:r.Tag},null,8,["obj"]),a("x"+j(r.Quantity)+" ",1),r.OnlyInEnvironment?(t(),e("span",Q,[n[5]||(n[5]=a("（位于 ")),d(p,{obj:r.OnlyInEnvironment},null,8,["obj"]),n[6]||(n[6]=a(" 环境）"))])):u("",!0),r.OnlyInContainer.Target?(t(),e("span",$,[n[7]||(n[7]=a("（位于 ")),d(p,{obj:r.OnlyInContainer.Target},null,8,["obj"]),n[8]||(n[8]=a(" 环境）"))])):u("",!0)],64))),256)),(t(!0),e(i,null,b(l.card.CompletedObjectives,(r,s)=>(t(),e(i,null,[n[10]||(n[10]=a(" 完成 ")),d(p,{obj:r.ObjectiveCondition},null,8,["obj"])],64))),256))])):u("",!0),o("div",A,[n[26]||(n[26]=o("h2",{class:"title text-2xl my-4"},"制作",-1)),o("div",F,[(t(!0),e(i,null,b(l.card.BlueprintActionTags,r=>(t(),e("div",L,[d(p,{obj:r},null,8,["obj"])]))),256))]),o("div",K,[o("div",z,[n[12]||(n[12]=o("div",{class:"w-[85px] flex-none"}," 材料总计： ",-1)),o("div",null,[(t(!0),e(i,null,b(_(l.card.BlueprintStages),(r,s)=>(t(),e(i,null,[s>0?(t(),e("span",H,", ")):u("",!0),d(p,{obj:r.card},null,8,["obj"]),o("span",J,"x"+j(r.quantity),1)],64))),256))])]),l.card.BlueprintStatConditions.length>0||l.card.BlueprintCardConditions.length>0||l.card.BlueprintTagConditions.length>0||l.card.BuildingStatConditions.length>0||l.card.BuildingCardConditions.length>0||l.card.BuildingTagConditions.length>0?(t(),e("div",P,[n[13]||(n[13]=o("div",{class:"w-[85px] flex-none"}," 制作条件： ",-1)),o("div",U,[(t(!0),e(i,null,b(l.card.BlueprintStatConditions,(r,s)=>(t(),e("div",null,[s>0?(t(),e("span",W,", ")):u("",!0),d(v,{obj:r},null,8,["obj"])]))),256)),(t(!0),e(i,null,b(l.card.BlueprintCardConditions,(r,s)=>(t(),e("div",null,[r.Inverted?(t(),e("span",X,"不存在")):u("",!0),d(p,{obj:r.TriggerCard},null,8,["obj"])]))),256)),(t(!0),e(i,null,b(l.card.BlueprintTagConditions,(r,s)=>(t(),e("div",null,[d(p,{obj:r.TriggerTag},null,8,["obj"])]))),256)),(t(!0),e(i,null,b(l.card.BuildingStatConditions,(r,s)=>(t(),e("div",null,[d(v,{obj:r},null,8,["obj"])]))),256)),(t(!0),e(i,null,b(l.card.BuildingCardConditions,(r,s)=>(t(),e("div",null,[d(p,{obj:r.TriggerCard},null,8,["obj"])]))),256)),(t(!0),e(i,null,b(l.card.BuildingTagConditions,(r,s)=>(t(),e("div",null,[d(p,{obj:r.TriggerTag},null,8,["obj"])]))),256))])])):u("",!0),o("div",Y,[n[15]||(n[15]=o("div",{class:"w-[85px] flex-none"}," 制作时间： ",-1)),o("div",null,[l.card.BlueprintStages.length==1?(t(),C(B,{key:0,tp:l.card.BuildingDaytimeCost},null,8,["tp"])):u("",!0),l.card.BlueprintStages.length>1?(t(),e(i,{key:1},[d(B,{tp:l.card.BuildingDaytimeCost},null,8,["tp"]),n[14]||(n[14]=a("/每步骤，共计：")),d(B,{tp:l.card.BuildingDaytimeCost*l.card.BlueprintStages.length},null,8,["tp"])],64)):u("",!0)])]),l.card.BlueprintStatModifications.length>0?(t(),e("div",Z,[n[16]||(n[16]=o("div",{class:"w-[85px] flex-none"}," 状态变化： ",-1)),o("div",nn,[(t(!0),e(i,null,b(l.card.BlueprintStatModifications,(r,s)=>(t(),e("div",null,[d(w,{obj:r},null,8,["obj"])]))),256))])])):u("",!0),l.card.BlueprintCardModifications.length>0||l.card.BlueprintContainerCardChanges.ModType>0?(t(),e("div",tn,[n[18]||(n[18]=o("div",{class:"w-[85px] flex-none"}," 卡牌变化： ",-1)),o("div",null,[(t(!0),e(i,null,b(l.card.BlueprintCardModifications,(r,s)=>(t(),C(y,{obj:r},null,8,["obj"]))),256)),l.card._blueprintContainerCard?(t(),e("div",en,[n[17]||(n[17]=a(" 容器 ")),d(p,{obj:l.card._blueprintContainerCard},null,8,["obj"]),d(k,{obj:l.card.BlueprintContainerCardChanges,card:l.card._blueprintContainerCard},null,8,["obj","card"])])):u("",!0)])])):u("",!0),o("div",rn,[n[21]||(n[21]=o("div",{class:"w-[85px] flex-none"},"步骤：",-1)),o("div",null,[(t(!0),e(i,null,b(l.card.BlueprintStages,(r,s)=>(t(),e("div",ln,[o("div",on,j(s+1)+". ",1),o("div",null,[(t(!0),e(i,null,b(r.RequiredElements,(g,x)=>(t(),e(i,null,[g.RequiredCard?(t(),C(p,{key:0,obj:g.RequiredCard},null,8,["obj"])):u("",!0),g.RequiredTabGroup?(t(),C(p,{key:1,obj:g.RequiredTabGroup},null,8,["obj"])):u("",!0),o("span",dn,"x"+j(g.RequiredQuantity),1),g.EffectOnIngredient.ModType>0?(t(),e(i,{key:2},[n[19]||(n[19]=a(" (")),d(k,{class:"smallText",obj:g.EffectOnIngredient,card:g.RequiredCard||g.RequiredTabGroup},null,8,["obj","card"]),n[20]||(n[20]=a(") "))],64)):u("",!0),x<r.RequiredElements.length-1?(t(),e("span",sn,", ")):u("",!0)],64))),256))])]))),256))])]),o("div",null,[o("div",un,[l.card.BlueprintResult.length>0?(t(),e("div",an,[n[22]||(n[22]=o("span",null,"成品：",-1)),(t(!0),e(i,null,b(l.card.BlueprintResult,(r,s)=>(t(),e("span",null,[d(m,{obj:r},null,8,["obj"])]))),256))])):u("",!0)]),o("div",pn,[(t(!0),e(i,null,b(l.card.ResultInterpolatedDurabilityModifiers,r=>{var s,g,x,T;return t(),e("div",null,[n[23]||(n[23]=a(" 修正 ")),o("span",bn,j(((T=(x=(g=(s=l.card.BlueprintResult[0])==null?void 0:s.DroppedCard)==null?void 0:g[M(E)(r.OutputDurability)])==null?void 0:x.CardStatName)==null?void 0:T.Text)??""),1),n[24]||(n[24]=a(" ： ")),d(p,{obj:r.InputStat},null,8,["obj"]),n[25]||(n[25]=a(" 为 ")),d(f,{obj:r.Value,joiner:"时增加"},null,8,["obj"])])}),256))])])])])])):u("",!0)}}}),_n=Object.assign(gn,{__name:"BlueprintInfo"});export{_n as _};
