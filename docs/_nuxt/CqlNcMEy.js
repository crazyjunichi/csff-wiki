import{f as F,c as t,o as e,a as l,j as s,F as v,r as V,b as o,w as E,d as b,t as p,k as a,b1 as c,g as re,h as f,i as L}from"./CxuzRj8Q.js";import{_ as oe}from"./BD8QkKSM.js";import{_ as X}from"./DeGFvPd9.js";import{_ as le}from"./eDtFW_X8.js";import{_ as ee}from"./C4X5DcGM.js";import{_ as te}from"./CayoGU6K.js";import{_ as Y}from"./ctwcEARt.js";import{_ as G}from"./CnQ2W7qm.js";import{g as ue,_ as ie,a as de}from"./D4QWJTUO.js";import{s as z}from"./CmhWX4mB.js";import{_ as se}from"./Da02H24L.js";import{s as ae}from"./DpjabANr.js";import{_ as me}from"./BheWnx7M.js";import{i as h}from"./CCTKLA_0.js";import"./BjPl6QUu.js";import"./4ZQD7UTg.js";import"./C26iWNhm.js";function ne(i){switch(i){case 0:return"继续战斗";case 1:return"击败了对手";case 2:return"对手逃跑了";case 3:return"玩家逃跑了";case 4:return"Special1";case 5:return"Special2";case 6:return"Special3";case 7:return"Special4";case 8:return"玩家士气低落"}return""}function _e(i,...m){return i?typeof m[0]=="object"?i.replace(/{(\w+)}/g,(_,M)=>m[0][M]!="undefined"?m[0][M]:_):i.replace(/{(\d+)}/g,(_,M)=>typeof m[M]<"u"?m[M]:_):""}const pe={class:"bg-current/5 p-1 mb-1"},fe={class:"flex"},ge={class:"grow"},be={class:"mr-1"},ye={key:0},ve={class:"text-sm text-current/50"},Ve={class:"mr-1"},Ee={class:"mr-1"},Me={key:0},je={key:1},Ae={key:2},he={class:"mr-1"},Te={class:"textDurability"},We={class:"text-right text-sm text-current/30"},ce=F({__name:"EnemyWound",props:{wound:{},level:{},encounter:{}},setup(i){return(m,_)=>{const M=ee,u=Y,T=G,R=ie,I=X,O=te,C=z;return e(),t("div",pe,[l("div",fe,[l("div",ge,[l("div",null,[(e(!0),t(v,null,V(m.wound.RequiredDamageTypes,(g,S)=>(e(),t("span",be,[S>0?(e(),t("span",ye," / ")):s("",!0),o(M,{withContent:""},{default:E(()=>{var y;return[b(p((y=g.Name)==null?void 0:y.Text),1)]}),_:2},1024)]))),256))]),l("div",ve,"> "+p(a(_e)(m.wound.CombatLog.LogText.Text,m.encounter.EnemyName.Text)),1),l("div",null,[(e(!0),t(v,null,V(m.wound.StatChanges,g=>(e(),t("span",Ve,[o(u,{obj:g},null,8,["obj"])]))),256)),(e(!0),t(v,null,V(m.wound.DroppedCards,g=>(e(),t("span",Ee,[o(T,{obj:g},null,8,["obj"])]))),256))]),l("div",null,p(a(ue)(m.wound.BodyLocationModifiers)),1),l("div",null,[o(R,{obj:m.wound.EnemyValuesModifiers,encounter:m.encounter},null,8,["obj","encounter"])]),m.wound.AccumulatedWoundValue.Active?(e(),t("div",Me,[_[0]||(_[0]=l("span",{class:"gray-text"},"累计受伤值：",-1)),o(I,{obj:{x:m.wound.AccumulatedWoundValue.FloatValue,y:m.wound.AccumulatedWoundValue.MaxValue},sign:!0},null,8,["obj"])])):s("",!0),m.wound.WeaponDurabilityDamage.Active?(e(),t("div",je,[_[1]||(_[1]=l("span",{class:"gray-text"},"武器损耗：",-1)),o(O,{number:m.wound.WeaponDurabilityDamage.FloatValue},null,8,["number"])])):s("",!0),m.wound.NPCStatChanges.filter(g=>!!g.TargetAgent).length>0?(e(),t("div",Ae,[o(C,{legend:"NPC状态变化",class:"mt-1"},{default:E(()=>[(e(!0),t(v,null,V(m.wound.NPCStatChanges.filter(g=>!!g.TargetAgent),g=>(e(),t("div",he,[o(T,{obj:g.TargetAgent},null,8,["obj"]),l("span",Te,p(g.TargetStat.GameName.Text),1),o(I,{obj:g.ValueChange,sign:!0},null,8,["obj"])]))),256))]),_:1})])):s("",!0),l("div",We," -> "+p(a(ne)(m.wound.EncounterResult)),1)])])])}}}),Re=Object.assign(ce,{__name:"EnemyWound"}),Pe={class:"bg-current/5 p-1"},Ce={class:"flex"},Se={class:"text-center px-1 mr-2 bg-current/10 flex flex-col justify-center"},ke={class:"text-xl font-bold"},Le={class:"grow"},De={class:"text-xs text-current/50"},xe={class:"mr-1"},Ie={class:"mr-1"},Oe={class:"text-right text-sm text-current/30"},we=F({__name:"PlayerWound",props:{wound:{},level:{}},setup(i){return(m,_)=>{const M=Y,u=G;return e(),t("div",Pe,[l("div",Ce,[l("div",Se,[_[0]||(_[0]=l("div",{class:"text-tiny"},"几率",-1)),l("div",ke,p(m.wound.WoundSelectionWeight),1)]),l("div",Le,[l("div",De,p(m.wound.WoundLog.LogText.Text),1),l("div",null,[(e(!0),t(v,null,V(m.wound.StatChanges,T=>(e(),t("span",xe,[o(M,{obj:T},null,8,["obj"])]))),256)),(e(!0),t(v,null,V(m.wound.DroppedCards,T=>(e(),t("span",Ie,[o(u,{obj:T},null,8,["obj"])]))),256))]),l("div",Oe," -> "+p(a(ne)(m.wound.EncounterResult)),1)])])])}}}),Ne=Object.assign(we,{__name:"PlayerWound"});function K(i){switch(i){case 0:return"留在原地";case 1:return"随机移动到相邻区域";case 2:return"移动到特定区域";case 3:return"移动到前一区域"}return""}const $e={key:0},He={class:"mr-1"},Be={class:"mr-1"},Ue={key:1},Fe={key:0},Ge={key:1},qe={class:"mr-1"},Xe={key:0},Ye={key:2},ze={key:0},Je={key:1},Ke={key:2},Qe={class:"mr-1"},Ze={key:0},et={key:3},tt={class:"mr-1"},nt={class:"textDurability"},rt=F({__name:"EncounterResultEffect",props:{effect:{}},setup(i){const m=i;return(_,M)=>{var O,C;const u=Y,T=G,R=X,I=z;return e(),t("div",null,[("effect"in _?_.effect:a(c)).AmmoRecovery!=3?(e(),t("div",$e,[M[0]||(M[0]=l("span",{class:"gray-text"},"弹药：",-1)),l("span",null,p(["恢复全部","恢复失误的","恢复命中的",""][("effect"in _?_.effect:a(c)).AmmoRecovery]),1)])):s("",!0),l("div",null,[M[1]||(M[1]=l("span",{class:"gray-text"},"状态：",-1)),(e(!0),t(v,null,V(m.effect.StatChanges,g=>(e(),t("span",He,[o(u,{obj:g},null,8,["obj"])]))),256))]),l("div",null,[M[2]||(M[2]=l("span",{class:"gray-text"},"掉落：",-1)),(e(!0),t(v,null,V(m.effect.DroppedCards,g=>(e(),t("span",Be,[o(T,{obj:g},null,8,["obj"])]))),256))]),("effect"in _?_.effect:a(c)).MovePlayer>0?(e(),t("div",Ue,[("effect"in _?_.effect:a(c)).MovePlayer!=2?(e(),t("span",Fe,[M[3]||(M[3]=l("span",{class:"gray-text"},"玩家：",-1)),b(" "+p(a(K)(("effect"in _?_.effect:a(c)).MovePlayer)),1)])):(e(),t("span",Ge,[M[4]||(M[4]=l("span",{class:"gray-text"},"玩家：",-1)),M[5]||(M[5]=b(" 移动至 ")),(e(!0),t(v,null,V(("effect"in _?_.effect:a(c)).MovePlayerToSpecificEnvironment,(g,S)=>(e(),t("span",qe,[S>0?(e(),t("span",Xe,"/")):s("",!0),o(T,{obj:g},null,8,["obj"])]))),256))]))])):s("",!0),("effect"in _?_.effect:a(c)).MoveNPC>0&&("effect"in _?_.effect:a(c)).NPCStatChanges.length>0?(e(),t("div",Ye,[M[7]||(M[7]=l("span",{class:"gray-text"},"NPC：",-1)),(O=("effect"in _?_.effect:a(c)).NPCStatChanges.find(g=>g.TargetAgent))!=null&&O.TargetAgent?(e(),t("span",ze,[o(T,{obj:(C=("effect"in _?_.effect:a(c)).NPCStatChanges.find(g=>g.TargetAgent))==null?void 0:C.TargetAgent},null,8,["obj"])])):s("",!0),("effect"in _?_.effect:a(c)).MoveNPC!=2?(e(),t("span",Je,[l("span",null,p(a(K)(("effect"in _?_.effect:a(c)).MoveNPC)),1)])):(e(),t("span",Ke,[M[6]||(M[6]=b(" 移动至 ")),(e(!0),t(v,null,V(("effect"in _?_.effect:a(c)).MoveNPCToSpecificEnvironment,(g,S)=>(e(),t("span",Qe,[S>0?(e(),t("span",Ze,"/")):s("",!0),o(T,{obj:g},null,8,["obj"])]))),256))]))])):s("",!0),m.effect.NPCStatChanges.filter(g=>!!g.TargetAgent).length>0?(e(),t("div",et,[o(I,{legend:"NPC状态变化",class:"mt-1"},{default:E(()=>[(e(!0),t(v,null,V(m.effect.NPCStatChanges.filter(g=>!!g.TargetAgent),g=>(e(),t("div",tt,[o(T,{obj:g.TargetAgent},null,8,["obj"]),l("span",nt,p(g.TargetStat.GameName.Text),1),o(R,{obj:g.ValueChange,sign:!0},null,8,["obj"])]))),256))]),_:1})])):s("",!0)])}}}),ot=Object.assign(rt,{__name:"EncounterResultEffect"});var D=(i=>(i[i.Add0Weight=0]="Add0Weight",i[i.UseMinMaxWeight=1]="UseMinMaxWeight",i[i.CancelDrop=2]="CancelDrop",i))(D||{}),x=(i=>(i[i.Return0Value=0]="Return0Value",i[i.UseMinMaxOutputValue=1]="UseMinMaxOutputValue",i[i.ReturnCustomValue=2]="ReturnCustomValue",i[i.ReturnNegativeInfinity=3]="ReturnNegativeInfinity",i[i.ReturnPositiveInfinity=4]="ReturnPositiveInfinity",i))(x||{});function lt(i){let m={[D.Add0Weight]:x.ReturnCustomValue,[D.UseMinMaxWeight]:x.UseMinMaxOutputValue,[D.CancelDrop]:x.Return0Value};return{Active:i.Active,InputValueRange:i.DurabilityRange,OutputValueRange:{x:i.InterpWeightRange.m_X,y:i.InterpWeightRange.m_Y},WhenOutOfRange:m[i.WhenOutOfRange],OutOfRangeCustomValue:0}}function ut(i){switch(i){case 0:return"近身";case 1:return"远距离";case 2:return""}return""}function Q(i,m=""){switch(i){case 0:return"";case 1:return m+"脆弱中";case 2:return m+"非脆弱"}return""}function it(i){switch(i){case 0:return"";case 1:return"缠斗中";case 2:return"非缠斗中"}return""}function Z(i){return[{name:"总",mod:i.AllWoundModifier},{name:"头部",mod:i.HeadWoundModifier},{name:"身体",mod:i.TorsoWoundModifier},{name:"左臂",mod:i.LArmWoundModifier},{name:"右臂",mod:i.RArmWoundModifier},{name:"左腿",mod:i.LLegWoundModifier},{name:"右腿",mod:i.RLegWoundModifier}].filter(_=>_.mod.InterpolatedAddedValue.Active)}function dt(i){return[{name:"身体",value:i.TorsoHitProbabilityModifier},{name:"头部",value:i.HeadHitProbabilityModifier},{name:"左臂",value:i.LArmHitProbabilityModifier},{name:"右臂",value:i.RArmHitProbabilityModifier},{name:"左腿",value:i.LLegHitProbabilityModifier},{name:"右腿",value:i.RLegHitProbabilityModifier}].filter(_=>_.value!=0)}function st(i){let m={[D.Add0Weight]:x.ReturnCustomValue,[D.UseMinMaxWeight]:x.UseMinMaxOutputValue,[D.CancelDrop]:x.Return0Value};return{Active:!0,InputValueRange:i.StatRange,OutputValueRange:{x:i.InterpWeightRange.m_X,y:i.InterpWeightRange.m_Y},WhenOutOfRange:m[i.WhenOutOfRange],OutOfRangeCustomValue:0}}const at={class:"flex"},mt={class:"ml-2"},_t={class:"flex justify-center"},pt={class:"flex justify-center mt-4"},ft={class:"flex flex-wrap gap-2"},gt={key:0,class:"border border-current/50 rounded p-0 mb-2"},bt={key:1,class:"border border-red-400/50 rounded p-0 mb-2"},yt={key:2,class:"border border-red-700/70 rounded p-0 mb-2"},vt={key:3,class:"border-2 border-red-800/90 rounded p-0 mb-2"},Vt={class:"flex flex-wrap gap-2"},Et={key:0},Mt={key:1},jt={key:2},At={class:"flex"},ht={key:0},Tt={key:1},Wt={key:2},ct={key:3},Rt={key:4},Pt={key:5},Ct={key:6},St={key:7},kt={key:8},Lt={key:9},Dt={class:"textDurability"},xt={key:0},It={key:1},Ot={key:2},wt={key:3},Nt={key:4},$t={key:5},Ht={class:"textDurability"},Bt={key:0},Ut={class:"textDurability"},Ft={key:0},Gt={key:0},qt={key:0},Xt={key:1},Yt={key:2},zt={class:"textDurability"},Jt={key:0},Kt={class:"textDurability"},Qt={key:0},Zt={key:0},en={key:0},tn={class:"flex flex-wrap"},nn={class:"mr-2"},rn={key:0},on={class:"textDurability"},ln={key:1},un={key:2},dn={key:0},sn={key:3},an={key:0},mn={key:0,class:"border border-current/50 rounded p-0 mb-2"},_n={key:1,class:"border border-red-400/50 rounded p-0 mb-2"},pn={key:2,class:"border border-red-700/70 rounded p-0 mb-2"},fn={key:3,class:"border-2 border-red-800/90 rounded p-0 mb-2"},gn={key:0},bn={key:1},yn={class:"flex flex-wrap gap-2"},In=F({__name:"Encounter",props:{id:{}},async setup(i){let m,_;const M=i,u=([m,_]=re(()=>me(Object.assign({"../../generated/encounter/0_1512.json":()=>f(()=>import("./BpriLEAx.js"),[],import.meta.url),"../../generated/encounter/0_1513.json":()=>f(()=>import("./Fw8kgOFQ.js"),[],import.meta.url),"../../generated/encounter/0_1514.json":()=>f(()=>import("./DhUat_YI.js"),[],import.meta.url),"../../generated/encounter/0_1515.json":()=>f(()=>import("./CNfJ_c1Z.js"),[],import.meta.url),"../../generated/encounter/0_1516.json":()=>f(()=>import("./B8DVnUiE.js"),[],import.meta.url),"../../generated/encounter/0_1517.json":()=>f(()=>import("./CMzvQ9bT.js"),[],import.meta.url),"../../generated/encounter/0_1518.json":()=>f(()=>import("./CUL4O4Ld.js"),[],import.meta.url),"../../generated/encounter/0_1519.json":()=>f(()=>import("./Hikp9bkv.js"),[],import.meta.url),"../../generated/encounter/0_1520.json":()=>f(()=>import("./DdMTFPDm.js"),[],import.meta.url),"../../generated/encounter/0_1521.json":()=>f(()=>import("./DrpGNZJD.js"),[],import.meta.url),"../../generated/encounter/0_1522.json":()=>f(()=>import("./D1UrlBSg.js"),[],import.meta.url),"../../generated/encounter/0_1523.json":()=>f(()=>import("./D46WqitY.js"),[],import.meta.url),"../../generated/encounter/0_1524.json":()=>f(()=>import("./BRxuXNB-.js"),[],import.meta.url),"../../generated/encounter/0_1525.json":()=>f(()=>import("./C9dp6jOT.js"),[],import.meta.url),"../../generated/encounter/0_1526.json":()=>f(()=>import("./R3lu44_g.js"),[],import.meta.url),"../../generated/encounter/0_1530.json":()=>f(()=>import("./DL5FUQUt.js"),[],import.meta.url),"../../generated/encounter/0_1531.json":()=>f(()=>import("./BAPKJqoO.js"),[],import.meta.url),"../../generated/encounter/0_1532.json":()=>f(()=>import("./D-FYc7l8.js"),[],import.meta.url),"../../generated/encounter/0_1533.json":()=>f(()=>import("./CVLrAtsb.js"),[],import.meta.url),"../../generated/encounter/0_1534.json":()=>f(()=>import("./DFCmOUtz.js"),[],import.meta.url),"../../generated/encounter/0_1535.json":()=>f(()=>import("./BoeHKSkB.js"),[],import.meta.url),"../../generated/encounter/0_1536.json":()=>f(()=>import("./BVD5VKry.js"),[],import.meta.url),"../../generated/encounter/0_1537.json":()=>f(()=>import("./BvedPDK4.js"),[],import.meta.url),"../../generated/encounter/0_1538.json":()=>f(()=>import("./DfvSD3q_.js"),[],import.meta.url),"../../generated/encounter/0_1539.json":()=>f(()=>import("./_8nfAyAS.js"),[],import.meta.url),"../../generated/encounter/0_1540.json":()=>f(()=>import("./DAtGdIzS.js"),[],import.meta.url),"../../generated/encounter/0_1541.json":()=>f(()=>import("./ByJzrDZb.js"),[],import.meta.url),"../../generated/encounter/0_1542.json":()=>f(()=>import("./jqGYsBjN.js"),[],import.meta.url),"../../generated/encounter/0_1543.json":()=>f(()=>import("./DcWsATd9.js"),[],import.meta.url),"../../generated/encounter/0_1544.json":()=>f(()=>import("./DIQtvKVC.js"),[],import.meta.url),"../../generated/encounter/0_4728.json":()=>f(()=>import("./l9UPifGU.js"),[],import.meta.url),"../../generated/encounter/0_4737.json":()=>f(()=>import("./g_VqJ_RH.js"),[],import.meta.url),"../../generated/encounter/0_4757.json":()=>f(()=>import("./DK29AIZO.js"),[],import.meta.url),"../../generated/encounter/0_4760.json":()=>f(()=>import("./DaiPzP1R.js"),[],import.meta.url),"../../generated/encounter/0_4766.json":()=>f(()=>import("./BPBlyHds.js"),[],import.meta.url),"../../generated/encounter/0_4769.json":()=>f(()=>import("./DDe6NQHu.js"),[],import.meta.url),"../../generated/encounter/0_4781.json":()=>f(()=>import("./CBEVJwRu.js"),[],import.meta.url),"../../generated/encounter/0_4783.json":()=>f(()=>import("./8IthIBMy.js"),[],import.meta.url),"../../generated/encounter/0_4790.json":()=>f(()=>import("./TqjtfOqU.js"),[],import.meta.url),"../../generated/encounter/0_4792.json":()=>f(()=>import("./BNjV5cca.js"),[],import.meta.url)}),`../../generated/encounter/${M.id}.json`,5)),m=await m,_(),m).default;let R=[u.MeleeSkill,u.RangedSkill,u.Blood,u.Stamina,u.Morale,u.Value1,u.Value2,u.Value3,u.Value4].filter(y=>!!y.Name||!!y.MaxValue||!!y.StartingValue.x||!!y.StartingValue.y);function I(){let y={"Melee Skill":"近战","Ranged Skill":"远程",Blood:"血量",Stamina:"精神",Morale:"斗志"};R.forEach(n=>{n.Name=y[n.Name]||n.Name})}I();function O(y){return[{value:u.MeleeSkill,mod:y.ValuesWeightModifiers.WeightPerMeleeSkill},{value:u.RangedSkill,mod:y.ValuesWeightModifiers.WeightPerRangedSkill},{value:u.Blood,mod:y.ValuesWeightModifiers.WeightPerBlood},{value:u.Stamina,mod:y.ValuesWeightModifiers.WeightPerStamina},{value:u.Morale,mod:y.ValuesWeightModifiers.WeightPerMorale},{value:u.Value1,mod:y.ValuesWeightModifiers.WeightPerValue1},{value:u.Value2,mod:y.ValuesWeightModifiers.WeightPerValue2},{value:u.Value3,mod:y.ValuesWeightModifiers.WeightPerValue3},{value:u.Value4,mod:y.ValuesWeightModifiers.WeightPerValue4}].filter(k=>R.includes(k.value)&&k.mod.Active)}function C(y){return[{value:u.MeleeSkill,mod:y.EnemyMeleeSkillMod},{value:u.RangedSkill,mod:y.EnemyRangedSkillMod},{value:u.Blood,mod:y.EnemyBloodMod},{value:u.Stamina,mod:y.EnemyStaminaMod},{value:u.Morale,mod:y.EnemyMoraleMod},{value:u.Value1,mod:y.EnemyValue1Mod},{value:u.Value2,mod:y.EnemyValue2Mod},{value:u.Value3,mod:y.EnemyValue3Mod},{value:u.Value4,mod:y.EnemyValue4Mod}].filter(k=>R.includes(k.value)&&k.mod.InterpolatedAddedValue.Active)}function g(){return[{name:"头部",bodyTemplate:u.EnemyBodyTemplate.Head,armor:u.EnemyArmor.HeadArmor,armorModifiers:u.EnemyArmor.HeadArmorModifiers,hitProbabilityModifier:u.EnemyArmor.HeadHitProbabilityModifier},{name:"躯干",bodyTemplate:u.EnemyBodyTemplate.Torso,armor:u.EnemyArmor.TorsoArmor,armorModifiers:u.EnemyArmor.TorsoArmorModifiers,hitProbabilityModifier:u.EnemyArmor.TorsoHitProbabilityModifier},{name:"左臂",bodyTemplate:u.EnemyBodyTemplate.LArm,armor:u.EnemyArmor.LArmArmor,armorModifiers:u.EnemyArmor.LArmArmorModifiers,hitProbabilityModifier:u.EnemyArmor.LArmHitProbabilityModifier},{name:"右臂",bodyTemplate:u.EnemyBodyTemplate.RArm,armor:u.EnemyArmor.RArmArmor,armorModifiers:u.EnemyArmor.RArmArmorModifiers,hitProbabilityModifier:u.EnemyArmor.RArmHitProbabilityModifier},{name:"左腿",bodyTemplate:u.EnemyBodyTemplate.LLeg,armor:u.EnemyArmor.LLegArmor,armorModifiers:u.EnemyArmor.LLegArmorModifiers,hitProbabilityModifier:u.EnemyArmor.LLegHitProbabilityModifier},{name:"右腿",bodyTemplate:u.EnemyBodyTemplate.RLeg,armor:u.EnemyArmor.RLegArmor,armorModifiers:u.EnemyArmor.RLegArmorModifiers,hitProbabilityModifier:u.EnemyArmor.RLegHitProbabilityModifier}]}function S(){var y;return{key:u.m_Name,text:u.EnemyName.Text,icon:(y=u.EncounterImage)==null?void 0:y.FileName,type:"encounter"}}return(y,n)=>{const k=oe,j=X,$=le,A=ee,W=te,H=Re,w=z,N=ae,P=se,q=G,B=Ne,U=ot;return e(),t("div",null,[l("h2",null,p(a(u).EncounterTitle.Text),1),l("div",null,[l("div",at,[l("div",null,[o(k,{card:S()},null,8,["card"])]),l("div",mt,[l("div",_t,[(e(!0),t(v,null,V(a(R),r=>(e(),L($,{title:r.Name,value:""},{default:E(()=>[o(j,{obj:r.StartingValue},null,8,["obj"])]),_:2},1032,["title"]))),256))]),l("div",pt,[o($,{title:"体型",value:""},{default:E(()=>[o(j,{obj:a(u).EnemySize},null,8,["obj"])]),_:1}),o($,{title:"掩护",value:""},{default:E(()=>[o(j,{obj:a(u).EnemyCover},null,8,["obj"])]),_:1}),o($,{title:"潜行",value:""},{default:E(()=>[o(j,{obj:a(u).EnemyStealth},null,8,["obj"])]),_:1}),o($,{title:"意识",value:""},{default:E(()=>[o(j,{obj:a(u).EnemyAwareness},null,8,["obj"])]),_:1})])])])]),l("div",null,[n[3]||(n[3]=l("h2",{class:"title"},"身体数据",-1)),l("div",ft,[(e(!0),t(v,null,V(g(),r=>(e(),t("div",null,[o(N,null,{title:E(()=>[l("div",null,p(r.name),1)]),content:E(()=>[l("div",null,[n[0]||(n[0]=l("span",null,"护甲：",-1)),l("span",null,p(r.bodyTemplate.Armor+r.armor),1),l("span",null,"("+p(r.bodyTemplate.Armor)+" + "+p(r.armor)+")",1)]),l("div",null,[n[1]||(n[1]=l("span",null,"命中概率：",-1)),l("span",null,"近战:"+p(r.bodyTemplate.MeleeHitChanceWeight+r.hitProbabilityModifier),1),n[2]||(n[2]=b(" / ")),l("span",null,"远程:"+p(r.bodyTemplate.RangedHitChanceWeight+r.hitProbabilityModifier),1)]),l("div",null,[(e(!0),t(v,null,V(r.bodyTemplate.ArmorModifiers.concat(r.armorModifiers),d=>(e(),t("div",null,[l("div",null,[o(A,{text:d.DmgType.Name.Text},null,8,["text"]),o(W,{number:d.Modifier},null,8,["number"])])]))),256))]),o(w,{legend:"受伤",collapsed:"",toggleable:""},{default:E(()=>[l("div",null,[r.bodyTemplate.UnharmedResults.length>0?(e(),t("div",gt,[(e(!0),t(v,null,V(r.bodyTemplate.UnharmedResults,d=>(e(),t("div",null,[o(H,{wound:d,level:0,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):s("",!0),r.bodyTemplate.MinorWounds.length>0?(e(),t("div",bt,[(e(!0),t(v,null,V(r.bodyTemplate.MinorWounds,d=>(e(),t("div",null,[o(H,{wound:d,level:1,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):s("",!0),r.bodyTemplate.MediumWounds.length>0?(e(),t("div",yt,[(e(!0),t(v,null,V(r.bodyTemplate.MediumWounds,d=>(e(),t("div",null,[o(H,{wound:d,level:2,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):s("",!0),r.bodyTemplate.SeriousWounds.length>0?(e(),t("div",vt,[(e(!0),t(v,null,V(r.bodyTemplate.SeriousWounds,d=>(e(),t("div",null,[o(H,{wound:d,level:3,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):s("",!0)])]),_:2},1024)]),_:2},1024)]))),256))])]),l("div",null,[n[50]||(n[50]=l("h2",null,"动作",-1)),l("div",Vt,[(e(!0),t(v,null,V(a(u).EnemyActions,r=>(e(),L(N,null,{title:E(()=>[l("div",null,[b("⚠️"+p(r.ActionLog.LogText.Text)+" ",1),o(A,{text:["近身","远程"][r.ActionRange]},null,8,["text"]),r.DoesNotAttack?s("",!0):(e(),L(A,{key:0,text:"攻击"})),r.CannotBeDodged?(e(),L(A,{key:1,text:"无法闪避"})):s("",!0),r.IsEscapeAction?(e(),L(A,{key:2,text:"逃跑"})):s("",!0),r.IsChargingAction?(e(),L(A,{key:3,text:"蓄力"})):s("",!0),r.IgnoreEnemySkillForClash?(e(),L(A,{key:4,text:"无视技能"})):s("",!0)])]),content:E(()=>[r.Reach?(e(),t("div",Et,"触发距离: "+p(r.Reach),1)):s("",!0),r.CustomClashAgainstValue?(e(),t("div",Mt,[n[4]||(n[4]=b(" 失败权重: ")),o(j,{obj:r.CustomClashAgainstValue},null,8,["obj"])])):s("",!0),r.DamageTypes.length>0?(e(),t("div",jt,[n[5]||(n[5]=l("span",null,"伤害类型：",-1)),(e(!0),t(v,null,V(r.DamageTypes,(d,vn)=>(e(),t("span",null,[o(A,{withContent:""},{default:E(()=>{var J;return[b(p((J=d.Name)==null?void 0:J.Text),1)]}),_:2},1024)]))),256))])):s("",!0),l("div",null,[(e(!0),t(v,null,V(a(dt)(r.AddedPlayerLocationHitProbabilities),d=>(e(),t("div",null,[l("div",null,[n[6]||(n[6]=b(" 命中玩家")),l("span",null,p(d.name),1),n[7]||(n[7]=b("几率 ")),o(W,{number:d.value},null,8,["number"])])]))),256))]),l("div",At,[n[8]||(n[8]=l("div",null,"条件：",-1)),l("div",null,[o(A,{text:a(ut)(r.RequiredDistance)},null,8,["text"]),o(A,{text:a(it)(r.RequiredWrestlingState)},null,8,["text"]),o(A,{text:a(Q)(r.RequiredSelfVulnerableState,"玩家")},null,8,["text"]),o(A,{text:a(Q)(r.RequiredOpponentVulnerableState,"自身")},null,8,["text"])])]),o(w,{legend:"动作权重"},{default:E(()=>[l("div",null,[n[9]||(n[9]=l("span",null,"基础权重 = ",-1)),l("span",null,p(r.BaseWeight),1)]),r.DistanceWeightModifier!=0?(e(),t("div",ht,[n[10]||(n[10]=b("远距离时权重")),o(W,{number:r.DistanceWeightModifier},null,8,["number"])])):s("",!0),r.CloseRangeWeightModifier!=0?(e(),t("div",Tt,[n[11]||(n[11]=b("近身时权重")),o(W,{number:r.CloseRangeWeightModifier},null,8,["number"])])):s("",!0),r.WrestlingWeightModifier!=0?(e(),t("div",Wt,[n[12]||(n[12]=b("缠斗中权重")),o(W,{number:r.WrestlingWeightModifier},null,8,["number"])])):s("",!0),r.NOTWrestlingWeightModifier!=0?(e(),t("div",ct,[n[13]||(n[13]=b("未缠斗中权重")),o(W,{number:r.NOTWrestlingWeightModifier},null,8,["number"])])):s("",!0),r.EnemyHiddenWeightModifier!=0?(e(),t("div",Rt,[n[14]||(n[14]=b("自身隐藏时中权重")),o(W,{number:r.EnemyHiddenWeightModifier},null,8,["number"])])):s("",!0),r.PlayerHiddenWeightModifier!=0?(e(),t("div",Pt,[n[15]||(n[15]=b("玩家隐藏时中权重")),o(W,{number:r.PlayerHiddenWeightModifier},null,8,["number"])])):s("",!0),r.SelfVulnerableWeightModifier!=0?(e(),t("div",Ct,[n[16]||(n[16]=b("自身脆弱时权重")),o(W,{number:r.SelfVulnerableWeightModifier},null,8,["number"])])):s("",!0),r.SelfNOTVulnerableWeightModifier!=0?(e(),t("div",St,[n[17]||(n[17]=b("自身未脆弱时权重")),o(W,{number:r.SelfNOTVulnerableWeightModifier},null,8,["number"])])):s("",!0),r.OpponentVulnerableWeightModifier!=0?(e(),t("div",kt,[n[18]||(n[18]=b("对手脆弱时权重")),o(W,{number:r.OpponentVulnerableWeightModifier},null,8,["number"])])):s("",!0),r.OpponentNOTVulnerableWeightModifier!=0?(e(),t("div",Lt,[n[19]||(n[19]=b("对手脆弱时权重")),o(W,{number:r.OpponentNOTVulnerableWeightModifier},null,8,["number"])])):s("",!0),(e(!0),t(v,null,V(O(r),d=>(e(),t("div",null,[l("span",Dt,p(d.value.Name),1),n[20]||(n[20]=b("为 ")),o(P,{obj:a(lt)(d.mod),joiner:"时权重",outputSign:!0},null,8,["obj"])]))),256)),(e(!0),t(v,null,V(r.StatsWeightModifiers,d=>(e(),t("div",null,[o(q,{obj:d.Stat},null,8,["obj"]),n[21]||(n[21]=b(" 为 ")),o(P,{obj:a(st)(d),joiner:"时权重",outputSign:!0},null,8,["obj"])]))),256))]),_:2},1024),o(w,{legend:"攻击力"},{default:E(()=>[l("div",null,[n[22]||(n[22]=l("span",null,"基础攻击力 = ",-1)),l("span",null,p(r.BaseClashValue),1)]),a(h)(r.ClashRangedInaccuracy)?s("",!0):(e(),t("div",xt,[n[23]||(n[23]=l("span",null,"远距离时",-1)),o(j,{obj:r.ClashRangedInaccuracy,sign:!0},null,8,["obj"])])),a(h)(r.ClashStealthBonus)?s("",!0):(e(),t("div",It,[n[24]||(n[24]=l("span",null,"潜行时",-1)),o(j,{obj:r.ClashStealthBonus,sign:!0},null,8,["obj"])])),a(h)(r.IneffectiveRangeMalus)?s("",!0):(e(),t("div",Ot,[n[25]||(n[25]=l("span",null,"自身潜行时",-1)),o(j,{obj:r.IneffectiveRangeMalus,sign:!0},null,8,["obj"])])),a(h)(r.ClashVsEscapeModifier)?s("",!0):(e(),t("div",wt,[n[26]||(n[26]=l("span",null,"玩家逃跑时",-1)),o(j,{obj:r.ClashVsEscapeModifier,sign:!0},null,8,["obj"])])),a(h)(r.ClashVsVulnerableModifier)?s("",!0):(e(),t("div",Nt,[n[27]||(n[27]=l("span",null,"脆弱时",-1)),o(j,{obj:r.ClashVsVulnerableModifier,sign:!0},null,8,["obj"])])),a(h)(r.WrestlingClashModifier)?s("",!0):(e(),t("div",$t,[n[28]||(n[28]=l("span",null,"缠斗时",-1)),o(j,{obj:r.WrestlingClashModifier,sign:!0},null,8,["obj"])])),(e(!0),t(v,null,V(C(r.EnemyValuesClashModifier),d=>(e(),t("div",null,[l("span",Ht,p(d.value.Name),1),n[30]||(n[30]=b("为 ")),o(P,{obj:d.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(d.mod.RandomAddedValue)?s("",!0):(e(),t("span",Bt,[n[29]||(n[29]=b(" 随机增加 ")),o(j,{obj:d.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(v,null,V(a(Z)(r.EnemyWoundClashModifier),d=>(e(),t("div",null,[l("span",Ut,p(d.name)+"受伤值",1),n[32]||(n[32]=b("为 ")),o(P,{obj:d.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(d.mod.RandomAddedValue)?s("",!0):(e(),t("span",Ft,[n[31]||(n[31]=b(" 随机增加 ")),o(j,{obj:d.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(v,null,V(r.EnemyStatsDamageModifier,d=>(e(),t("div",null,[o(q,{obj:d.Stat},null,8,["obj"]),n[34]||(n[34]=b(" 为 ")),o(P,{obj:d.AddedValue.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(d.AddedValue.RandomAddedValue)?s("",!0):(e(),t("span",Gt,[n[33]||(n[33]=b(" 随机增加 ")),o(j,{obj:d.AddedValue.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256))]),_:2},1024),o(w,{legend:"伤害"},{default:E(()=>[l("div",null,[n[35]||(n[35]=l("span",null,"基础伤害 = ",-1)),o(j,{obj:r.Damage},null,8,["obj"])]),a(h)(r.DmgVsEscapeModifier)?s("",!0):(e(),t("div",qt,[n[36]||(n[36]=l("span",null,"玩家逃跑时",-1)),o(j,{obj:r.DmgVsEscapeModifier,sign:!0},null,8,["obj"])])),a(h)(r.DmgVsVulnerableModifier)?s("",!0):(e(),t("div",Xt,[n[37]||(n[37]=l("span",null,"脆弱时",-1)),o(j,{obj:r.DmgVsVulnerableModifier,sign:!0},null,8,["obj"])])),a(h)(r.WrestlingDamageModifier)?s("",!0):(e(),t("div",Yt,[n[38]||(n[38]=l("span",null,"缠斗时",-1)),o(j,{obj:r.WrestlingDamageModifier,sign:!0},null,8,["obj"])])),(e(!0),t(v,null,V(C(r.EnemyValuesDamageModifier),d=>(e(),t("div",null,[l("span",zt,p(d.value.Name),1),n[40]||(n[40]=b("为 ")),o(P,{obj:d.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(d.mod.RandomAddedValue)?s("",!0):(e(),t("span",Jt,[n[39]||(n[39]=l("span",null,"随机增加",-1)),o(j,{obj:d.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(v,null,V(a(Z)(r.EnemyWoundDamageModifier),d=>(e(),t("div",null,[l("span",Kt,p(d.name)+"受伤",1),n[42]||(n[42]=b("为 ")),o(P,{obj:d.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(d.mod.RandomAddedValue)?s("",!0):(e(),t("span",Qt,[n[41]||(n[41]=l("span",null,"随机增加",-1)),o(j,{obj:d.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(v,null,V(r.EnemyStatsDamageModifier,d=>(e(),t("div",null,[o(q,{obj:d.Stat},null,8,["obj"]),n[44]||(n[44]=b(" 为 ")),o(P,{obj:d.AddedValue.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(d.AddedValue.RandomAddedValue)?s("",!0):(e(),t("span",Zt,[n[43]||(n[43]=l("span",null,"随机增加",-1)),o(j,{obj:d.AddedValue.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256))]),_:2},1024),o(w,{legend:"影响"},{default:E(()=>[r.ArmorDurabilityDamage.Active?(e(),t("div",en,[n[45]||(n[45]=l("span",null,"防具耐久",-1)),o(W,{number:r.ArmorDurabilityDamage.FloatValue},null,8,["number"])])):s("",!0),l("div",tn,[(e(!0),t(v,null,V(a(de)(r.EnemyValueChanges),d=>(e(),t("div",nn,[d.appilies!=0?(e(),t("span",rn,p(["","(成功时)","(失败时)"][d.appilies]),1)):s("",!0),l("span",on,p(a(u)[d.key].Name),1),o(j,{obj:d.modifier,sign:!0},null,8,["obj"])]))),256))]),r.WrestlingStateChange.WrestlingStateChange>0?(e(),t("div",ln,[l("span",null,p(["","[成功时] ","[失败时] ",""][r.WrestlingStateChange.ChangeApplies]),1),n[46]||(n[46]=b(" 变为")),o(A,{text:r.WrestlingStateChange.WrestlingStateChange==1?"缠斗中":"未缠斗"},null,8,["text"])])):s("",!0),r.SelfVulnerableStateChange.Change>0?(e(),t("div",un,[l("span",null,p(["","[成功时] ","[失败时] ",""][r.SelfVulnerableStateChange.Change]),1),r.SelfVulnerableStateChange.PercentageChance.UseChance?(e(),t("span",dn,p(r.SelfVulnerableStateChange.PercentageChance.ChanceValue*100)+"%几率 ",1)):s("",!0),n[47]||(n[47]=b(" 变为")),o(A,{text:"脆弱"})])):s("",!0),r.OpponentVulnerableStateChange.Change>0?(e(),t("div",sn,[l("span",null,p(["","[成功时] ","[失败时] ",""][r.OpponentVulnerableStateChange.Change]),1),n[48]||(n[48]=b(" "+p("玩家")+" ")),r.OpponentVulnerableStateChange.PercentageChance.UseChance?(e(),t("span",an,p(r.OpponentVulnerableStateChange.PercentageChance.ChanceValue*100)+"%几率 ",1)):s("",!0),n[49]||(n[49]=b(" 变为")),o(A,{text:"脆弱"})])):s("",!0)]),_:2},1024),o(w,{legend:"玩家",collapsed:"",toggleable:""},{default:E(()=>[l("div",null,[r.PlayerWounds.UnharmedResults.length>0?(e(),t("div",mn,[(e(!0),t(v,null,V(r.PlayerWounds.UnharmedResults,d=>(e(),t("div",null,[o(B,{wound:d,level:0},null,8,["wound"])]))),256))])):s("",!0),r.PlayerWounds.MinorWounds.length>0?(e(),t("div",_n,[(e(!0),t(v,null,V(r.PlayerWounds.MinorWounds,d=>(e(),t("div",null,[o(B,{wound:d,level:1},null,8,["wound"])]))),256))])):s("",!0),r.PlayerWounds.MediumWounds.length>0?(e(),t("div",pn,[(e(!0),t(v,null,V(r.PlayerWounds.MediumWounds,d=>(e(),t("div",null,[o(B,{wound:d,level:2},null,8,["wound"])]))),256))])):s("",!0),r.PlayerWounds.SeriousWounds.length>0?(e(),t("div",fn,[(e(!0),t(v,null,V(r.PlayerWounds.SeriousWounds,d=>(e(),t("div",null,[o(B,{wound:d,level:3},null,8,["wound"])]))),256))])):s("",!0)])]),_:2},1024)]),footer:E(()=>[r.SuccessLog.LogText.Text?(e(),t("div",gn," 成功："+p(r.SuccessLog.LogText.Text),1)):s("",!0),r.FailureLog.LogText.Text?(e(),t("div",bn," 失败："+p(r.FailureLog.LogText.Text),1)):s("",!0)]),_:2},1024))),256))])]),l("div",null,[n[55]||(n[55]=l("h2",null,"战斗结果",-1)),l("div",yn,[o(N,null,{title:E(()=>n[51]||(n[51]=[l("div",null,"胜利",-1)])),subtitle:E(()=>[l("div",null,p(a(u).EnemyDefeatedEffects.ResultLog.LogText.Text),1)]),content:E(()=>[o(U,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),o(N,null,{title:E(()=>n[52]||(n[52]=[l("div",null,"对手逃跑",-1)])),content:E(()=>[o(U,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),o(N,null,{title:E(()=>n[53]||(n[53]=[l("div",null,"玩家逃跑",-1)])),content:E(()=>[o(U,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),o(N,null,{title:E(()=>n[54]||(n[54]=[l("div",null,"玩家士气低落",-1)])),content:E(()=>[o(U,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1})])])])}}});export{In as default};
