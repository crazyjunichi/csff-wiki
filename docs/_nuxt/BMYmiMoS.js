import{_ as g}from"./UaivB8QI.js";import{_ as D}from"./CtfBYHct.js";import{_ as N}from"./Bdw9Rwpi.js";import{_ as j}from"./C-YVhFii.js";import{f as x,c as a,o as r,m as p,b as o,t as u,g as b,a as s,F as m,r as y,d as c}from"./DHhi54m_.js";var l=(t=>(t[t.NoTransfer=0]="NoTransfer",t[t.FromReceivingCard=1]="FromReceivingCard",t[t.FromGivenCard=2]="FromGivenCard",t))(l||{});function S(t,e){let n=[];return t.Spoilage!=l.NoTransfer&&n.push(`${e.SpoilageTime.CardStatName.Text}`),t.Usage!=l.NoTransfer&&n.push(`${e.UsageDurability.CardStatName.Text}`),t.Fuel!=l.NoTransfer&&n.push(`${e.FuelCapacity.CardStatName.Text}`),t.Progress!=l.NoTransfer&&n.push(`${e.Progress.CardStatName.Text}`),t.Special1!=l.NoTransfer&&n.push(`${e.SpecialDurability1.CardStatName.Text}`),t.Special2!=l.NoTransfer&&n.push(`${e.SpecialDurability2.CardStatName.Text}`),t.Special3!=l.NoTransfer&&n.push(`${e.SpecialDurability3.CardStatName.Text}`),t.Special4!=l.NoTransfer&&n.push(`${e.SpecialDurability4.CardStatName.Text}`),n.length>0?`(⤷${n.join(", ")})`:""}function v(t){return{1:"SpoilageTime",2:"UsageDurability",4:"FuelCapacity",8:"Progress",16:"Liquid",32:"SpecialDurability1",64:"SpecialDurability2",128:"SpecialDurability3",256:"SpecialDurability4"}[t]}function h(t,e){const n=v(t);return e[n]}function T(t){let e="";return t.OnlyGivenCard&&(e="OnlyGivenCard "),t.OnlyInHand&&(e="在手上 "),t.NotInHand&&(e="不在手上 "),t.ExcludeInventory&&(e="不在内部"),t.OnlyInInventory&&(e="在内部"),e}const k={key:0},F={key:1,class:"mr-2"},I={key:0},$={key:0,class:"text-durability text-smaller"},M={key:1},V={class:"flex"},B={class:"bg-current/5 rounded-xl p-2 mr-2 w-22"},O={class:"text-2xl font-bold text-center"},G={key:0,class:"text-durability text-smaller"},P={class:"text-xs"},L={class:"text-durability"},U={key:0},A=x({__name:"CardDrop",props:{obj:{},card:{}},setup(t){return(e,n)=>{const d=g,C=D,f=N;return e.obj.DroppedCard?(r(),a("span",F,[e.obj.DropChance.Active?p("",!0):(r(),a("span",I,[o(d,{obj:e.obj.DroppedCard},null,8,["obj"]),o(j,{obj:e.obj.Quantity,sign:!0},null,8,["obj"]),e.card?(r(),a("span",$,u(b(S)(e.obj.TransferRules,e.card)),1)):p("",!0)])),e.obj.DropChance.Active?(r(),a("div",M,[s("div",V,[s("div",B,[n[0]||(n[0]=s("div",{class:"text-xs text-center"},"基础概率",-1)),s("div",O,u(e.obj.DropChance.BaseDropChance),1)]),s("div",null,[o(d,{obj:e.obj.DroppedCard},null,8,["obj"]),o(j,{obj:e.obj.Quantity,sign:!0},null,8,["obj"]),e.card?(r(),a("span",G,u(b(S)(e.obj.TransferRules,e.card)),1)):p("",!0),s("div",P,[(r(!0),a(m,null,y(e.obj.DropChance.StatsModifiers,(i,_)=>(r(),a("div",null,[o(d,{obj:i.InputStat},null,8,["obj"]),n[1]||(n[1]=c("为 ")),o(C,{obj:i.Value,joiner:"时概率",outputSign:!0},null,8,["obj"])]))),256)),(r(!0),a(m,null,y(e.obj.DropChance.DurabilitiesModifiers,(i,_)=>(r(),a("div",null,[n[2]||(n[2]=c(" 自身")),s("span",L,u(b(h)(i.InputDurability,e.card).CardStatName.Text),1),n[3]||(n[3]=c("为 ")),o(C,{obj:i.Value,joiner:"时概率",outputSign:!0},null,8,["obj"])]))),256)),(r(!0),a(m,null,y(e.obj.DropChance.CardsModifiers,(i,_)=>(r(),a("div",null,[o(d,{obj:i.Card.Target},null,8,["obj"]),s("span",null,u(b(T)(i)),1),s("span",null,[n[4]||(n[4]=c("增加概率")),o(f,{number:i.MaxChancePerCard},null,8,["number"])]),i.MaxStack>0?(r(),a("span",U,"(最多"+u(i.MaxStack)+"次)",1)):p("",!0)]))),256))])])])])):p("",!0)])):(r(),a("span",k,"无"))}}}),K=Object.assign(A,{__name:"CardDrop"});export{K as _,h as g};
