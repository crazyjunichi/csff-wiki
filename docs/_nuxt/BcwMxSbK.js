import{d as N,c as t,o as e,n as J,a as l,t as p,h as P,i as d,k as o,F as g,r as b,j as M,b as f,u as a,b2 as C,w as le,f as ue,g as ie,_ as V}from"./BwF4k88o.js";import{_ as se}from"./CVe9rShB.js";import{_ as ee}from"./ScPxPAhY.js";import{_ as de}from"./BjdsijAs.js";import{_ as te}from"./BQDBkrr7.js";import{_ as X}from"./DmrcWPny.js";import{_ as B}from"./D929br9P.js";import{g as ae,_ as me,a as _e}from"./C3dmHehs.js";import{_ as pe}from"./CRNP9QLN.js";import{s as Y}from"./B-vfIxLK.js";import{_ as fe}from"./CXK6RPP6.js";import{s as ge}from"./D6VZ4cOU.js";import{_ as be}from"./BheWnx7M.js";import{i as c}from"./CCTKLA_0.js";import"./BXq6KPJ-.js";import"./CmxSBwV3.js";const ye={key:0},ve={key:1,class:"bg-current/20 border border-current/50 rounded px-1.5 py-0.5 mx-0.5 text-sm"},Me={key:2,class:"bg-current/20 border border-current/50 rounded px-1.5 py-0.5 mx-0.5 text-sm"},Ve=N({__name:"SmallChip",props:{text:{},withContent:{type:Boolean}},setup(i){return(m,_)=>!m.text&&!m.withContent?(e(),t("span",ye)):m.withContent?(e(),t("span",ve,[J(m.$slots,"default")])):(e(),t("span",Me,[l("span",null,p(m.text??""),1),J(m.$slots,"default")]))}}),ne=Object.assign(Ve,{__name:"SmallChip"}),je={class:"text-attribute"},Ee=N({__name:"NPCStatInstantModifier",props:{obj:{},npc:{}},setup(i){return(m,_)=>{var W;const v=B,u=pe;return e(),t("div",null,[m.obj.TargetAgent?(e(),P(v,{key:0,obj:m.obj.TargetAgent},null,8,["obj"])):d("",!0),l("span",je,p((W=m.obj.TargetStat)==null?void 0:W.name),1),o(u,{obj:m.obj.ValueChange,sign:!0},null,8,["obj"])])}}}),re=Object.assign(Ee,{__name:"NPCStatInstantModifier"});function oe(i){switch(i){case 0:return"继续战斗";case 1:return"击败了对手";case 2:return"对手逃跑了";case 3:return"玩家逃跑了";case 4:return"Special1";case 5:return"Special2";case 6:return"Special3";case 7:return"Special4";case 8:return"玩家士气低落"}return""}function he(i,...m){return i?typeof m[0]=="object"?i.replace(/{(\w+)}/g,(_,v)=>m[0][v]!="undefined"?m[0][v]:_):i.replace(/{(\d+)}/g,(_,v)=>typeof m[v]<"u"?m[v]:_):""}const Ae={class:"bg-current/5 p-1 mb-1"},ce={class:"flex"},We={class:"grow"},Te={class:"mr-1"},Ce={key:0},Re={class:"text-sm text-current/50"},Se={class:"mr-1"},Pe={class:"mr-1"},ke={key:0},xe={key:1},Le={key:2},De={class:"mr-1"},$e={class:"text-right text-sm text-current/30"},we=N({__name:"EnemyWound",props:{wound:{},level:{},encounter:{}},setup(i){return(m,_)=>{const v=ne,u=X,W=B,R=me,O=ee,$=te,k=re,E=Y;return e(),t("div",Ae,[l("div",ce,[l("div",We,[l("div",null,[(e(!0),t(g,null,b(m.wound.RequiredDamageTypes,(h,y)=>(e(),t("span",Te,[y>0?(e(),t("span",Ce," / ")):d("",!0),o(v,{withContent:""},{default:M(()=>{var n;return[f(p((n=h.Name)==null?void 0:n.Text),1)]}),_:2},1024)]))),256))]),l("div",Re,"> "+p(a(he)(m.wound.CombatLog.LogText.Text,m.encounter.EnemyName.Text)),1),l("div",null,[(e(!0),t(g,null,b(m.wound.StatChanges,h=>(e(),t("span",Se,[o(u,{obj:h},null,8,["obj"])]))),256)),(e(!0),t(g,null,b(m.wound.DroppedCards,h=>(e(),t("span",Pe,[o(W,{obj:h},null,8,["obj"])]))),256))]),l("div",null,p(a(ae)(m.wound.BodyLocationModifiers)),1),l("div",null,[o(R,{obj:m.wound.EnemyValuesModifiers,encounter:m.encounter},null,8,["obj","encounter"])]),m.wound.AccumulatedWoundValue.Active?(e(),t("div",ke,[_[0]||(_[0]=l("span",{class:"text-title"},"累计受伤值：",-1)),o(O,{obj:{x:m.wound.AccumulatedWoundValue.FloatValue,y:m.wound.AccumulatedWoundValue.MaxValue},sign:!0},null,8,["obj"])])):d("",!0),m.wound.WeaponDurabilityDamage.Active?(e(),t("div",xe,[_[1]||(_[1]=l("span",{class:"text-title"},"武器损耗：",-1)),o($,{number:m.wound.WeaponDurabilityDamage.FloatValue},null,8,["number"])])):d("",!0),m.wound.NPCStatChanges.filter(h=>!!h.TargetAgent).length>0?(e(),t("div",Le,[o(E,{legend:"NPC状态变化",class:"mt-1"},{default:M(()=>[(e(!0),t(g,null,b(m.wound.NPCStatChanges.filter(h=>!!h.TargetAgent),h=>(e(),t("div",De,[o(k,{obj:h},null,8,["obj"])]))),256))]),_:1})])):d("",!0),l("div",$e," -> "+p(a(oe)(m.wound.EncounterResult)),1)])])])}}}),Ie=Object.assign(we,{__name:"EnemyWound"}),Ne={class:"bg-current/5 p-1"},Oe={class:"flex"},He={class:"text-center px-1 mr-2 bg-current/10 flex flex-col justify-center"},Be={class:"text-xl font-bold"},Ue={class:"grow"},Fe={class:"text-xs text-current/50"},qe={class:"mr-1"},Ge={class:"mr-1"},Xe={class:"text-right text-sm text-current/30"},Ye=N({__name:"PlayerWound",props:{wound:{},level:{}},setup(i){return(m,_)=>{const v=X,u=B;return e(),t("div",Ne,[l("div",Oe,[l("div",He,[_[0]||(_[0]=l("div",{class:"text-tiny"},"几率",-1)),l("div",Be,p(m.wound.WoundSelectionWeight),1)]),l("div",Ue,[l("div",Fe,p(m.wound.WoundLog.LogText.Text),1),l("div",null,[(e(!0),t(g,null,b(m.wound.StatChanges,W=>(e(),t("span",qe,[o(v,{obj:W},null,8,["obj"])]))),256)),(e(!0),t(g,null,b(m.wound.DroppedCards,W=>(e(),t("span",Ge,[o(u,{obj:W},null,8,["obj"])]))),256))]),l("div",Xe," -> "+p(a(oe)(m.wound.EncounterResult)),1)])])])}}}),ze=Object.assign(Ye,{__name:"PlayerWound"});function K(i){switch(i){case 0:return"留在原地";case 1:return"随机移动到相邻区域";case 2:return"移动到特定区域";case 3:return"移动到前一区域"}return""}const Je={key:0},Ke={class:"mr-1"},Qe={class:"mr-1"},Ze={key:1},et={key:0},tt={key:1},nt={class:"mr-1"},rt={key:0},ot={key:2},lt={key:0},ut={key:1},it={key:2},st={class:"mr-1"},dt={key:0},at={key:3},mt={class:"mr-1"},_t=N({__name:"EncounterResultEffect",props:{effect:{}},setup(i){const m=i;return(_,v)=>{var $,k;const u=X,W=B,R=re,O=Y;return e(),t("div",null,[("effect"in _?_.effect:a(C)).AmmoRecovery!=3?(e(),t("div",Je,[v[0]||(v[0]=l("span",{class:"text-title"},"弹药：",-1)),l("span",null,p(["恢复全部","恢复失误的","恢复命中的",""][("effect"in _?_.effect:a(C)).AmmoRecovery]),1)])):d("",!0),l("div",null,[v[1]||(v[1]=l("span",{class:"text-title"},"状态：",-1)),(e(!0),t(g,null,b(m.effect.StatChanges,E=>(e(),t("span",Ke,[o(u,{obj:E},null,8,["obj"])]))),256))]),l("div",null,[v[2]||(v[2]=l("span",{class:"text-title"},"掉落：",-1)),(e(!0),t(g,null,b(m.effect.DroppedCards,E=>(e(),t("span",Qe,[o(W,{obj:E},null,8,["obj"])]))),256))]),("effect"in _?_.effect:a(C)).MovePlayer>0?(e(),t("div",Ze,[("effect"in _?_.effect:a(C)).MovePlayer!=2?(e(),t("span",et,[v[3]||(v[3]=l("span",{class:"text-title"},"玩家：",-1)),f(" "+p(a(K)(("effect"in _?_.effect:a(C)).MovePlayer)),1)])):(e(),t("span",tt,[v[4]||(v[4]=l("span",{class:"text-title"},"玩家：",-1)),v[5]||(v[5]=f(" 移动至 ")),(e(!0),t(g,null,b(("effect"in _?_.effect:a(C)).MovePlayerToSpecificEnvironment,(E,h)=>(e(),t("span",nt,[h>0?(e(),t("span",rt,"/")):d("",!0),o(W,{obj:E},null,8,["obj"])]))),256))]))])):d("",!0),("effect"in _?_.effect:a(C)).MoveNPC>0&&("effect"in _?_.effect:a(C)).NPCStatChanges.length>0?(e(),t("div",ot,[v[7]||(v[7]=l("span",{class:"text-title"},"NPC：",-1)),($=("effect"in _?_.effect:a(C)).NPCStatChanges.find(E=>E.TargetAgent))!=null&&$.TargetAgent?(e(),t("span",lt,[o(W,{obj:(k=("effect"in _?_.effect:a(C)).NPCStatChanges.find(E=>E.TargetAgent))==null?void 0:k.TargetAgent},null,8,["obj"])])):d("",!0),("effect"in _?_.effect:a(C)).MoveNPC!=2?(e(),t("span",ut,[l("span",null,p(a(K)(("effect"in _?_.effect:a(C)).MoveNPC)),1)])):(e(),t("span",it,[v[6]||(v[6]=f(" 移动至 ")),(e(!0),t(g,null,b(("effect"in _?_.effect:a(C)).MoveNPCToSpecificEnvironment,(E,h)=>(e(),t("span",st,[h>0?(e(),t("span",dt,"/")):d("",!0),o(W,{obj:E},null,8,["obj"])]))),256))]))])):d("",!0),m.effect.NPCStatChanges.filter(E=>!!E.TargetAgent).length>0?(e(),t("div",at,[o(O,{legend:"NPC状态变化",class:"mt-1"},{default:M(()=>[(e(!0),t(g,null,b(m.effect.NPCStatChanges.filter(E=>!!E.TargetAgent),E=>(e(),t("div",mt,[o(R,{obj:E},null,8,["obj"])]))),256))]),_:1})])):d("",!0)])}}}),pt=Object.assign(_t,{__name:"EncounterResultEffect"});var L=(i=>(i[i.Add0Weight=0]="Add0Weight",i[i.UseMinMaxWeight=1]="UseMinMaxWeight",i[i.CancelDrop=2]="CancelDrop",i))(L||{}),D=(i=>(i[i.Return0Value=0]="Return0Value",i[i.UseMinMaxOutputValue=1]="UseMinMaxOutputValue",i[i.ReturnCustomValue=2]="ReturnCustomValue",i[i.ReturnNegativeInfinity=3]="ReturnNegativeInfinity",i[i.ReturnPositiveInfinity=4]="ReturnPositiveInfinity",i))(D||{});function ft(i){let m={[L.Add0Weight]:D.ReturnCustomValue,[L.UseMinMaxWeight]:D.UseMinMaxOutputValue,[L.CancelDrop]:D.Return0Value};return{Active:i.Active,InputValueRange:i.DurabilityRange,OutputValueRange:{x:i.InterpWeightRange.m_X,y:i.InterpWeightRange.m_Y},WhenOutOfRange:m[i.WhenOutOfRange],OutOfRangeCustomValue:0}}function gt(i){switch(i){case 0:return"近身";case 1:return"远距离";case 2:return""}return""}function Q(i,m=""){switch(i){case 0:return"";case 1:return m+"脆弱中";case 2:return m+"非脆弱"}return""}function bt(i){switch(i){case 0:return"";case 1:return"缠斗中";case 2:return"非缠斗中"}return""}function Z(i){return[{name:"总",mod:i.AllWoundModifier},{name:"头部",mod:i.HeadWoundModifier},{name:"身体",mod:i.TorsoWoundModifier},{name:"左臂",mod:i.LArmWoundModifier},{name:"右臂",mod:i.RArmWoundModifier},{name:"左腿",mod:i.LLegWoundModifier},{name:"右腿",mod:i.RLegWoundModifier}].filter(_=>_.mod.InterpolatedAddedValue.Active)}function yt(i){return[{name:"身体",value:i.TorsoHitProbabilityModifier},{name:"头部",value:i.HeadHitProbabilityModifier},{name:"左臂",value:i.LArmHitProbabilityModifier},{name:"右臂",value:i.RArmHitProbabilityModifier},{name:"左腿",value:i.LLegHitProbabilityModifier},{name:"右腿",value:i.RLegHitProbabilityModifier}].filter(_=>_.value!=0)}function vt(i){let m={[L.Add0Weight]:D.ReturnCustomValue,[L.UseMinMaxWeight]:D.UseMinMaxOutputValue,[L.CancelDrop]:D.Return0Value};return{Active:!0,InputValueRange:i.StatRange,OutputValueRange:{x:i.InterpWeightRange.m_X,y:i.InterpWeightRange.m_Y},WhenOutOfRange:m[i.WhenOutOfRange],OutOfRangeCustomValue:0}}const Mt={class:"flex"},Vt={class:"ml-2"},jt={class:"flex justify-center"},Et={class:"flex justify-center mt-4"},ht={class:"flex flex-wrap gap-2"},At={key:0,class:"border border-current/50 rounded p-0 mb-2"},ct={key:1,class:"border border-red-400/50 rounded p-0 mb-2"},Wt={key:2,class:"border border-red-700/70 rounded p-0 mb-2"},Tt={key:3,class:"border-2 border-red-800/90 rounded p-0 mb-2"},Ct={class:"flex flex-wrap gap-2"},Rt={key:0},St={key:1},Pt={key:2},kt={class:"flex"},xt={key:0},Lt={key:1},Dt={key:2},$t={key:3},wt={key:4},It={key:5},Nt={key:6},Ot={key:7},Ht={key:8},Bt={key:9},Ut={class:"text-durability"},Ft={key:0},qt={key:1},Gt={key:2},Xt={key:3},Yt={key:4},zt={key:5},Jt={class:"text-durability"},Kt={key:0},Qt={class:"text-durability"},Zt={key:0},en={key:0},tn={key:0},nn={key:1},rn={key:2},on={class:"text-durability"},ln={key:0},un={class:"text-durability"},sn={key:0},dn={key:0},an={key:0},mn={class:"flex flex-wrap"},_n={class:"mr-2"},pn={key:0},fn={class:"text-durability"},gn={key:1},bn={key:2},yn={key:0},vn={key:3},Mn={key:0},Vn={key:0,class:"border border-current/50 rounded p-0 mb-2"},jn={key:1,class:"border border-red-400/50 rounded p-0 mb-2"},En={key:2,class:"border border-red-700/70 rounded p-0 mb-2"},hn={key:3,class:"border-2 border-red-800/90 rounded p-0 mb-2"},An={key:0},cn={key:1},Wn={class:"flex flex-wrap gap-2"},Fn=N({__name:"Encounter",props:{id:{}},async setup(i){let m,_;const v=i,u=([m,_]=le(()=>be(Object.assign({"../../generated/encounter/0_1512.json":()=>V(()=>import("./CTEbdCKw.js"),[],import.meta.url),"../../generated/encounter/0_1513.json":()=>V(()=>import("./Bcm9d-3P.js"),[],import.meta.url),"../../generated/encounter/0_1514.json":()=>V(()=>import("./BUGg3s77.js"),[],import.meta.url),"../../generated/encounter/0_1515.json":()=>V(()=>import("./D9LoRvVF.js"),[],import.meta.url),"../../generated/encounter/0_1516.json":()=>V(()=>import("./BWCAGKNn.js"),[],import.meta.url),"../../generated/encounter/0_1517.json":()=>V(()=>import("./iifeY5YI.js"),[],import.meta.url),"../../generated/encounter/0_1518.json":()=>V(()=>import("./DTQ1HzWl.js"),[],import.meta.url),"../../generated/encounter/0_1519.json":()=>V(()=>import("./DMSyuKer.js"),[],import.meta.url),"../../generated/encounter/0_1520.json":()=>V(()=>import("./BBa0ZMTc.js"),[],import.meta.url),"../../generated/encounter/0_1521.json":()=>V(()=>import("./M_Kdjr-7.js"),[],import.meta.url),"../../generated/encounter/0_1522.json":()=>V(()=>import("./B2RgP10V.js"),[],import.meta.url),"../../generated/encounter/0_1523.json":()=>V(()=>import("./ZyvdyIsi.js"),[],import.meta.url),"../../generated/encounter/0_1524.json":()=>V(()=>import("./DSDRqSmR.js"),[],import.meta.url),"../../generated/encounter/0_1525.json":()=>V(()=>import("./CvySJC2I.js"),[],import.meta.url),"../../generated/encounter/0_1526.json":()=>V(()=>import("./fGmX4u7_.js"),[],import.meta.url),"../../generated/encounter/0_1527.json":()=>V(()=>import("./Dt5AOZmK.js"),[],import.meta.url),"../../generated/encounter/0_4728.json":()=>V(()=>import("./l9UPifGU.js"),[],import.meta.url),"../../generated/encounter/0_4735.json":()=>V(()=>import("./CrTLrFd3.js"),[],import.meta.url),"../../generated/encounter/0_4757.json":()=>V(()=>import("./iCwcP_L_.js"),[],import.meta.url),"../../generated/encounter/0_4760.json":()=>V(()=>import("./vEOp8UtQ.js"),[],import.meta.url),"../../generated/encounter/0_4764.json":()=>V(()=>import("./BM-l2w-u.js"),[],import.meta.url),"../../generated/encounter/0_4767.json":()=>V(()=>import("./B2_Erton.js"),[],import.meta.url),"../../generated/encounter/0_4781.json":()=>V(()=>import("./BcDxriRN.js"),[],import.meta.url),"../../generated/encounter/0_4783.json":()=>V(()=>import("./BwsX84u-.js"),[],import.meta.url),"../../generated/encounter/0_4788.json":()=>V(()=>import("./YIYLNczn.js"),[],import.meta.url),"../../generated/encounter/0_4790.json":()=>V(()=>import("./nR_jluwP.js"),[],import.meta.url)}),`../../generated/encounter/${v.id}.json`,5)),m=await m,_(),m).default;let R=[u.MeleeSkill,u.RangedSkill,u.Blood,u.Stamina,u.Morale,u.Value1,u.Value2,u.Value3,u.Value4].filter(y=>!!y.Name||!!y.MaxValue||!!y.StartingValue.x||!!y.StartingValue.y);function O(){let y={"Melee Skill":"近战","Ranged Skill":"远程",Blood:"血量",Stamina:"精神",Morale:"斗志"};R.forEach(n=>{n.Name=y[n.Name]||n.Name})}O();function $(y){return[{value:u.MeleeSkill,mod:y.ValuesWeightModifiers.WeightPerMeleeSkill},{value:u.RangedSkill,mod:y.ValuesWeightModifiers.WeightPerRangedSkill},{value:u.Blood,mod:y.ValuesWeightModifiers.WeightPerBlood},{value:u.Stamina,mod:y.ValuesWeightModifiers.WeightPerStamina},{value:u.Morale,mod:y.ValuesWeightModifiers.WeightPerMorale},{value:u.Value1,mod:y.ValuesWeightModifiers.WeightPerValue1},{value:u.Value2,mod:y.ValuesWeightModifiers.WeightPerValue2},{value:u.Value3,mod:y.ValuesWeightModifiers.WeightPerValue3},{value:u.Value4,mod:y.ValuesWeightModifiers.WeightPerValue4}].filter(x=>R.includes(x.value)&&x.mod.Active)}function k(y){return[{value:u.MeleeSkill,mod:y.EnemyMeleeSkillMod},{value:u.RangedSkill,mod:y.EnemyRangedSkillMod},{value:u.Blood,mod:y.EnemyBloodMod},{value:u.Stamina,mod:y.EnemyStaminaMod},{value:u.Morale,mod:y.EnemyMoraleMod},{value:u.Value1,mod:y.EnemyValue1Mod},{value:u.Value2,mod:y.EnemyValue2Mod},{value:u.Value3,mod:y.EnemyValue3Mod},{value:u.Value4,mod:y.EnemyValue4Mod}].filter(x=>R.includes(x.value)&&x.mod.InterpolatedAddedValue.Active)}function E(){return[{name:"头部",bodyTemplate:u.EnemyBodyTemplate.Head,armor:u.EnemyArmor.HeadArmor,armorModifiers:u.EnemyArmor.HeadArmorModifiers,hitProbabilityModifier:u.EnemyArmor.HeadHitProbabilityModifier},{name:"躯干",bodyTemplate:u.EnemyBodyTemplate.Torso,armor:u.EnemyArmor.TorsoArmor,armorModifiers:u.EnemyArmor.TorsoArmorModifiers,hitProbabilityModifier:u.EnemyArmor.TorsoHitProbabilityModifier},{name:"左臂",bodyTemplate:u.EnemyBodyTemplate.LArm,armor:u.EnemyArmor.LArmArmor,armorModifiers:u.EnemyArmor.LArmArmorModifiers,hitProbabilityModifier:u.EnemyArmor.LArmHitProbabilityModifier},{name:"右臂",bodyTemplate:u.EnemyBodyTemplate.RArm,armor:u.EnemyArmor.RArmArmor,armorModifiers:u.EnemyArmor.RArmArmorModifiers,hitProbabilityModifier:u.EnemyArmor.RArmHitProbabilityModifier},{name:"左腿",bodyTemplate:u.EnemyBodyTemplate.LLeg,armor:u.EnemyArmor.LLegArmor,armorModifiers:u.EnemyArmor.LLegArmorModifiers,hitProbabilityModifier:u.EnemyArmor.LLegHitProbabilityModifier},{name:"右腿",bodyTemplate:u.EnemyBodyTemplate.RLeg,armor:u.EnemyArmor.RLegArmor,armorModifiers:u.EnemyArmor.RLegArmorModifiers,hitProbabilityModifier:u.EnemyArmor.RLegHitProbabilityModifier}]}function h(){var y;return{key:u.m_Name,text:u.EnemyName.Text,icon:(y=u.EncounterImage)==null?void 0:y.FileName,type:"encounter"}}return ue({title:`${u.EncounterTitle.Text} - 战斗 - ${ie().$gameName}`}),(y,n)=>{const x=se,j=ee,H=de,A=ne,T=te,U=Ie,w=Y,I=ge,S=fe,G=B,F=ze,q=pt;return e(),t("div",null,[l("h2",null,p(a(u).EncounterTitle.Text),1),l("div",null,[l("div",Mt,[l("div",null,[o(x,{card:h()},null,8,["card"])]),l("div",Vt,[l("div",jt,[(e(!0),t(g,null,b(a(R),r=>(e(),P(H,{title:r.Name,value:""},{default:M(()=>[o(j,{obj:r.StartingValue},null,8,["obj"])]),_:2},1032,["title"]))),256))]),l("div",Et,[o(H,{title:"体型",value:""},{default:M(()=>[o(j,{obj:a(u).EnemySize},null,8,["obj"])]),_:1}),o(H,{title:"掩护",value:""},{default:M(()=>[o(j,{obj:a(u).EnemyCover},null,8,["obj"])]),_:1}),o(H,{title:"潜行",value:""},{default:M(()=>[o(j,{obj:a(u).EnemyStealth},null,8,["obj"])]),_:1}),o(H,{title:"意识",value:""},{default:M(()=>[o(j,{obj:a(u).EnemyAwareness},null,8,["obj"])]),_:1})])])])]),l("div",null,[n[3]||(n[3]=l("h2",{class:"title"},"身体数据",-1)),l("div",ht,[(e(!0),t(g,null,b(E(),r=>(e(),t("div",null,[o(I,null,{title:M(()=>[l("div",null,p(r.name),1)]),content:M(()=>[l("div",null,[n[0]||(n[0]=l("span",null,"护甲：",-1)),l("span",null,p(r.bodyTemplate.Armor+r.armor),1),l("span",null,"("+p(r.bodyTemplate.Armor)+" + "+p(r.armor)+")",1)]),l("div",null,[n[1]||(n[1]=l("span",null,"命中概率：",-1)),l("span",null,"近战:"+p(r.bodyTemplate.MeleeHitChanceWeight+r.hitProbabilityModifier),1),n[2]||(n[2]=f(" / ")),l("span",null,"远程:"+p(r.bodyTemplate.RangedHitChanceWeight+r.hitProbabilityModifier),1)]),l("div",null,[(e(!0),t(g,null,b(r.bodyTemplate.ArmorModifiers.concat(r.armorModifiers),s=>(e(),t("div",null,[l("div",null,[o(A,{text:s.DmgType.Name.Text},null,8,["text"]),o(T,{number:s.Modifier},null,8,["number"])])]))),256))]),o(w,{legend:"受伤",collapsed:"",toggleable:""},{default:M(()=>[l("div",null,[r.bodyTemplate.UnharmedResults.length>0?(e(),t("div",At,[(e(!0),t(g,null,b(r.bodyTemplate.UnharmedResults,s=>(e(),t("div",null,[o(U,{wound:s,level:0,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):d("",!0),r.bodyTemplate.MinorWounds.length>0?(e(),t("div",ct,[(e(!0),t(g,null,b(r.bodyTemplate.MinorWounds,s=>(e(),t("div",null,[o(U,{wound:s,level:1,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):d("",!0),r.bodyTemplate.MediumWounds.length>0?(e(),t("div",Wt,[(e(!0),t(g,null,b(r.bodyTemplate.MediumWounds,s=>(e(),t("div",null,[o(U,{wound:s,level:2,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):d("",!0),r.bodyTemplate.SeriousWounds.length>0?(e(),t("div",Tt,[(e(!0),t(g,null,b(r.bodyTemplate.SeriousWounds,s=>(e(),t("div",null,[o(U,{wound:s,level:3,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):d("",!0)])]),_:2},1024)]),_:2},1024)]))),256))])]),l("div",null,[n[50]||(n[50]=l("h2",null,"动作",-1)),l("div",Ct,[(e(!0),t(g,null,b(a(u).EnemyActions,r=>(e(),P(I,null,{title:M(()=>[l("div",null,[f("⚠️"+p(r.ActionLog.LogText.Text)+" ",1),o(A,{text:["近身","远程"][r.ActionRange]},null,8,["text"]),r.DoesNotAttack?d("",!0):(e(),P(A,{key:0,text:"攻击"})),r.CannotBeDodged?(e(),P(A,{key:1,text:"无法闪避"})):d("",!0),r.IsEscapeAction?(e(),P(A,{key:2,text:"逃跑"})):d("",!0),r.IsChargingAction?(e(),P(A,{key:3,text:"蓄力"})):d("",!0),r.IgnoreEnemySkillForClash?(e(),P(A,{key:4,text:"无视技能"})):d("",!0)])]),content:M(()=>[r.Reach?(e(),t("div",Rt,"触发距离: "+p(r.Reach),1)):d("",!0),r.CustomClashAgainstValue?(e(),t("div",St,[n[4]||(n[4]=f(" 失败权重: ")),o(j,{obj:r.CustomClashAgainstValue},null,8,["obj"])])):d("",!0),r.DamageTypes.length>0?(e(),t("div",Pt,[n[5]||(n[5]=l("span",null,"伤害类型：",-1)),(e(!0),t(g,null,b(r.DamageTypes,(s,Tn)=>(e(),t("span",null,[o(A,{withContent:""},{default:M(()=>{var z;return[f(p((z=s.Name)==null?void 0:z.Text),1)]}),_:2},1024)]))),256))])):d("",!0),l("div",null,[(e(!0),t(g,null,b(a(yt)(r.AddedPlayerLocationHitProbabilities),s=>(e(),t("div",null,[l("div",null,[n[6]||(n[6]=f(" 命中玩家")),l("span",null,p(s.name),1),n[7]||(n[7]=f("几率 ")),o(T,{number:s.value},null,8,["number"])])]))),256))]),l("div",kt,[n[8]||(n[8]=l("div",null,"条件：",-1)),l("div",null,[o(A,{text:a(gt)(r.RequiredDistance)},null,8,["text"]),o(A,{text:a(bt)(r.RequiredWrestlingState)},null,8,["text"]),o(A,{text:a(Q)(r.RequiredSelfVulnerableState,"玩家")},null,8,["text"]),o(A,{text:a(Q)(r.RequiredOpponentVulnerableState,"自身")},null,8,["text"])])]),o(w,{legend:"动作权重"},{default:M(()=>[l("div",null,[n[9]||(n[9]=l("span",null,"基础权重 = ",-1)),l("span",null,p(r.BaseWeight),1)]),r.DistanceWeightModifier!=0?(e(),t("div",xt,[n[10]||(n[10]=f("远距离时权重")),o(T,{number:r.DistanceWeightModifier},null,8,["number"])])):d("",!0),r.CloseRangeWeightModifier!=0?(e(),t("div",Lt,[n[11]||(n[11]=f("近身时权重")),o(T,{number:r.CloseRangeWeightModifier},null,8,["number"])])):d("",!0),r.WrestlingWeightModifier!=0?(e(),t("div",Dt,[n[12]||(n[12]=f("缠斗中权重")),o(T,{number:r.WrestlingWeightModifier},null,8,["number"])])):d("",!0),r.NOTWrestlingWeightModifier!=0?(e(),t("div",$t,[n[13]||(n[13]=f("未缠斗中权重")),o(T,{number:r.NOTWrestlingWeightModifier},null,8,["number"])])):d("",!0),r.EnemyHiddenWeightModifier!=0?(e(),t("div",wt,[n[14]||(n[14]=f("自身隐藏时中权重")),o(T,{number:r.EnemyHiddenWeightModifier},null,8,["number"])])):d("",!0),r.PlayerHiddenWeightModifier!=0?(e(),t("div",It,[n[15]||(n[15]=f("玩家隐藏时中权重")),o(T,{number:r.PlayerHiddenWeightModifier},null,8,["number"])])):d("",!0),r.SelfVulnerableWeightModifier!=0?(e(),t("div",Nt,[n[16]||(n[16]=f("自身脆弱时权重")),o(T,{number:r.SelfVulnerableWeightModifier},null,8,["number"])])):d("",!0),r.SelfNOTVulnerableWeightModifier!=0?(e(),t("div",Ot,[n[17]||(n[17]=f("自身未脆弱时权重")),o(T,{number:r.SelfNOTVulnerableWeightModifier},null,8,["number"])])):d("",!0),r.OpponentVulnerableWeightModifier!=0?(e(),t("div",Ht,[n[18]||(n[18]=f("对手脆弱时权重")),o(T,{number:r.OpponentVulnerableWeightModifier},null,8,["number"])])):d("",!0),r.OpponentNOTVulnerableWeightModifier!=0?(e(),t("div",Bt,[n[19]||(n[19]=f("对手脆弱时权重")),o(T,{number:r.OpponentNOTVulnerableWeightModifier},null,8,["number"])])):d("",!0),(e(!0),t(g,null,b($(r),s=>(e(),t("div",null,[l("span",Ut,p(s.value.Name),1),n[20]||(n[20]=f("为 ")),o(S,{obj:a(ft)(s.mod),joiner:"时权重",outputSign:!0},null,8,["obj"])]))),256)),(e(!0),t(g,null,b(r.StatsWeightModifiers,s=>(e(),t("div",null,[o(G,{obj:s.Stat},null,8,["obj"]),n[21]||(n[21]=f(" 为 ")),o(S,{obj:a(vt)(s),joiner:"时权重",outputSign:!0},null,8,["obj"])]))),256))]),_:2},1024),o(w,{legend:"攻击力"},{default:M(()=>[l("div",null,[n[22]||(n[22]=l("span",null,"基础攻击力 = ",-1)),l("span",null,p(r.BaseClashValue),1)]),a(c)(r.ClashRangedInaccuracy)?d("",!0):(e(),t("div",Ft,[n[23]||(n[23]=l("span",null,"远距离时",-1)),o(j,{obj:r.ClashRangedInaccuracy,sign:!0},null,8,["obj"])])),a(c)(r.ClashStealthBonus)?d("",!0):(e(),t("div",qt,[n[24]||(n[24]=l("span",null,"潜行时",-1)),o(j,{obj:r.ClashStealthBonus,sign:!0},null,8,["obj"])])),a(c)(r.IneffectiveRangeMalus)?d("",!0):(e(),t("div",Gt,[n[25]||(n[25]=l("span",null,"自身潜行时",-1)),o(j,{obj:r.IneffectiveRangeMalus,sign:!0},null,8,["obj"])])),a(c)(r.ClashVsEscapeModifier)?d("",!0):(e(),t("div",Xt,[n[26]||(n[26]=l("span",null,"玩家逃跑时",-1)),o(j,{obj:r.ClashVsEscapeModifier,sign:!0},null,8,["obj"])])),a(c)(r.ClashVsVulnerableModifier)?d("",!0):(e(),t("div",Yt,[n[27]||(n[27]=l("span",null,"脆弱时",-1)),o(j,{obj:r.ClashVsVulnerableModifier,sign:!0},null,8,["obj"])])),a(c)(r.WrestlingClashModifier)?d("",!0):(e(),t("div",zt,[n[28]||(n[28]=l("span",null,"缠斗时",-1)),o(j,{obj:r.WrestlingClashModifier,sign:!0},null,8,["obj"])])),(e(!0),t(g,null,b(k(r.EnemyValuesClashModifier),s=>(e(),t("div",null,[l("span",Jt,p(s.value.Name),1),n[30]||(n[30]=f("为 ")),o(S,{obj:s.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(s.mod.RandomAddedValue)?d("",!0):(e(),t("span",Kt,[n[29]||(n[29]=f(" 随机增加 ")),o(j,{obj:s.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(g,null,b(a(Z)(r.EnemyWoundClashModifier),s=>(e(),t("div",null,[l("span",Qt,p(s.name)+"受伤值",1),n[32]||(n[32]=f("为 ")),o(S,{obj:s.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(s.mod.RandomAddedValue)?d("",!0):(e(),t("span",Zt,[n[31]||(n[31]=f(" 随机增加 ")),o(j,{obj:s.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(g,null,b(r.EnemyStatsDamageModifier,s=>(e(),t("div",null,[o(G,{obj:s.Stat},null,8,["obj"]),n[34]||(n[34]=f(" 为 ")),o(S,{obj:s.AddedValue.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(s.AddedValue.RandomAddedValue)?d("",!0):(e(),t("span",en,[n[33]||(n[33]=f(" 随机增加 ")),o(j,{obj:s.AddedValue.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256))]),_:2},1024),o(w,{legend:"伤害"},{default:M(()=>[l("div",null,[n[35]||(n[35]=l("span",null,"基础伤害 = ",-1)),o(j,{obj:r.Damage},null,8,["obj"])]),a(c)(r.DmgVsEscapeModifier)?d("",!0):(e(),t("div",tn,[n[36]||(n[36]=l("span",null,"玩家逃跑时",-1)),o(j,{obj:r.DmgVsEscapeModifier,sign:!0},null,8,["obj"])])),a(c)(r.DmgVsVulnerableModifier)?d("",!0):(e(),t("div",nn,[n[37]||(n[37]=l("span",null,"脆弱时",-1)),o(j,{obj:r.DmgVsVulnerableModifier,sign:!0},null,8,["obj"])])),a(c)(r.WrestlingDamageModifier)?d("",!0):(e(),t("div",rn,[n[38]||(n[38]=l("span",null,"缠斗时",-1)),o(j,{obj:r.WrestlingDamageModifier,sign:!0},null,8,["obj"])])),(e(!0),t(g,null,b(k(r.EnemyValuesDamageModifier),s=>(e(),t("div",null,[l("span",on,p(s.value.Name),1),n[40]||(n[40]=f("为 ")),o(S,{obj:s.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(s.mod.RandomAddedValue)?d("",!0):(e(),t("span",ln,[n[39]||(n[39]=l("span",null,"随机增加",-1)),o(j,{obj:s.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(g,null,b(a(Z)(r.EnemyWoundDamageModifier),s=>(e(),t("div",null,[l("span",un,p(s.name)+"受伤",1),n[42]||(n[42]=f("为 ")),o(S,{obj:s.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(s.mod.RandomAddedValue)?d("",!0):(e(),t("span",sn,[n[41]||(n[41]=l("span",null,"随机增加",-1)),o(j,{obj:s.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(g,null,b(r.EnemyStatsDamageModifier,s=>(e(),t("div",null,[o(G,{obj:s.Stat},null,8,["obj"]),n[44]||(n[44]=f(" 为 ")),o(S,{obj:s.AddedValue.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(c)(s.AddedValue.RandomAddedValue)?d("",!0):(e(),t("span",dn,[n[43]||(n[43]=l("span",null,"随机增加",-1)),o(j,{obj:s.AddedValue.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256))]),_:2},1024),o(w,{legend:"影响"},{default:M(()=>[r.ArmorDurabilityDamage.Active?(e(),t("div",an,[n[45]||(n[45]=l("span",null,"防具耐久",-1)),o(T,{number:r.ArmorDurabilityDamage.FloatValue},null,8,["number"])])):d("",!0),l("div",mn,[(e(!0),t(g,null,b(a(_e)(r.EnemyValueChanges),s=>(e(),t("div",_n,[s.appilies!=0?(e(),t("span",pn,p(["","(成功时)","(失败时)"][s.appilies]),1)):d("",!0),l("span",fn,p(a(u)[s.key].Name),1),o(j,{obj:s.modifier,sign:!0},null,8,["obj"])]))),256))]),r.WrestlingStateChange.WrestlingStateChange>0?(e(),t("div",gn,[l("span",null,p(["","[成功时] ","[失败时] ",""][r.WrestlingStateChange.ChangeApplies]),1),n[46]||(n[46]=f(" 变为")),o(A,{text:r.WrestlingStateChange.WrestlingStateChange==1?"缠斗中":"未缠斗"},null,8,["text"])])):d("",!0),r.SelfVulnerableStateChange.Change>0?(e(),t("div",bn,[l("span",null,p(["","[成功时] ","[失败时] ",""][r.SelfVulnerableStateChange.Change]),1),r.SelfVulnerableStateChange.PercentageChance.UseChance?(e(),t("span",yn,p(r.SelfVulnerableStateChange.PercentageChance.ChanceValue*100)+"%几率 ",1)):d("",!0),n[47]||(n[47]=f(" 变为")),o(A,{text:"脆弱"})])):d("",!0),r.OpponentVulnerableStateChange.Change>0?(e(),t("div",vn,[l("span",null,p(["","[成功时] ","[失败时] ",""][r.OpponentVulnerableStateChange.Change]),1),n[48]||(n[48]=f(" "+p("玩家")+" ")),r.OpponentVulnerableStateChange.PercentageChance.UseChance?(e(),t("span",Mn,p(r.OpponentVulnerableStateChange.PercentageChance.ChanceValue*100)+"%几率 ",1)):d("",!0),n[49]||(n[49]=f(" 变为")),o(A,{text:"脆弱"})])):d("",!0)]),_:2},1024),o(w,{legend:"玩家",collapsed:"",toggleable:""},{default:M(()=>[l("div",null,[r.PlayerWounds.UnharmedResults.length>0?(e(),t("div",Vn,[(e(!0),t(g,null,b(r.PlayerWounds.UnharmedResults,s=>(e(),t("div",null,[o(F,{wound:s,level:0},null,8,["wound"])]))),256))])):d("",!0),r.PlayerWounds.MinorWounds.length>0?(e(),t("div",jn,[(e(!0),t(g,null,b(r.PlayerWounds.MinorWounds,s=>(e(),t("div",null,[o(F,{wound:s,level:1},null,8,["wound"])]))),256))])):d("",!0),r.PlayerWounds.MediumWounds.length>0?(e(),t("div",En,[(e(!0),t(g,null,b(r.PlayerWounds.MediumWounds,s=>(e(),t("div",null,[o(F,{wound:s,level:2},null,8,["wound"])]))),256))])):d("",!0),r.PlayerWounds.SeriousWounds.length>0?(e(),t("div",hn,[(e(!0),t(g,null,b(r.PlayerWounds.SeriousWounds,s=>(e(),t("div",null,[o(F,{wound:s,level:3},null,8,["wound"])]))),256))])):d("",!0)])]),_:2},1024)]),footer:M(()=>[r.SuccessLog.LogText.Text?(e(),t("div",An," 成功："+p(r.SuccessLog.LogText.Text),1)):d("",!0),r.FailureLog.LogText.Text?(e(),t("div",cn," 失败："+p(r.FailureLog.LogText.Text),1)):d("",!0)]),_:2},1024))),256))])]),l("div",null,[n[55]||(n[55]=l("h2",null,"战斗结果",-1)),l("div",Wn,[o(I,null,{title:M(()=>n[51]||(n[51]=[l("div",null,"胜利",-1)])),subtitle:M(()=>[l("div",null,p(a(u).EnemyDefeatedEffects.ResultLog.LogText.Text),1)]),content:M(()=>[o(q,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),o(I,null,{title:M(()=>n[52]||(n[52]=[l("div",null,"对手逃跑",-1)])),content:M(()=>[o(q,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),o(I,null,{title:M(()=>n[53]||(n[53]=[l("div",null,"玩家逃跑",-1)])),content:M(()=>[o(q,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),o(I,null,{title:M(()=>n[54]||(n[54]=[l("div",null,"玩家士气低落",-1)])),content:M(()=>[o(q,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1})])])])}}});export{Fn as default};
