import{f as F,c as t,o as e,a as o,j as d,F as y,r as v,b as l,w as M,d as p,t as f,k as a,b1 as C,g as re,h as A,i as x}from"./Dk5xLoiK.js";import{_ as le}from"./Db8NJdA4.js";import{_ as X}from"./O3Yt-DkS.js";import{_ as oe}from"./C5_032CF.js";import{_ as ee}from"./D0ptK_n9.js";import{_ as te}from"./DwzRaPwf.js";import{_ as Y}from"./B0kjTIRW.js";import{_ as G}from"./DMWJ9XlA.js";import{g as ue,_ as ie,a as se}from"./BdY3HlL3.js";import{s as z}from"./BeOh_ZM0.js";import{_ as de}from"./B_B0O4Hl.js";import{s as ae}from"./BtrhlhWw.js";import{_ as me}from"./BheWnx7M.js";import{i as h}from"./CCTKLA_0.js";import"./Bz799zP4.js";import"./OQXymMB-.js";import"./C8l-1sOR.js";function ne(i){switch(i){case 0:return"继续战斗";case 1:return"击败了对手";case 2:return"对手逃跑了";case 3:return"玩家逃跑了";case 4:return"Special1";case 5:return"Special2";case 6:return"Special3";case 7:return"Special4";case 8:return"玩家士气低落"}return""}function _e(i,...m){return i?typeof m[0]=="object"?i.replace(/{(\w+)}/g,(_,V)=>m[0][V]!="undefined"?m[0][V]:_):i.replace(/{(\d+)}/g,(_,V)=>typeof m[V]<"u"?m[V]:_):""}const fe={class:"bg-current/5 p-1 mb-1"},ge={class:"flex"},pe={class:"grow"},be={class:"mr-1"},ye={key:0},ve={class:"text-sm text-current/50"},Me={class:"mr-1"},Ve={class:"mr-1"},je={key:0},Ae={key:1},Ee={key:2},he={class:"mr-1"},We={class:"textDurability"},Te={class:"text-right text-sm text-current/30"},Ce=F({__name:"EnemyWound",props:{wound:{},level:{},encounter:{}},setup(i){return(m,_)=>{const V=ee,u=Y,W=G,c=ie,w=X,N=te,S=z;return e(),t("div",fe,[o("div",ge,[o("div",pe,[o("div",null,[(e(!0),t(y,null,v(m.wound.RequiredDamageTypes,(g,k)=>(e(),t("span",be,[k>0?(e(),t("span",ye," / ")):d("",!0),l(V,{withContent:""},{default:M(()=>{var b;return[p(f((b=g.Name)==null?void 0:b.Text),1)]}),_:2},1024)]))),256))]),o("div",ve,"> "+f(a(_e)(m.wound.CombatLog.LogText.Text,m.encounter.EnemyName.Text)),1),o("div",null,[(e(!0),t(y,null,v(m.wound.StatChanges,g=>(e(),t("span",Me,[l(u,{obj:g},null,8,["obj"])]))),256)),(e(!0),t(y,null,v(m.wound.DroppedCards,g=>(e(),t("span",Ve,[l(W,{obj:g},null,8,["obj"])]))),256))]),o("div",null,f(a(ue)(m.wound.BodyLocationModifiers)),1),o("div",null,[l(c,{obj:m.wound.EnemyValuesModifiers,encounter:m.encounter},null,8,["obj","encounter"])]),m.wound.AccumulatedWoundValue.Active?(e(),t("div",je,[_[0]||(_[0]=o("span",{class:"gray-text"},"累计受伤值：",-1)),l(w,{obj:{x:m.wound.AccumulatedWoundValue.FloatValue,y:m.wound.AccumulatedWoundValue.MaxValue},sign:!0},null,8,["obj"])])):d("",!0),m.wound.WeaponDurabilityDamage.Active?(e(),t("div",Ae,[_[1]||(_[1]=o("span",{class:"gray-text"},"武器损耗：",-1)),l(N,{number:m.wound.WeaponDurabilityDamage.FloatValue},null,8,["number"])])):d("",!0),m.wound.NPCStatChanges.filter(g=>!!g.TargetAgent).length>0?(e(),t("div",Ee,[l(S,{legend:"NPC状态变化",class:"mt-1"},{default:M(()=>[(e(!0),t(y,null,v(m.wound.NPCStatChanges.filter(g=>!!g.TargetAgent),g=>(e(),t("div",he,[l(W,{obj:g.TargetAgent},null,8,["obj"]),o("span",We,f(g.TargetStat.GameName.Text),1),l(w,{obj:g.ValueChange,sign:!0},null,8,["obj"])]))),256))]),_:1})])):d("",!0),o("div",Te," -> "+f(a(ne)(m.wound.EncounterResult)),1)])])])}}}),ce=Object.assign(Ce,{__name:"EnemyWound"}),Re={class:"bg-current/5 p-1"},Se={class:"flex"},ke={class:"text-center px-1 mr-2 bg-current/10 flex flex-col justify-center"},Pe={class:"text-xl font-bold"},xe={class:"grow"},Le={class:"text-xs text-current/50"},De={class:"mr-1"},we={class:"mr-1"},Ne={class:"text-right text-sm text-current/30"},$e=F({__name:"PlayerWound",props:{wound:{},level:{}},setup(i){return(m,_)=>{const V=Y,u=G;return e(),t("div",Re,[o("div",Se,[o("div",ke,[_[0]||(_[0]=o("div",{class:"text-tiny"},"几率",-1)),o("div",Pe,f(m.wound.WoundSelectionWeight),1)]),o("div",xe,[o("div",Le,f(m.wound.WoundLog.LogText.Text),1),o("div",null,[(e(!0),t(y,null,v(m.wound.StatChanges,W=>(e(),t("span",De,[l(V,{obj:W},null,8,["obj"])]))),256)),(e(!0),t(y,null,v(m.wound.DroppedCards,W=>(e(),t("span",we,[l(u,{obj:W},null,8,["obj"])]))),256))]),o("div",Ne," -> "+f(a(ne)(m.wound.EncounterResult)),1)])])])}}}),Ie=Object.assign($e,{__name:"PlayerWound"});function K(i){switch(i){case 0:return"留在原地";case 1:return"随机移动到相邻区域";case 2:return"移动到特定区域";case 3:return"移动到前一区域"}return""}const Oe={key:0},He={class:"mr-1"},Be={class:"mr-1"},Ue={key:1},Fe={key:0},Ge={key:1},qe={class:"mr-1"},Xe={key:0},Ye={key:2},ze={key:0},Je={key:1},Ke={key:2},Qe={class:"mr-1"},Ze={key:0},et={key:3},tt={class:"mr-1"},nt={class:"textDurability"},rt=F({__name:"EncounterResultEffect",props:{effect:{}},setup(i){const m=i;return(_,V)=>{var N,S;const u=Y,W=G,c=X,w=z;return e(),t("div",null,[("effect"in _?_.effect:a(C)).AmmoRecovery!=3?(e(),t("div",Oe,[V[0]||(V[0]=o("span",{class:"gray-text"},"弹药：",-1)),o("span",null,f(["恢复全部","恢复失误的","恢复命中的",""][("effect"in _?_.effect:a(C)).AmmoRecovery]),1)])):d("",!0),o("div",null,[V[1]||(V[1]=o("span",{class:"gray-text"},"状态：",-1)),(e(!0),t(y,null,v(m.effect.StatChanges,g=>(e(),t("span",He,[l(u,{obj:g},null,8,["obj"])]))),256))]),o("div",null,[V[2]||(V[2]=o("span",{class:"gray-text"},"掉落：",-1)),(e(!0),t(y,null,v(m.effect.DroppedCards,g=>(e(),t("span",Be,[l(W,{obj:g},null,8,["obj"])]))),256))]),("effect"in _?_.effect:a(C)).MovePlayer>0?(e(),t("div",Ue,[("effect"in _?_.effect:a(C)).MovePlayer!=2?(e(),t("span",Fe,[V[3]||(V[3]=o("span",{class:"gray-text"},"玩家：",-1)),p(" "+f(a(K)(("effect"in _?_.effect:a(C)).MovePlayer)),1)])):(e(),t("span",Ge,[V[4]||(V[4]=o("span",{class:"gray-text"},"玩家：",-1)),V[5]||(V[5]=p(" 移动至 ")),(e(!0),t(y,null,v(("effect"in _?_.effect:a(C)).MovePlayerToSpecificEnvironment,(g,k)=>(e(),t("span",qe,[k>0?(e(),t("span",Xe,"/")):d("",!0),l(W,{obj:g},null,8,["obj"])]))),256))]))])):d("",!0),("effect"in _?_.effect:a(C)).MoveNPC>0&&("effect"in _?_.effect:a(C)).NPCStatChanges.length>0?(e(),t("div",Ye,[V[7]||(V[7]=o("span",{class:"gray-text"},"NPC：",-1)),(N=("effect"in _?_.effect:a(C)).NPCStatChanges.find(g=>g.TargetAgent))!=null&&N.TargetAgent?(e(),t("span",ze,[l(W,{obj:(S=("effect"in _?_.effect:a(C)).NPCStatChanges.find(g=>g.TargetAgent))==null?void 0:S.TargetAgent},null,8,["obj"])])):d("",!0),("effect"in _?_.effect:a(C)).MoveNPC!=2?(e(),t("span",Je,[o("span",null,f(a(K)(("effect"in _?_.effect:a(C)).MoveNPC)),1)])):(e(),t("span",Ke,[V[6]||(V[6]=p(" 移动至 ")),(e(!0),t(y,null,v(("effect"in _?_.effect:a(C)).MoveNPCToSpecificEnvironment,(g,k)=>(e(),t("span",Qe,[k>0?(e(),t("span",Ze,"/")):d("",!0),l(W,{obj:g},null,8,["obj"])]))),256))]))])):d("",!0),m.effect.NPCStatChanges.filter(g=>!!g.TargetAgent).length>0?(e(),t("div",et,[l(w,{legend:"NPC状态变化",class:"mt-1"},{default:M(()=>[(e(!0),t(y,null,v(m.effect.NPCStatChanges.filter(g=>!!g.TargetAgent),g=>(e(),t("div",tt,[l(W,{obj:g.TargetAgent},null,8,["obj"]),o("span",nt,f(g.TargetStat.GameName.Text),1),l(c,{obj:g.ValueChange,sign:!0},null,8,["obj"])]))),256))]),_:1})])):d("",!0)])}}}),lt=Object.assign(rt,{__name:"EncounterResultEffect"});var L=(i=>(i[i.Add0Weight=0]="Add0Weight",i[i.UseMinMaxWeight=1]="UseMinMaxWeight",i[i.CancelDrop=2]="CancelDrop",i))(L||{}),D=(i=>(i[i.Return0Value=0]="Return0Value",i[i.UseMinMaxOutputValue=1]="UseMinMaxOutputValue",i[i.ReturnCustomValue=2]="ReturnCustomValue",i[i.ReturnNegativeInfinity=3]="ReturnNegativeInfinity",i[i.ReturnPositiveInfinity=4]="ReturnPositiveInfinity",i))(D||{});function ot(i){let m={[L.Add0Weight]:D.ReturnCustomValue,[L.UseMinMaxWeight]:D.UseMinMaxOutputValue,[L.CancelDrop]:D.Return0Value};return{Active:i.Active,InputValueRange:i.DurabilityRange,OutputValueRange:{x:i.InterpWeightRange.m_X,y:i.InterpWeightRange.m_Y},WhenOutOfRange:m[i.WhenOutOfRange],OutOfRangeCustomValue:0}}function ut(i){switch(i){case 0:return"近身";case 1:return"远距离";case 2:return""}return""}function Q(i,m=""){switch(i){case 0:return"";case 1:return m+"脆弱中";case 2:return m+"非脆弱"}return""}function it(i){switch(i){case 0:return"";case 1:return"缠斗中";case 2:return"非缠斗中"}return""}function Z(i){return[{name:"总",mod:i.AllWoundModifier},{name:"头部",mod:i.HeadWoundModifier},{name:"身体",mod:i.TorsoWoundModifier},{name:"左臂",mod:i.LArmWoundModifier},{name:"右臂",mod:i.RArmWoundModifier},{name:"左腿",mod:i.LLegWoundModifier},{name:"右腿",mod:i.RLegWoundModifier}].filter(_=>_.mod.InterpolatedAddedValue.Active)}function st(i){return[{name:"身体",value:i.TorsoHitProbabilityModifier},{name:"头部",value:i.HeadHitProbabilityModifier},{name:"左臂",value:i.LArmHitProbabilityModifier},{name:"右臂",value:i.RArmHitProbabilityModifier},{name:"左腿",value:i.LLegHitProbabilityModifier},{name:"右腿",value:i.RLegHitProbabilityModifier}].filter(_=>_.value!=0)}function dt(i){let m={[L.Add0Weight]:D.ReturnCustomValue,[L.UseMinMaxWeight]:D.UseMinMaxOutputValue,[L.CancelDrop]:D.Return0Value};return{Active:!0,InputValueRange:i.StatRange,OutputValueRange:{x:i.InterpWeightRange.m_X,y:i.InterpWeightRange.m_Y},WhenOutOfRange:m[i.WhenOutOfRange],OutOfRangeCustomValue:0}}const at={class:"flex"},mt={class:"ml-2"},_t={class:"flex justify-center"},ft={class:"flex justify-center mt-4"},gt={class:"flex flex-wrap gap-2"},pt={key:0,class:"border border-current/50 rounded p-0 mb-2"},bt={key:1,class:"border border-red-400/50 rounded p-0 mb-2"},yt={key:2,class:"border border-red-700/70 rounded p-0 mb-2"},vt={key:3,class:"border-2 border-red-800/90 rounded p-0 mb-2"},Mt={class:"flex flex-wrap gap-2"},Vt={key:0},jt={key:1},At={key:2},Et={class:"flex"},ht={key:0},Wt={key:1},Tt={key:2},Ct={key:3},ct={key:4},Rt={key:5},St={key:6},kt={key:7},Pt={key:8},xt={key:9},Lt={class:"textDurability"},Dt={key:0},wt={key:1},Nt={key:2},$t={key:3},It={key:4},Ot={key:5},Ht={class:"textDurability"},Bt={key:0},Ut={class:"textDurability"},Ft={key:0},Gt={key:0},qt={key:0},Xt={key:1},Yt={key:2},zt={class:"textDurability"},Jt={key:0},Kt={class:"textDurability"},Qt={key:0},Zt={key:0},en={key:0},tn={class:"flex flex-wrap"},nn={class:"mr-2"},rn={key:0},ln={class:"textDurability"},on={key:1},un={key:2},sn={key:0},dn={key:3},an={key:0},mn={key:0,class:"border border-current/50 rounded p-0 mb-2"},_n={key:1,class:"border border-red-400/50 rounded p-0 mb-2"},fn={key:2,class:"border border-red-700/70 rounded p-0 mb-2"},gn={key:3,class:"border-2 border-red-800/90 rounded p-0 mb-2"},pn={key:0},bn={key:1},yn={class:"flex flex-wrap gap-2"},wn=F({__name:"Encounter",props:{id:{}},async setup(i){let m,_;const V=i,u=([m,_]=re(()=>me(Object.assign({"../../generated/encounter/0_1530.json":()=>A(()=>import("./DL5FUQUt.js"),[],import.meta.url),"../../generated/encounter/0_1531.json":()=>A(()=>import("./BAPKJqoO.js"),[],import.meta.url),"../../generated/encounter/0_1532.json":()=>A(()=>import("./D-FYc7l8.js"),[],import.meta.url),"../../generated/encounter/0_1533.json":()=>A(()=>import("./CVLrAtsb.js"),[],import.meta.url),"../../generated/encounter/0_1534.json":()=>A(()=>import("./DFCmOUtz.js"),[],import.meta.url),"../../generated/encounter/0_1535.json":()=>A(()=>import("./BoeHKSkB.js"),[],import.meta.url),"../../generated/encounter/0_1536.json":()=>A(()=>import("./BVD5VKry.js"),[],import.meta.url),"../../generated/encounter/0_1537.json":()=>A(()=>import("./BvedPDK4.js"),[],import.meta.url),"../../generated/encounter/0_1538.json":()=>A(()=>import("./DfvSD3q_.js"),[],import.meta.url),"../../generated/encounter/0_1539.json":()=>A(()=>import("./_8nfAyAS.js"),[],import.meta.url),"../../generated/encounter/0_1540.json":()=>A(()=>import("./DAtGdIzS.js"),[],import.meta.url),"../../generated/encounter/0_1541.json":()=>A(()=>import("./ByJzrDZb.js"),[],import.meta.url),"../../generated/encounter/0_1542.json":()=>A(()=>import("./jqGYsBjN.js"),[],import.meta.url),"../../generated/encounter/0_1543.json":()=>A(()=>import("./DcWsATd9.js"),[],import.meta.url),"../../generated/encounter/0_1544.json":()=>A(()=>import("./DIQtvKVC.js"),[],import.meta.url),"../../generated/encounter/0_4737.json":()=>A(()=>import("./g_VqJ_RH.js"),[],import.meta.url),"../../generated/encounter/0_4766.json":()=>A(()=>import("./BPBlyHds.js"),[],import.meta.url),"../../generated/encounter/0_4769.json":()=>A(()=>import("./DDe6NQHu.js"),[],import.meta.url),"../../generated/encounter/0_4790.json":()=>A(()=>import("./TqjtfOqU.js"),[],import.meta.url),"../../generated/encounter/0_4792.json":()=>A(()=>import("./BNjV5cca.js"),[],import.meta.url)}),`../../generated/encounter/${V.id}.json`,5)),m=await m,_(),m).default;let c=[u.MeleeSkill,u.RangedSkill,u.Blood,u.Stamina,u.Morale,u.Value1,u.Value2,u.Value3,u.Value4].filter(b=>!!b.Name||!!b.MaxValue||!!b.StartingValue.x||!!b.StartingValue.y);function w(){let b={"Melee Skill":"近战","Ranged Skill":"远程",Blood:"血量",Stamina:"精神",Morale:"斗志"};c.forEach(n=>{n.Name=b[n.Name]||n.Name})}w();function N(b){return[{value:u.MeleeSkill,mod:b.ValuesWeightModifiers.WeightPerMeleeSkill},{value:u.RangedSkill,mod:b.ValuesWeightModifiers.WeightPerRangedSkill},{value:u.Blood,mod:b.ValuesWeightModifiers.WeightPerBlood},{value:u.Stamina,mod:b.ValuesWeightModifiers.WeightPerStamina},{value:u.Morale,mod:b.ValuesWeightModifiers.WeightPerMorale},{value:u.Value1,mod:b.ValuesWeightModifiers.WeightPerValue1},{value:u.Value2,mod:b.ValuesWeightModifiers.WeightPerValue2},{value:u.Value3,mod:b.ValuesWeightModifiers.WeightPerValue3},{value:u.Value4,mod:b.ValuesWeightModifiers.WeightPerValue4}].filter(P=>c.includes(P.value)&&P.mod.Active)}function S(b){return[{value:u.MeleeSkill,mod:b.EnemyMeleeSkillMod},{value:u.RangedSkill,mod:b.EnemyRangedSkillMod},{value:u.Blood,mod:b.EnemyBloodMod},{value:u.Stamina,mod:b.EnemyStaminaMod},{value:u.Morale,mod:b.EnemyMoraleMod},{value:u.Value1,mod:b.EnemyValue1Mod},{value:u.Value2,mod:b.EnemyValue2Mod},{value:u.Value3,mod:b.EnemyValue3Mod},{value:u.Value4,mod:b.EnemyValue4Mod}].filter(P=>c.includes(P.value)&&P.mod.InterpolatedAddedValue.Active)}function g(){return[{name:"头部",bodyTemplate:u.EnemyBodyTemplate.Head,armor:u.EnemyArmor.HeadArmor,armorModifiers:u.EnemyArmor.HeadArmorModifiers,hitProbabilityModifier:u.EnemyArmor.HeadHitProbabilityModifier},{name:"躯干",bodyTemplate:u.EnemyBodyTemplate.Torso,armor:u.EnemyArmor.TorsoArmor,armorModifiers:u.EnemyArmor.TorsoArmorModifiers,hitProbabilityModifier:u.EnemyArmor.TorsoHitProbabilityModifier},{name:"左臂",bodyTemplate:u.EnemyBodyTemplate.LArm,armor:u.EnemyArmor.LArmArmor,armorModifiers:u.EnemyArmor.LArmArmorModifiers,hitProbabilityModifier:u.EnemyArmor.LArmHitProbabilityModifier},{name:"右臂",bodyTemplate:u.EnemyBodyTemplate.RArm,armor:u.EnemyArmor.RArmArmor,armorModifiers:u.EnemyArmor.RArmArmorModifiers,hitProbabilityModifier:u.EnemyArmor.RArmHitProbabilityModifier},{name:"左腿",bodyTemplate:u.EnemyBodyTemplate.LLeg,armor:u.EnemyArmor.LLegArmor,armorModifiers:u.EnemyArmor.LLegArmorModifiers,hitProbabilityModifier:u.EnemyArmor.LLegHitProbabilityModifier},{name:"右腿",bodyTemplate:u.EnemyBodyTemplate.RLeg,armor:u.EnemyArmor.RLegArmor,armorModifiers:u.EnemyArmor.RLegArmorModifiers,hitProbabilityModifier:u.EnemyArmor.RLegHitProbabilityModifier}]}function k(){var b;return{key:u.m_Name,text:u.EnemyName.Text,icon:(b=u.EncounterImage)==null?void 0:b.FileName,type:"encounter"}}return(b,n)=>{const P=le,j=X,O=oe,E=ee,T=te,H=ce,$=z,I=ae,R=de,q=G,B=Ie,U=lt;return e(),t("div",null,[o("h2",null,f(a(u).EncounterTitle.Text),1),o("div",null,[o("div",at,[o("div",null,[l(P,{card:k()},null,8,["card"])]),o("div",mt,[o("div",_t,[(e(!0),t(y,null,v(a(c),r=>(e(),x(O,{title:r.Name,value:""},{default:M(()=>[l(j,{obj:r.StartingValue},null,8,["obj"])]),_:2},1032,["title"]))),256))]),o("div",ft,[l(O,{title:"体型",value:""},{default:M(()=>[l(j,{obj:a(u).EnemySize},null,8,["obj"])]),_:1}),l(O,{title:"掩护",value:""},{default:M(()=>[l(j,{obj:a(u).EnemyCover},null,8,["obj"])]),_:1}),l(O,{title:"潜行",value:""},{default:M(()=>[l(j,{obj:a(u).EnemyStealth},null,8,["obj"])]),_:1}),l(O,{title:"意识",value:""},{default:M(()=>[l(j,{obj:a(u).EnemyAwareness},null,8,["obj"])]),_:1})])])])]),o("div",null,[n[3]||(n[3]=o("h2",{class:"title"},"身体数据",-1)),o("div",gt,[(e(!0),t(y,null,v(g(),r=>(e(),t("div",null,[l(I,null,{title:M(()=>[o("div",null,f(r.name),1)]),content:M(()=>[o("div",null,[n[0]||(n[0]=o("span",null,"护甲：",-1)),o("span",null,f(r.bodyTemplate.Armor+r.armor),1),o("span",null,"("+f(r.bodyTemplate.Armor)+" + "+f(r.armor)+")",1)]),o("div",null,[n[1]||(n[1]=o("span",null,"命中概率：",-1)),o("span",null,"近战:"+f(r.bodyTemplate.MeleeHitChanceWeight+r.hitProbabilityModifier),1),n[2]||(n[2]=p(" / ")),o("span",null,"远程:"+f(r.bodyTemplate.RangedHitChanceWeight+r.hitProbabilityModifier),1)]),o("div",null,[(e(!0),t(y,null,v(r.bodyTemplate.ArmorModifiers.concat(r.armorModifiers),s=>(e(),t("div",null,[o("div",null,[l(E,{text:s.DmgType.Name.Text},null,8,["text"]),l(T,{number:s.Modifier},null,8,["number"])])]))),256))]),l($,{legend:"受伤",collapsed:"",toggleable:""},{default:M(()=>[o("div",null,[r.bodyTemplate.UnharmedResults.length>0?(e(),t("div",pt,[(e(!0),t(y,null,v(r.bodyTemplate.UnharmedResults,s=>(e(),t("div",null,[l(H,{wound:s,level:0,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):d("",!0),r.bodyTemplate.MinorWounds.length>0?(e(),t("div",bt,[(e(!0),t(y,null,v(r.bodyTemplate.MinorWounds,s=>(e(),t("div",null,[l(H,{wound:s,level:1,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):d("",!0),r.bodyTemplate.MediumWounds.length>0?(e(),t("div",yt,[(e(!0),t(y,null,v(r.bodyTemplate.MediumWounds,s=>(e(),t("div",null,[l(H,{wound:s,level:2,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):d("",!0),r.bodyTemplate.SeriousWounds.length>0?(e(),t("div",vt,[(e(!0),t(y,null,v(r.bodyTemplate.SeriousWounds,s=>(e(),t("div",null,[l(H,{wound:s,level:3,encounter:a(u)},null,8,["wound","encounter"])]))),256))])):d("",!0)])]),_:2},1024)]),_:2},1024)]))),256))])]),o("div",null,[n[50]||(n[50]=o("h2",null,"动作",-1)),o("div",Mt,[(e(!0),t(y,null,v(a(u).EnemyActions,r=>(e(),x(I,null,{title:M(()=>[o("div",null,[p("⚠️"+f(r.ActionLog.LogText.Text)+" ",1),l(E,{text:["近身","远程"][r.ActionRange]},null,8,["text"]),r.DoesNotAttack?d("",!0):(e(),x(E,{key:0,text:"攻击"})),r.CannotBeDodged?(e(),x(E,{key:1,text:"无法闪避"})):d("",!0),r.IsEscapeAction?(e(),x(E,{key:2,text:"逃跑"})):d("",!0),r.IsChargingAction?(e(),x(E,{key:3,text:"蓄力"})):d("",!0),r.IgnoreEnemySkillForClash?(e(),x(E,{key:4,text:"无视技能"})):d("",!0)])]),content:M(()=>[r.Reach?(e(),t("div",Vt,"触发距离: "+f(r.Reach),1)):d("",!0),r.CustomClashAgainstValue?(e(),t("div",jt,[n[4]||(n[4]=p(" 失败权重: ")),l(j,{obj:r.CustomClashAgainstValue},null,8,["obj"])])):d("",!0),r.DamageTypes.length>0?(e(),t("div",At,[n[5]||(n[5]=o("span",null,"伤害类型：",-1)),(e(!0),t(y,null,v(r.DamageTypes,(s,vn)=>(e(),t("span",null,[l(E,{withContent:""},{default:M(()=>{var J;return[p(f((J=s.Name)==null?void 0:J.Text),1)]}),_:2},1024)]))),256))])):d("",!0),o("div",null,[(e(!0),t(y,null,v(a(st)(r.AddedPlayerLocationHitProbabilities),s=>(e(),t("div",null,[o("div",null,[n[6]||(n[6]=p(" 命中玩家")),o("span",null,f(s.name),1),n[7]||(n[7]=p("几率 ")),l(T,{number:s.value},null,8,["number"])])]))),256))]),o("div",Et,[n[8]||(n[8]=o("div",null,"条件：",-1)),o("div",null,[l(E,{text:a(ut)(r.RequiredDistance)},null,8,["text"]),l(E,{text:a(it)(r.RequiredWrestlingState)},null,8,["text"]),l(E,{text:a(Q)(r.RequiredSelfVulnerableState,"玩家")},null,8,["text"]),l(E,{text:a(Q)(r.RequiredOpponentVulnerableState,"自身")},null,8,["text"])])]),l($,{legend:"动作权重"},{default:M(()=>[o("div",null,[n[9]||(n[9]=o("span",null,"基础权重 = ",-1)),o("span",null,f(r.BaseWeight),1)]),r.DistanceWeightModifier!=0?(e(),t("div",ht,[n[10]||(n[10]=p("远距离时权重")),l(T,{number:r.DistanceWeightModifier},null,8,["number"])])):d("",!0),r.CloseRangeWeightModifier!=0?(e(),t("div",Wt,[n[11]||(n[11]=p("近身时权重")),l(T,{number:r.CloseRangeWeightModifier},null,8,["number"])])):d("",!0),r.WrestlingWeightModifier!=0?(e(),t("div",Tt,[n[12]||(n[12]=p("缠斗中权重")),l(T,{number:r.WrestlingWeightModifier},null,8,["number"])])):d("",!0),r.NOTWrestlingWeightModifier!=0?(e(),t("div",Ct,[n[13]||(n[13]=p("未缠斗中权重")),l(T,{number:r.NOTWrestlingWeightModifier},null,8,["number"])])):d("",!0),r.EnemyHiddenWeightModifier!=0?(e(),t("div",ct,[n[14]||(n[14]=p("自身隐藏时中权重")),l(T,{number:r.EnemyHiddenWeightModifier},null,8,["number"])])):d("",!0),r.PlayerHiddenWeightModifier!=0?(e(),t("div",Rt,[n[15]||(n[15]=p("玩家隐藏时中权重")),l(T,{number:r.PlayerHiddenWeightModifier},null,8,["number"])])):d("",!0),r.SelfVulnerableWeightModifier!=0?(e(),t("div",St,[n[16]||(n[16]=p("自身脆弱时权重")),l(T,{number:r.SelfVulnerableWeightModifier},null,8,["number"])])):d("",!0),r.SelfNOTVulnerableWeightModifier!=0?(e(),t("div",kt,[n[17]||(n[17]=p("自身未脆弱时权重")),l(T,{number:r.SelfNOTVulnerableWeightModifier},null,8,["number"])])):d("",!0),r.OpponentVulnerableWeightModifier!=0?(e(),t("div",Pt,[n[18]||(n[18]=p("对手脆弱时权重")),l(T,{number:r.OpponentVulnerableWeightModifier},null,8,["number"])])):d("",!0),r.OpponentNOTVulnerableWeightModifier!=0?(e(),t("div",xt,[n[19]||(n[19]=p("对手脆弱时权重")),l(T,{number:r.OpponentNOTVulnerableWeightModifier},null,8,["number"])])):d("",!0),(e(!0),t(y,null,v(N(r),s=>(e(),t("div",null,[o("span",Lt,f(s.value.Name),1),n[20]||(n[20]=p("为 ")),l(R,{obj:a(ot)(s.mod),joiner:"时权重",outputSign:!0},null,8,["obj"])]))),256)),(e(!0),t(y,null,v(r.StatsWeightModifiers,s=>(e(),t("div",null,[l(q,{obj:s.Stat},null,8,["obj"]),n[21]||(n[21]=p(" 为 ")),l(R,{obj:a(dt)(s),joiner:"时权重",outputSign:!0},null,8,["obj"])]))),256))]),_:2},1024),l($,{legend:"攻击力"},{default:M(()=>[o("div",null,[n[22]||(n[22]=o("span",null,"基础攻击力 = ",-1)),o("span",null,f(r.BaseClashValue),1)]),a(h)(r.ClashRangedInaccuracy)?d("",!0):(e(),t("div",Dt,[n[23]||(n[23]=o("span",null,"远距离时",-1)),l(j,{obj:r.ClashRangedInaccuracy,sign:!0},null,8,["obj"])])),a(h)(r.ClashStealthBonus)?d("",!0):(e(),t("div",wt,[n[24]||(n[24]=o("span",null,"潜行时",-1)),l(j,{obj:r.ClashStealthBonus,sign:!0},null,8,["obj"])])),a(h)(r.IneffectiveRangeMalus)?d("",!0):(e(),t("div",Nt,[n[25]||(n[25]=o("span",null,"自身潜行时",-1)),l(j,{obj:r.IneffectiveRangeMalus,sign:!0},null,8,["obj"])])),a(h)(r.ClashVsEscapeModifier)?d("",!0):(e(),t("div",$t,[n[26]||(n[26]=o("span",null,"玩家逃跑时",-1)),l(j,{obj:r.ClashVsEscapeModifier,sign:!0},null,8,["obj"])])),a(h)(r.ClashVsVulnerableModifier)?d("",!0):(e(),t("div",It,[n[27]||(n[27]=o("span",null,"脆弱时",-1)),l(j,{obj:r.ClashVsVulnerableModifier,sign:!0},null,8,["obj"])])),a(h)(r.WrestlingClashModifier)?d("",!0):(e(),t("div",Ot,[n[28]||(n[28]=o("span",null,"缠斗时",-1)),l(j,{obj:r.WrestlingClashModifier,sign:!0},null,8,["obj"])])),(e(!0),t(y,null,v(S(r.EnemyValuesClashModifier),s=>(e(),t("div",null,[o("span",Ht,f(s.value.Name),1),n[30]||(n[30]=p("为 ")),l(R,{obj:s.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(s.mod.RandomAddedValue)?d("",!0):(e(),t("span",Bt,[n[29]||(n[29]=p(" 随机增加 ")),l(j,{obj:s.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(y,null,v(a(Z)(r.EnemyWoundClashModifier),s=>(e(),t("div",null,[o("span",Ut,f(s.name)+"受伤值",1),n[32]||(n[32]=p("为 ")),l(R,{obj:s.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(s.mod.RandomAddedValue)?d("",!0):(e(),t("span",Ft,[n[31]||(n[31]=p(" 随机增加 ")),l(j,{obj:s.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(y,null,v(r.EnemyStatsDamageModifier,s=>(e(),t("div",null,[l(q,{obj:s.Stat},null,8,["obj"]),n[34]||(n[34]=p(" 为 ")),l(R,{obj:s.AddedValue.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(s.AddedValue.RandomAddedValue)?d("",!0):(e(),t("span",Gt,[n[33]||(n[33]=p(" 随机增加 ")),l(j,{obj:s.AddedValue.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256))]),_:2},1024),l($,{legend:"伤害"},{default:M(()=>[o("div",null,[n[35]||(n[35]=o("span",null,"基础伤害 = ",-1)),l(j,{obj:r.Damage},null,8,["obj"])]),a(h)(r.DmgVsEscapeModifier)?d("",!0):(e(),t("div",qt,[n[36]||(n[36]=o("span",null,"玩家逃跑时",-1)),l(j,{obj:r.DmgVsEscapeModifier,sign:!0},null,8,["obj"])])),a(h)(r.DmgVsVulnerableModifier)?d("",!0):(e(),t("div",Xt,[n[37]||(n[37]=o("span",null,"脆弱时",-1)),l(j,{obj:r.DmgVsVulnerableModifier,sign:!0},null,8,["obj"])])),a(h)(r.WrestlingDamageModifier)?d("",!0):(e(),t("div",Yt,[n[38]||(n[38]=o("span",null,"缠斗时",-1)),l(j,{obj:r.WrestlingDamageModifier,sign:!0},null,8,["obj"])])),(e(!0),t(y,null,v(S(r.EnemyValuesDamageModifier),s=>(e(),t("div",null,[o("span",zt,f(s.value.Name),1),n[40]||(n[40]=p("为 ")),l(R,{obj:s.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(s.mod.RandomAddedValue)?d("",!0):(e(),t("span",Jt,[n[39]||(n[39]=o("span",null,"随机增加",-1)),l(j,{obj:s.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(y,null,v(a(Z)(r.EnemyWoundDamageModifier),s=>(e(),t("div",null,[o("span",Kt,f(s.name)+"受伤",1),n[42]||(n[42]=p("为 ")),l(R,{obj:s.mod.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(s.mod.RandomAddedValue)?d("",!0):(e(),t("span",Qt,[n[41]||(n[41]=o("span",null,"随机增加",-1)),l(j,{obj:s.mod.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256)),(e(!0),t(y,null,v(r.EnemyStatsDamageModifier,s=>(e(),t("div",null,[l(q,{obj:s.Stat},null,8,["obj"]),n[44]||(n[44]=p(" 为 ")),l(R,{obj:s.AddedValue.InterpolatedAddedValue,joiner:"时",outputSign:!0},null,8,["obj"]),a(h)(s.AddedValue.RandomAddedValue)?d("",!0):(e(),t("span",Zt,[n[43]||(n[43]=o("span",null,"随机增加",-1)),l(j,{obj:s.AddedValue.RandomAddedValue,sign:!0},null,8,["obj"])]))]))),256))]),_:2},1024),l($,{legend:"影响"},{default:M(()=>[r.ArmorDurabilityDamage.Active?(e(),t("div",en,[n[45]||(n[45]=o("span",null,"防具耐久",-1)),l(T,{number:r.ArmorDurabilityDamage.FloatValue},null,8,["number"])])):d("",!0),o("div",tn,[(e(!0),t(y,null,v(a(se)(r.EnemyValueChanges),s=>(e(),t("div",nn,[s.appilies!=0?(e(),t("span",rn,f(["","(成功时)","(失败时)"][s.appilies]),1)):d("",!0),o("span",ln,f(a(u)[s.key].Name),1),l(j,{obj:s.modifier,sign:!0},null,8,["obj"])]))),256))]),r.WrestlingStateChange.WrestlingStateChange>0?(e(),t("div",on,[o("span",null,f(["","[成功时] ","[失败时] ",""][r.WrestlingStateChange.ChangeApplies]),1),n[46]||(n[46]=p(" 变为")),l(E,{text:r.WrestlingStateChange.WrestlingStateChange==1?"缠斗中":"未缠斗"},null,8,["text"])])):d("",!0),r.SelfVulnerableStateChange.Change>0?(e(),t("div",un,[o("span",null,f(["","[成功时] ","[失败时] ",""][r.SelfVulnerableStateChange.Change]),1),r.SelfVulnerableStateChange.PercentageChance.UseChance?(e(),t("span",sn,f(r.SelfVulnerableStateChange.PercentageChance.ChanceValue*100)+"%几率 ",1)):d("",!0),n[47]||(n[47]=p(" 变为")),l(E,{text:"脆弱"})])):d("",!0),r.OpponentVulnerableStateChange.Change>0?(e(),t("div",dn,[o("span",null,f(["","[成功时] ","[失败时] ",""][r.OpponentVulnerableStateChange.Change]),1),n[48]||(n[48]=p(" "+f("玩家")+" ")),r.OpponentVulnerableStateChange.PercentageChance.UseChance?(e(),t("span",an,f(r.OpponentVulnerableStateChange.PercentageChance.ChanceValue*100)+"%几率 ",1)):d("",!0),n[49]||(n[49]=p(" 变为")),l(E,{text:"脆弱"})])):d("",!0)]),_:2},1024),l($,{legend:"玩家",collapsed:"",toggleable:""},{default:M(()=>[o("div",null,[r.PlayerWounds.UnharmedResults.length>0?(e(),t("div",mn,[(e(!0),t(y,null,v(r.PlayerWounds.UnharmedResults,s=>(e(),t("div",null,[l(B,{wound:s,level:0},null,8,["wound"])]))),256))])):d("",!0),r.PlayerWounds.MinorWounds.length>0?(e(),t("div",_n,[(e(!0),t(y,null,v(r.PlayerWounds.MinorWounds,s=>(e(),t("div",null,[l(B,{wound:s,level:1},null,8,["wound"])]))),256))])):d("",!0),r.PlayerWounds.MediumWounds.length>0?(e(),t("div",fn,[(e(!0),t(y,null,v(r.PlayerWounds.MediumWounds,s=>(e(),t("div",null,[l(B,{wound:s,level:2},null,8,["wound"])]))),256))])):d("",!0),r.PlayerWounds.SeriousWounds.length>0?(e(),t("div",gn,[(e(!0),t(y,null,v(r.PlayerWounds.SeriousWounds,s=>(e(),t("div",null,[l(B,{wound:s,level:3},null,8,["wound"])]))),256))])):d("",!0)])]),_:2},1024)]),footer:M(()=>[r.SuccessLog.LogText.Text?(e(),t("div",pn," 成功："+f(r.SuccessLog.LogText.Text),1)):d("",!0),r.FailureLog.LogText.Text?(e(),t("div",bn," 失败："+f(r.FailureLog.LogText.Text),1)):d("",!0)]),_:2},1024))),256))])]),o("div",null,[n[55]||(n[55]=o("h2",null,"战斗结果",-1)),o("div",yn,[l(I,null,{title:M(()=>n[51]||(n[51]=[o("div",null,"胜利",-1)])),subtitle:M(()=>[o("div",null,f(a(u).EnemyDefeatedEffects.ResultLog.LogText.Text),1)]),content:M(()=>[l(U,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),l(I,null,{title:M(()=>n[52]||(n[52]=[o("div",null,"对手逃跑",-1)])),content:M(()=>[l(U,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),l(I,null,{title:M(()=>n[53]||(n[53]=[o("div",null,"玩家逃跑",-1)])),content:M(()=>[l(U,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1}),l(I,null,{title:M(()=>n[54]||(n[54]=[o("div",null,"玩家士气低落",-1)])),content:M(()=>[l(U,{effect:a(u).EnemyDefeatedEffects},null,8,["effect"])]),_:1})])])])}}});export{wn as default};
