import{_ as U}from"./xs3Lu4fY.js";import{_ as F}from"./CnQ2W7qm.js";import{f as S,c as o,F as s,r as c,k as y,o as n,j as d,b as i,d as g,t as h,a as R,w as j,x as G,i as q}from"./CxuzRj8Q.js";import{_ as w}from"./4ZQD7UTg.js";import{D as H}from"./_AHwfwxf.js";import{_ as Q}from"./DeGFvPd9.js";import{_ as z,a as J}from"./DL-GeLI_.js";import{_ as K}from"./YDE5AIHr.js";import{_ as W}from"./ctwcEARt.js";import{_ as X}from"./Da02H24L.js";import{g as Y}from"./DRiWCNyC.js";import{_ as Z}from"./scCjdQZx.js";import{s as x}from"./CmhWX4mB.js";const ee={key:0,class:"mr-2"},ne={key:0},oe=S({__name:"DurabilityConditions",props:{obj:{},card:{},prefix:{}},setup(r){const e=r,t={RequiredSpoilagePercent:"SpoilageTime",RequiredUsagePercent:"UsageDurability",RequiredFuelPercent:"FuelCapacity",RequiredProgressPercent:"Progress",RequiredSpecial1Percent:"SpecialDurability1",RequiredSpecial2Percent:"SpecialDurability2",RequiredSpecial3Percent:"SpecialDurability3",RequiredSpecial4Percent:"SpecialDurability4"},_=Object.keys(t);let f=0;function u(l){return e.card?e.card[t[l]]:null}function p(l,b){return{x:l.FloatValue*b,y:l.FloatValue>l.MaxValue?l.FloatValue*b:l.MaxValue*b}}return(l,b)=>(n(),o("span",null,[(n(!0),o(s,null,c(y(_),(m,D)=>(n(),o(s,null,[l.obj[m].Active?(n(),o("span",ee,[y(f)==0?(n(),o("span",ne,h(l.prefix??""),1)):d("",!0),i(H,{"v-if":l.card,obj:u(m)},null,8,["v-if","obj"]),b[0]||(b[0]=g(" =")),i(w,{obj:p(l.obj[m],u(m).MaxValue),sign:!1,max:u(m).MaxValue},null,8,["obj","max"])])):d("",!0)],64))),256))]))}}),re=Object.assign(oe,{__name:"DurabilityConditions"}),te={key:0},ie=S({__name:"CardOnBoardCondition",props:{obj:{},defaultText:{}},setup(r){const e=r;function t(){let u=e.obj;return!!(u.TriggerCard||u.TriggerTag)}function _(){let u=e.obj;return u.TriggerCard?u.TriggerCard:u.TriggerTag}function f(){let u=[];return e.obj.OnlyInHand&&u.push("在手牌中"),e.obj.NotInHand&&u.push("不在手牌中"),e.obj.ExcludeInventories&&u.push("不在任何库存中"),e.obj.OnlyEquipped&&u.push("已装备"),e.obj.Inverted&&u.push("不在场上"),u.join("/")}return(u,p)=>{const l=F;return t()?(n(),o("span",te,[i(l,{obj:_()},null,8,["obj"]),g(" "+h(f()),1)])):d("",!0)}}}),ae=Object.assign(ie,{__name:"CardOnBoardCondition"}),ue={class:"textDurability"},de=S({__name:"DurabilityInterpolatedStatModifier",props:{obj:{},card:{},joiner:{}},setup(r){return(e,t)=>{const _=X;return n(),o("span",null,[R("span",ue,h(y(Y)(e.obj.InputDurability,e.card).CardStatName.Text),1),t[0]||(t[0]=g("为 ")),i(_,{obj:e.obj.Value,joiner:e.joiner,outputSign:!0},{default:j(()=>[G(e.$slots,"default")]),_:3},8,["obj","joiner"])])}}}),le=Object.assign(de,{__name:"DurabilityInterpolatedStatModifier"});function v(r){return r.RequiredSpoilagePercent.Active||r.RequiredUsagePercent.Active||r.RequiredFuelPercent.Active||r.RequiredProgressPercent.Active||r.RequiredLiquidQuantity>0||r.RequiredSpecial1Percent.Active||r.RequiredSpecial2Percent.Active||r.RequiredSpecial3Percent.Active||r.RequiredSpecial4Percent.Active}function se(r){return r.RequiredStatValues.length>0||r.RequiredCardsOnBoard.length>0||r.RequiredTagsOnBoard.length>0||r.RequiredReceivingContainer.length>0||r.RequiredReceivingContainerTag.length>0||v(r.RequiredReceivingContainerDurabilities)||v(r.RequiredReceivingDurabilities)||r.RequiredReceivingLiquidContent.IsActive}const pe={class:"flex"},be={key:0,class:"gray-text"},ce={key:0},je={key:1,class:"mr-2"},ge={key:2},_e={key:0},me={key:1},Ce={key:2},Re={key:0},fe={key:1},qe={key:4},ye={key:0},ve={class:"mr-2"},Se={key:7,class:"mt-2"},he={key:0},De=S({__name:"CardActionContent",props:{obj:{},card:{},isTraveling:{type:Boolean}},setup(r){return(e,t)=>{var P,T,V,B,O,M,I,A,$;const _=U,f=ae,u=re,p=F,l=Q,b=x,m=z,D=K,L=W,E=le,N=J,k=Z;return n(),o(s,null,[R("div",pe,[y(se)(e.obj)?(n(),o("div",be,"条件：")):d("",!0),R("div",null,[e.obj.RequiredStatValues.length>0?(n(),o("div",ce,[(n(!0),o(s,null,c(e.obj.RequiredStatValues,a=>(n(),o("span",null,[i(_,{obj:a},null,8,["obj"])]))),256))])):d("",!0),e.obj.RequiredCardsOnBoard.length>0||e.obj.RequiredTagsOnBoard.length>0||e.obj.RequiredReceivingContainer.length>0?(n(),o("div",je,[(n(!0),o(s,null,c(e.obj.RequiredCardsOnBoard,a=>(n(),o("span",null,[i(f,{obj:a},null,8,["obj"])]))),256)),(n(!0),o(s,null,c(e.obj.RequiredTagsOnBoard,a=>(n(),o("span",null,[i(f,{obj:a},null,8,["obj"])]))),256))])):d("",!0),y(v)(e.obj.RequiredReceivingDurabilities)?(n(),o("div",ge,[i(u,{obj:e.obj.RequiredReceivingDurabilities,card:e.card},null,8,["obj","card"])])):d("",!0),(n(!0),o(s,null,c(e.obj.RequiredReceivingContainer.concat(e.obj.RequiredReceivingContainerTag),(a,C)=>(n(),o("div",null,[C==0?(n(),o("span",_e,"需要容器：")):d("",!0),i(p,{obj:a},null,8,["obj"]),y(v)(e.obj.RequiredReceivingContainerDurabilities)?(n(),o("span",me,[i(u,{obj:e.obj.RequiredReceivingContainerDurabilities,card:e.card},null,8,["obj","card"])])):d("",!0),e.obj.RequiredReceivingLiquidContent.IsActive&&(e.obj.RequiredReceivingLiquidContent.RequiredLiquid||e.obj.RequiredReceivingLiquidContent.RequiredGroup)?(n(),o("span",Ce,[t[0]||(t[0]=R("span",null,"内部装有",-1)),i(p,{obj:e.obj.RequiredReceivingLiquidContent.RequiredLiquid},null,8,["obj"]),i(p,{obj:e.obj.RequiredReceivingLiquidContent.RequiredGroup},null,8,["obj"])])):d("",!0)]))),256))])]),e.obj.StatInterruptions.length>0?(n(),o("div",Re,[e.obj.StatModifications.length>0?(n(),q(b,{key:0,legend:"被中断",collapsed:"",toggleable:""},{default:j(()=>[(n(!0),o(s,null,c(e.obj.StatInterruptions,(a,C)=>(n(),o("div",null,[i(p,{obj:a.Stat},null,8,["obj"]),i(l,{obj:a.TriggerRange},null,8,["obj"]),R("div",null," ▫️ "+h(a.Notification.Text),1)]))),256))]),_:1})):d("",!0)])):d("",!0),e.obj.ReceivingCardChanges.ModType>0?(n(),o("div",fe,[t[1]||(t[1]=R("span",{class:"gray-text"},"自身：",-1)),i(m,{obj:e.obj.ReceivingCardChanges,card:e.card},null,8,["obj","card"])])):d("",!0),e.obj.TravelToPreviousEnv?(n(),q(D,{key:2},{default:j(()=>t[2]||(t[2]=[g(" 回到前一地点 ")])),_:1})):d("",!0),e.obj.ReceivingCardFlavourBonus?(n(),q(D,{key:3,class:"textSpice"},{default:j(()=>t[3]||(t[3]=[g(" 获得风味奖励 ")])),_:1})):d("",!0),e.obj.BlueprintsFullUnlock.length>0?(n(),o("div",qe,[t[4]||(t[4]=R("span",{class:"gray-text"},"解锁蓝图：",-1)),(n(!0),o(s,null,c(e.obj.BlueprintsFullUnlock,(a,C)=>(n(),o("span",null,[C>0?(n(),o("span",ye," / ")):d("",!0),i(p,{obj:a},null,8,["obj"])]))),256))])):d("",!0),e.obj.StatModifications.length>0||e.obj.InterpolatedStatModifications.length>0?(n(),q(b,{key:5,legend:"状态变化"},{default:j(()=>[(n(!0),o(s,null,c(e.obj.StatModifications,(a,C)=>(n(),o("span",ve,[i(L,{obj:a},null,8,["obj"])]))),256)),(n(!0),o(s,null,c(e.obj.InterpolatedStatModifications,(a,C)=>(n(),o("div",null,[i(E,{obj:a,card:e.card,joiner:"时"},{default:j(()=>[i(p,{obj:a.OutputStat},null,8,["obj"])]),_:2},1032,["obj","card"])]))),256))]),_:1})):d("",!0),e.obj.ExtraDurabilityModifications.length>0?(n(),q(b,{key:6,legend:"属性修改"},{default:j(()=>[(n(!0),o(s,null,c(e.obj.ExtraDurabilityModifications,(a,C)=>(n(),o("div",null,[i(N,{obj:a},null,8,["obj"])]))),256))]),_:1})):d("",!0),e.isTraveling&&e.obj.ProducedCards.length==1&&((T=(P=e.obj.ProducedCards[0])==null?void 0:P.DroppedCards)==null?void 0:T.length)==1?(n(),o("div",Se,[t[5]||(t[5]=g(" 移动至： ")),i(p,{obj:(B=(V=e.obj.ProducedCards[0].DroppedCards[0])==null?void 0:V.DroppedCard)==null?void 0:B.envPlaceCard},null,8,["obj"]),t[6]||(t[6]=g(" (")),i(p,{obj:(O=e.obj.ProducedCards[0].DroppedCards[0])==null?void 0:O.DroppedCard},null,8,["obj"]),t[7]||(t[7]=g(") "))])):(n(),o(s,{key:8},[e.obj.ProducedCards.length>0?(n(),q(b,{key:0,legend:"掉落",toggleable:e.obj.ProducedCards.length>4||((I=(M=e.obj.ProducedCards[0])==null?void 0:M.DroppedCards)==null?void 0:I.length)>4,collapsed:e.obj.ProducedCards.length>4||(($=(A=e.obj.ProducedCards[0])==null?void 0:A.DroppedCards)==null?void 0:$.length)>4},{default:j(()=>[e.obj.ProducedCards.length==1?(n(),o("div",he,[i(k,{obj:e.obj.ProducedCards[0],card:e.card,simplfy:!0},null,8,["obj","card"])])):(n(!0),o(s,{key:1},c(e.obj.ProducedCards,a=>(n(),o("span",null,[i(k,{obj:a,card:e.card},null,8,["obj","card"])]))),256))]),_:1},8,["toggleable","collapsed"])):d("",!0)],64))],64)}}}),Ne=Object.assign(De,{__name:"CardActionContent"});export{Ne as _,re as a,v as i};
