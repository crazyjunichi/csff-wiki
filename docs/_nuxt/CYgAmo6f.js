import{_ as k}from"./D929br9P.js";import{_ as U}from"./CkoA0rwn.js";import{d as h,c as o,F as d,r as c,u as y,o as n,i as s,k as r,b as g,t as v,a as m,j,n as F,h as f}from"./BwF4k88o.js";import{_ as H}from"./CRNP9QLN.js";import{D as w}from"./BLZ7MWVl.js";import{_ as Q}from"./ScPxPAhY.js";import{_ as z,a as J}from"./DyvFXVn0.js";import{_ as K}from"./ClXr-iUo.js";import{_ as W}from"./DmrcWPny.js";import{_ as X}from"./CXK6RPP6.js";import{g as Y}from"./CmShAsa5.js";import{_ as Z}from"./DnXw7jyI.js";import{s as x}from"./B-vfIxLK.js";import{s as ee}from"./D6VZ4cOU.js";import{T as ne}from"./Jb4o5ndN.js";const oe={key:0,class:"mr-2"},te={key:0},re=h({__name:"DurabilityConditions",props:{obj:{},card:{},prefix:{}},setup(i){const e=i,t={RequiredSpoilagePercent:"SpoilageTime",RequiredUsagePercent:"UsageDurability",RequiredFuelPercent:"FuelCapacity",RequiredProgressPercent:"Progress",RequiredSpecial1Percent:"SpecialDurability1",RequiredSpecial2Percent:"SpecialDurability2",RequiredSpecial3Percent:"SpecialDurability3",RequiredSpecial4Percent:"SpecialDurability4"},_=Object.keys(t);let C=0;function a(l){return e.card?e.card[t[l]]:null}function p(l,b){return{x:l.FloatValue*b,y:l.FloatValue>l.MaxValue?l.FloatValue*b:l.MaxValue*b}}return(l,b)=>(n(),o("span",null,[(n(!0),o(d,null,c(y(_),(R,S)=>(n(),o(d,null,[l.obj[R].Active?(n(),o("span",oe,[y(C)==0?(n(),o("span",te,v(l.prefix??""),1)):s("",!0),r(w,{"v-if":l.card,obj:a(R)},null,8,["v-if","obj"]),b[0]||(b[0]=g(" =")),r(H,{obj:p(l.obj[R],a(R).MaxValue),sign:!1,max:a(R).MaxValue},null,8,["obj","max"])])):s("",!0)],64))),256))]))}}),ie=Object.assign(re,{__name:"DurabilityConditions"}),ae={key:0},ue=h({__name:"CardOnBoardCondition",props:{obj:{},defaultText:{}},setup(i){const e=i;function t(){let a=e.obj;return!!(a.TriggerCard||a.TriggerTag)}function _(){let a=e.obj;return a.TriggerCard?a.TriggerCard:a.TriggerTag}function C(){let a=[];return e.obj.OnlyInHand&&a.push("在手牌中"),e.obj.NotInHand&&a.push("不在手牌中"),e.obj.ExcludeInventories&&a.push("不在任何库存中"),e.obj.OnlyEquipped&&a.push("已装备"),e.obj.Inverted&&a.push("不在场上"),a.join("/")}return(a,p)=>{const l=k;return t()?(n(),o("span",ae,[r(l,{obj:_()},null,8,["obj"]),g(" "+v(C()),1)])):s("",!0)}}}),se=Object.assign(ue,{__name:"CardOnBoardCondition"}),le={class:"text-durability"},de=h({__name:"DurabilityInterpolatedStatModifier",props:{obj:{},card:{},joiner:{}},setup(i){return(e,t)=>{const _=X;return n(),o("span",null,[m("span",le,v(y(Y)(e.obj.InputDurability,e.card).CardStatName.Text),1),t[0]||(t[0]=g("为 ")),r(_,{obj:e.obj.Value,joiner:e.joiner,outputSign:!0},{default:j(()=>[F(e.$slots,"default")]),_:3},8,["obj","joiner"])])}}}),pe=Object.assign(de,{__name:"DurabilityInterpolatedStatModifier"});function D(i){return i.RequiredSpoilagePercent.Active||i.RequiredUsagePercent.Active||i.RequiredFuelPercent.Active||i.RequiredProgressPercent.Active||i.RequiredLiquidQuantity>0||i.RequiredSpecial1Percent.Active||i.RequiredSpecial2Percent.Active||i.RequiredSpecial3Percent.Active||i.RequiredSpecial4Percent.Active}function ce(i){return i.RequiredStatValues.length>0||i.RequiredCardsOnBoard.length>0||i.RequiredTagsOnBoard.length>0||i.RequiredReceivingContainer.length>0||i.RequiredReceivingContainerTag.length>0||D(i.RequiredReceivingContainerDurabilities)||D(i.RequiredReceivingDurabilities)||i.RequiredReceivingLiquidContent.IsActive}const be={class:"flex"},je={key:0,class:"text-title"},ge={key:0},_e={key:1,class:"mr-2"},me={key:2},Ce={key:0},fe={key:1},Re={key:2},qe={key:0},ve={key:1},ye={key:4},he={key:0},De={class:"mr-2"},Se={key:7,class:"mt-2"},ke={key:0},Pe=h({__name:"CardActionContent",props:{obj:{},card:{},isTraveling:{type:Boolean}},setup(i){return(e,t)=>{var T,$,A,V,B,O,M,I,L;const _=U,C=se,a=ie,p=k,l=Q,b=x,R=z,S=K,E=W,N=pe,G=J,P=Z;return n(),o(d,null,[m("div",be,[y(ce)(e.obj)?(n(),o("div",je,"条件：")):s("",!0),m("div",null,[e.obj.RequiredStatValues.length>0?(n(),o("div",ge,[(n(!0),o(d,null,c(e.obj.RequiredStatValues,u=>(n(),o("span",null,[r(_,{obj:u},null,8,["obj"])]))),256))])):s("",!0),e.obj.RequiredCardsOnBoard.length>0||e.obj.RequiredTagsOnBoard.length>0||e.obj.RequiredReceivingContainer.length>0?(n(),o("div",_e,[(n(!0),o(d,null,c(e.obj.RequiredCardsOnBoard,u=>(n(),o("span",null,[r(C,{obj:u},null,8,["obj"])]))),256)),(n(!0),o(d,null,c(e.obj.RequiredTagsOnBoard,u=>(n(),o("span",null,[r(C,{obj:u},null,8,["obj"])]))),256))])):s("",!0),y(D)(e.obj.RequiredReceivingDurabilities)?(n(),o("div",me,[r(a,{obj:e.obj.RequiredReceivingDurabilities,card:e.card},null,8,["obj","card"])])):s("",!0),(n(!0),o(d,null,c(e.obj.RequiredReceivingContainer.concat(e.obj.RequiredReceivingContainerTag),(u,q)=>(n(),o("div",null,[q==0?(n(),o("span",Ce,"需要容器：")):s("",!0),r(p,{obj:u},null,8,["obj"]),y(D)(e.obj.RequiredReceivingContainerDurabilities)?(n(),o("span",fe,[r(a,{obj:e.obj.RequiredReceivingContainerDurabilities,card:e.card},null,8,["obj","card"])])):s("",!0),e.obj.RequiredReceivingLiquidContent.IsActive&&(e.obj.RequiredReceivingLiquidContent.RequiredLiquid||e.obj.RequiredReceivingLiquidContent.RequiredGroup)?(n(),o("span",Re,[t[0]||(t[0]=m("span",null,"内部装有",-1)),r(p,{obj:e.obj.RequiredReceivingLiquidContent.RequiredLiquid},null,8,["obj"]),r(p,{obj:e.obj.RequiredReceivingLiquidContent.RequiredGroup},null,8,["obj"])])):s("",!0)]))),256))])]),e.obj.StatInterruptions.length>0?(n(),o("div",qe,[e.obj.StatModifications.length>0?(n(),f(b,{key:0,legend:"被中断",collapsed:"",toggleable:""},{default:j(()=>[(n(!0),o(d,null,c(e.obj.StatInterruptions,(u,q)=>(n(),o("div",null,[r(p,{obj:u.Stat},null,8,["obj"]),r(l,{obj:u.TriggerRange},null,8,["obj"]),m("div",null," ▫️ "+v(u.Notification.Text),1)]))),256))]),_:1})):s("",!0)])):s("",!0),e.obj.ReceivingCardChanges.ModType>0?(n(),o("div",ve,[t[1]||(t[1]=m("span",{class:"text-title"},"自身：",-1)),r(R,{obj:e.obj.ReceivingCardChanges,card:e.card},null,8,["obj","card"])])):s("",!0),e.obj.TravelToPreviousEnv?(n(),f(S,{key:2},{default:j(()=>t[2]||(t[2]=[g(" 回到前一地点 ")])),_:1})):s("",!0),e.obj.ReceivingCardFlavourBonus?(n(),f(S,{key:3,class:"text-flavour"},{default:j(()=>t[3]||(t[3]=[g(" 获得风味奖励 ")])),_:1})):s("",!0),e.obj.BlueprintsFullUnlock.length>0?(n(),o("div",ye,[t[4]||(t[4]=m("span",{class:"text-title"},"解锁蓝图：",-1)),(n(!0),o(d,null,c(e.obj.BlueprintsFullUnlock,(u,q)=>(n(),o("span",null,[q>0?(n(),o("span",he," / ")):s("",!0),r(p,{obj:u},null,8,["obj"])]))),256))])):s("",!0),e.obj.StatModifications.length>0||e.obj.InterpolatedStatModifications.length>0?(n(),f(b,{key:5,legend:"状态变化"},{default:j(()=>[(n(!0),o(d,null,c(e.obj.StatModifications,(u,q)=>(n(),o("span",De,[r(E,{obj:u},null,8,["obj"])]))),256)),(n(!0),o(d,null,c(e.obj.InterpolatedStatModifications,(u,q)=>(n(),o("div",null,[r(N,{obj:u,card:e.card,joiner:"时"},{default:j(()=>[r(p,{obj:u.OutputStat},null,8,["obj"])]),_:2},1032,["obj","card"])]))),256))]),_:1})):s("",!0),e.obj.ExtraDurabilityModifications.length>0?(n(),f(b,{key:6,legend:"属性修改"},{default:j(()=>[(n(!0),o(d,null,c(e.obj.ExtraDurabilityModifications,(u,q)=>(n(),o("div",null,[r(G,{obj:u},null,8,["obj"])]))),256))]),_:1})):s("",!0),e.isTraveling&&e.obj.ProducedCards.length==1&&(($=(T=e.obj.ProducedCards[0])==null?void 0:T.DroppedCards)==null?void 0:$.length)==1?(n(),o("div",Se,[t[5]||(t[5]=g(" 移动至： ")),r(p,{obj:(V=(A=e.obj.ProducedCards[0].DroppedCards[0])==null?void 0:A.DroppedCard)==null?void 0:V.envPlaceCard},null,8,["obj"]),t[6]||(t[6]=g(" (")),r(p,{obj:(B=e.obj.ProducedCards[0].DroppedCards[0])==null?void 0:B.DroppedCard},null,8,["obj"]),t[7]||(t[7]=g(") "))])):(n(),o(d,{key:8},[e.obj.ProducedCards.length>0?(n(),f(b,{key:0,legend:"掉落",toggleable:e.obj.ProducedCards.length>4||((M=(O=e.obj.ProducedCards[0])==null?void 0:O.DroppedCards)==null?void 0:M.length)>4,collapsed:e.obj.ProducedCards.length>4||((L=(I=e.obj.ProducedCards[0])==null?void 0:I.DroppedCards)==null?void 0:L.length)>4},{default:j(()=>[e.obj.ProducedCards.length==1?(n(),o("div",ke,[r(P,{obj:e.obj.ProducedCards[0],card:e.card,simplfy:!0},null,8,["obj","card"])])):(n(!0),o(d,{key:1},c(e.obj.ProducedCards,u=>(n(),o("span",null,[r(P,{obj:u,card:e.card},null,8,["obj","card"])]))),256))]),_:1},8,["toggleable","collapsed"])):s("",!0)],64))],64)}}}),Te=Object.assign(Pe,{__name:"CardActionContent"}),$e={class:"mr-2"},Ae={class:"text-xs"},Ve=h({__name:"CardAction",props:{obj:{},card:{},namePrefix:{},icon:{}},setup(i){return(e,t)=>{const _=k,C=Te,a=ee;return n(),f(a,null,{title:j(()=>[m("span",$e,v(e.namePrefix??"")+v(e.obj.ActionName.Text),1),m("span",Ae,[e.obj.DaytimeCost>0?(n(),f(ne,{key:0,class:"primitive",tp:e.obj.DaytimeCost},null,8,["tp"])):s("",!0),(n(!0),o(d,null,c(e.obj.ActionTags,(p,l)=>(n(),o("span",null,[t[0]||(t[0]=g(" / ")),r(_,{obj:p},{default:j(()=>[g(v(p.name),1)]),_:2},1032,["obj"])]))),256))])]),content:j(()=>[F(e.$slots,"default"),r(C,{obj:e.obj,card:e.card,"is-traveling":e.obj.HasExplorationDirection},null,8,["obj","card","is-traveling"])]),_:3})}}}),Ke=Object.assign(Ve,{__name:"CardAction"});export{Ke as _,Te as a,ie as b,D as i};
