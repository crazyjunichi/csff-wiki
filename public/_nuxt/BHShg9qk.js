import{_ as k}from"./Dmdp46Ac.js";import{_ as S}from"./BgwrAg6A.js";import{_ as f}from"./SpYVb7bQ.js";import{_ as p}from"./Co6TFHP5.js";import{_ as v}from"./uA8ZFVni.js";import{f as C,c as o,o as n,a,j as l,t as m,d as r,b as s,F as d,r as j,i as h,k as O}from"./DMc1YXG1.js";function w(u,e){return e?[{durability:e.SpoilageTime,weight:u.Spoilage},{durability:e.UsageDurability,weight:u.Usage},{durability:e.FuelCapacity,weight:u.Fuel},{durability:e.Progress,weight:u.Progress},{durability:e.SpecialDurability1,weight:u.Special1},{durability:e.SpecialDurability2,weight:u.Special2},{durability:e.SpecialDurability3,weight:u.Special3},{durability:e.SpecialDurability4,weight:u.Special4}].filter(i=>i.weight.Active):[]}const x={class:"flex my-1"},R={key:0,class:"bg-current/5 rounded-xl p-2 mr-2 w-22"},B={class:"text-2xl font-bold text-center"},D={key:0},W={key:0},c={key:1,class:"text-xs text-current/50"},N={key:2,class:"flex my-1"},I={key:0,class:"bg-current/5 rounded-xl p-2 mr-2 w-22"},L={key:3,class:"text-sm"},A={key:0},E={key:4},q={class:"text-sm"},P={key:0,class:"has-text-weight-bold"},T={key:1},F={key:0,class:"has-text-weight-bold"},V={key:1},H={class:"textDurability"},U={key:0,class:"has-text-weight-bold"},G={key:1},Q=C({__name:"CardsDropCollection",props:{obj:{},card:{},simplfy:{type:Boolean}},setup(u){return(e,i)=>{const b=k,_=S;return n(),o("div",null,[a("div",x,[e.simplfy?l("",!0):(n(),o("div",R,[i[0]||(i[0]=a("div",{class:"text-xs text-center"},"基础权重",-1)),a("div",B,m(e.obj.CollectionWeight),1)])),a("div",null,[e.obj.DroppedEncounter?(n(),o("div",D,[i[3]||(i[3]=r(" 触发战斗：")),s(b,{obj:e.obj.DroppedEncounter},null,8,["obj"]),e.obj.EncounterNPC?(n(),o("span",W,[i[1]||(i[1]=r(" (")),s(b,{obj:e.obj.EncounterNPC},null,8,["obj"]),i[2]||(i[2]=r(") "))])):l("",!0)])):l("",!0),e.simplfy?l("",!0):(n(),o("div",c,m(e.obj.CollectionName),1)),e.obj.DroppedCards.filter(t=>!t.DropChance.Active).length>0?(n(),o("div",N,[e.obj.DroppedCards.filter(t=>t.DropChance.Active).length>0?(n(),o("div",I,i[4]||(i[4]=[a("div",{class:"text-sm font-bold text-center"},"固定掉落",-1)]))):l("",!0),a("div",null,[(n(!0),o(d,null,j(e.obj.DroppedCards.filter(t=>!t.DropChance.Active),(t,g)=>(n(),o("span",null,[s(_,{obj:t,card:e.card},null,8,["obj","card"])]))),256))])])):l("",!0),(n(!0),o(d,null,j(e.obj.DroppedCards.filter(t=>!!t.DropChance.Active),(t,g)=>(n(),o("span",null,[s(_,{obj:t,card:e.card},null,8,["obj","card"])]))),256)),e.obj.StatModifications.length>0?(n(),o("div",L,[a("span",null,[(n(!0),o(d,null,j(e.obj.StatModifications,(t,g)=>(n(),o(d,null,[s(f,{obj:t},null,8,["obj"]),g<e.obj.StatModifications.length-1?(n(),o("span",A,", ")):l("",!0)],64))),256))])])):l("",!0),e.obj.CreatedLiquid.LiquidCard?(n(),o("div",E,[s(b,{obj:e.obj.CreatedLiquid.LiquidCard},null,8,["obj"]),s(p,{obj:e.obj.CreatedLiquid.Quantity,sign:!0},null,8,["obj"])])):l("",!0),a("div",q,[e.obj.StatsDropChanceModifiers.length>0?(n(!0),o(d,{key:0},j(e.obj.StatsDropChanceModifiers,(t,g)=>(n(),o("div",null,[s(b,{obj:t.Stat},null,8,["obj"]),i[5]||(i[5]=r("为 ")),s(p,{obj:t.StatRange},null,8,["obj"]),i[6]||(i[6]=r(" 时权重 ")),t.WhenOutOfRange==1?(n(),o("span",P,"限定为")):l("",!0),s(p,{obj:t.InterpWeightRange,sign:!0},null,8,["obj"]),t.WhenOutOfRange==2?(n(),o("span",T,",否则取消")):l("",!0)]))),256)):l("",!0),e.obj.CardDropChanceModifiers.length>0?(n(!0),o(d,{key:1},j(e.obj.CardDropChanceModifiers,(t,g)=>(n(),o("div",null,[t.CardOnBoard?(n(),h(b,{key:0,obj:t.CardOnBoard},null,8,["obj"])):l("",!0),t.TagOnBoard?(n(),h(b,{key:1,obj:t.TagOnBoard},null,8,["obj"])):l("",!0),r(" "+m(t.OnlyInHand?"在手上":t.NotInHand?"不在手上":t.OnlyInInventory?"在其中":t.ExcludeInventory?"不在其中":"在场上")+" 时权重",1),s(v,{number:t.MaxWeightPerCard},null,8,["number"]),r(" "+m(t.MultiplyByStacks?"(可叠加)":"")+" ",1),(n(!0),o(d,null,j(t.AddedStatModifiers,(y,z)=>(n(),o("div",null,[s(b,{obj:y.Stat},null,8,["obj"]),i[7]||(i[7]=r("为 ")),s(p,{obj:y.StatRange},null,8,["obj"]),i[8]||(i[8]=r(" 时权重 ")),y.WhenOutOfRange==1?(n(),o("span",F,"限定为")):l("",!0),s(p,{obj:y.InterpWeightRange,sign:!0},null,8,["obj"]),y.WhenOutOfRange==2?(n(),o("span",V,",否则取消")):l("",!0)]))),256))]))),256)):l("",!0),(n(!0),o(d,null,j(O(w)(e.obj.DurabilitiesDropChanceModifier,e.card),t=>(n(),o("div",null,[a("span",H,m(t.durability.CardStatName.Text),1),s(p,{obj:t.weight.DurabilityRange},null,8,["obj"]),i[9]||(i[9]=r(" 时权重 ")),t.weight.WhenOutOfRange==1?(n(),o("span",U,"限定为")):l("",!0),s(p,{obj:t.weight.InterpWeightRange,sign:!0},null,8,["obj"]),t.weight.WhenOutOfRange==2?(n(),o("span",G,",否则取消")):l("",!0)]))),256))])])])])}}}),M=Object.assign(Q,{__name:"CardsDropCollection"});export{M as _};
